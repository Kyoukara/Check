-- Obfuscated by FLYCER OBFUSCATOR
-- https://flycer-obfuscator.com
-- Premium Lua Protection

local _x="01110111010110001100100101000010110000000011001110111100010110111000001011001100101101001000110011111011100110110110"
local _n="[FLYCER][FLYCER][FLYCER][FLYCER][FLYCER][FLYCER][FLYCER][FLYCER][FLYCER][FLYCER][FLYCER][FLYCER][FLYCER][FLYCER][FLYCER][FLYCER][FLYCER][FLYCER][FLYCER][FLYCER][FLYCER][FLYCER][FLYCER][FLYCER][FLYCER][FLYCER][FLYCER][FLYCER]"
local _h="7109e2d34b86a442a431a39bdc93c38975ca3d9833bcccce17ffcf53f78665d4"
local _k="39d531408654dd48dfb13839b37d52b78a8af6547f238ee0"
local _z="5b0b8a0cdfef98dff27d8f83fa0a849d"

-- [FLYCER PROTECTED CODE]
local function _FLYCER_DECODE(str)
    local b='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
    str = string.gsub(str, '[^'..b..'=]', '')
    return (str:gsub('.', function(x)
        if (x == '=') then return '' end
        local r,f='',(b:find(x)-1)
        for i=6,1,-1 do r=r..(f%2^i-f%2^(i-1)>0 and '1' or '0') end
        return r;
    end):gsub('%d%d%d?%d?%d?%d?%d?%d?', function(x)
        if (#x ~= 8) then return '' end
        local c=0
        for i=1,8 do c=c+(x:sub(i,i)=='1' and 2^(8-i) or 0) end
        return string.char(c)
    end))
end

local _FLYCER_DATA = "LS0gU2VydmljZXMKbG9jYWwgUHJveGltaXR5UHJvbXB0U2VydmljZSA9IGdhbWU6R2V0U2VydmljZSgiUHJveGltaXR5UHJvbXB0U2VydmljZSIpCmxvY2FsIFZpcnR1YWxJbnB1dE1hbmFnZXIgPSBnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxJbnB1dE1hbmFnZXIiKQpsb2NhbCBSZXBsaWNhdGVkU3RvcmFnZSA9IGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKQpsb2NhbCBVc2VySW5wdXRTZXJ2aWNlID0gZ2FtZTpHZXRTZXJ2aWNlKCJVc2VySW5wdXRTZXJ2aWNlIikKbG9jYWwgVHdlZW5TZXJ2aWNlID0gZ2FtZTpHZXRTZXJ2aWNlKCJUd2VlblNlcnZpY2UiKQpsb2NhbCBUZXh0U2VydmljZSA9IGdhbWU6R2V0U2VydmljZSgiVGV4dFNlcnZpY2UiKQpsb2NhbCBXb3Jrc3BhY2UgPSBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpCmxvY2FsIFJ1blNlcnZpY2UgPSBnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKQpsb2NhbCBDb3JlR3VpID0gZ2FtZTpHZXRTZXJ2aWNlKCJDb3JlR3VpIikKbG9jYWwgUGxheWVycyA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpCgpsb2NhbCBDYW1lcmEgPSB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYQpsb2NhbCBMb2NhbFBsYXllciA9IFBsYXllcnMuTG9jYWxQbGF5ZXIKbG9jYWwgV29ya3NwYWNlU2VydmljZSA9IHdvcmtzcGFjZQpsb2NhbCBQbGF5ZXIgPSBQbGF5ZXJzLkxvY2FsUGxheWVyCgpsb2NhbCBQbGF5ZXJHdWkgPSBMb2NhbFBsYXllcjpXYWl0Rm9yQ2hpbGQoIlBsYXllckd1aSIpCgotLSBERUxBWSBDT05GSUdVUkFUSU9OCmxvY2FsIElOSVRJQUxfREVMQVkgPSAyCmxvY2FsIFBPU1RfTE9BRElOR19ERUxBWSA9IDEKbG9jYWwgTE9BRElOR19EVVJBVElPTiA9IDMKCi0tIElOSVRJQUwgREVMQVkKdGFzay53YWl0KElOSVRJQUxfREVMQVkpCgotLSBGTFlDRVIgTE9BRElORyBTQ1JFRU4KbG9jYWwgZnVuY3Rpb24gQ3JlYXRlTG9hZGluZ1NjcmVlbigpCiAgICBsb2NhbCBJQ09OX0lEID0gInJieGFzc2V0aWQ6Ly84OTU1Nzg5ODQ1Nzk3NyIKCiAgICBsb2NhbCBUSEVNRSA9IHsKICAgICAgICBCYWNrZ3JvdW5kID0gQ29sb3IzLmZyb21SR0IoMTAsIDUsIDE1KSwKICAgICAgICBQcmltYXJ5ID0gQ29sb3IzLmZyb21SR0IoODAsIDEyMCwgMjU1KSwKICAgICAgICBTZWNvbmRhcnkgPSBDb2xvcjMuZnJvbVJHQigxNTAsIDEwMCwgMjU1KSwKICAgICAgICBBY2NlbnQgPSBDb2xvcjMuZnJvbVJHQigxMDAsIDIwMCwgMjU1KSwKICAgICAgICBUZXh0ID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSksCiAgICAgICAgU3ViVGV4dCA9IENvbG9yMy5mcm9tUkdCKDE4MCwgMTgwLCAyMDApCiAgICB9CgogICAgLS0gTE9BRElORyBCQVIgR1JBRElFTlQgQ09MT1JTCiAgICBsb2NhbCBMb2FkaW5nQmFyQ29sb3IxID0gQ29sb3IzLmZyb21SR0IoMCwgMjAwLCAyNTUpIC0tIEN5YW4KICAgIGxvY2FsIExvYWRpbmdCYXJDb2xvcjIgPSBDb2xvcjMuZnJvbVJHQigxMDAsIDAsIDI1NSkgLS0gUHVycGxlCgogICAgbG9jYWwgbG9hZGluZ1BhcmVudAogICAgcGNhbGwoCiAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICBpZiBzeW4gYW5kIHN5bi5wcm90ZWN0X2d1aSB0aGVuCiAgICAgICAgICAgICAgICBsb2FkaW5nUGFyZW50ID0gQ29yZUd1aQogICAgICAgICAgICBlbHNlaWYgZ2V0X2hpZGRlbl91aSB0aGVuCiAgICAgICAgICAgICAgICBsb2FkaW5nUGFyZW50ID0gZ2V0X2hpZGRlbl91aSgpCiAgICAgICAgICAgIGVsc2VpZiBnZXRodWkgdGhlbgogICAgICAgICAgICAgICAgbG9hZGluZ1BhcmVudCA9IGdldGh1aSgpCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGxvYWRpbmdQYXJlbnQgPSBDb3JlR3VpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgKQogICAgbG9hZGluZ1BhcmVudCA9IGxvYWRpbmdQYXJlbnQgb3IgQ29yZUd1aQoKICAgIHBjYWxsKAogICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgbG9jYWwgb2xkTG9hZGluZyA9IGxvYWRpbmdQYXJlbnQ6RmluZEZpcnN0Q2hpbGQoIkZseWNlckxvYWRpbmdTY3JlZW4iKQogICAgICAgICAgICBpZiBvbGRMb2FkaW5nIHRoZW4KICAgICAgICAgICAgICAgIG9sZExvYWRpbmc6RGVzdHJveSgpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgKQoKICAgIGxvY2FsIExvYWRpbmdHdWkgPSBJbnN0YW5jZS5uZXcoIlNjcmVlbkd1aSIpCiAgICBMb2FkaW5nR3VpLk5hbWUgPSAiRmx5Y2VyTG9hZGluZ1NjcmVlbiIKICAgIExvYWRpbmdHdWkuUmVzZXRPblNwYXduID0gZmFsc2UKICAgIExvYWRpbmdHdWkuSWdub3JlR3VpSW5zZXQgPSB0cnVlCiAgICBMb2FkaW5nR3VpLkRpc3BsYXlPcmRlciA9IDk5OTk5CiAgICBMb2FkaW5nR3VpLlpJbmRleEJlaGF2aW9yID0gRW51bS5aSW5kZXhCZWhhdmlvci5TaWJsaW5nCgogICAgcGNhbGwoCiAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICBpZiBzeW4gYW5kIHN5bi5wcm90ZWN0X2d1aSB0aGVuCiAgICAgICAgICAgICAgICBzeW4ucHJvdGVjdF9ndWkoTG9hZGluZ0d1aSkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICApCgogICAgTG9hZGluZ0d1aS5QYXJlbnQgPSBsb2FkaW5nUGFyZW50CgogICAgLS0gQkFDS0dST1VORAogICAgbG9jYWwgQmFja2dyb3VuZCA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQogICAgQmFja2dyb3VuZC5OYW1lID0gIkJhY2tncm91bmQiCiAgICBCYWNrZ3JvdW5kLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgIEJhY2tncm91bmQuQmFja2dyb3VuZENvbG9yMyA9IFRIRU1FLkJhY2tncm91bmQKICAgIEJhY2tncm91bmQuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgIEJhY2tncm91bmQuQm9yZGVyU2l6ZVBpeGVsID0gMAogICAgQmFja2dyb3VuZC5aSW5kZXggPSAxCiAgICBCYWNrZ3JvdW5kLlBhcmVudCA9IExvYWRpbmdHdWkKCiAgICBsb2NhbCBCZ0dyYWRpZW50ID0gSW5zdGFuY2UubmV3KCJVSUdyYWRpZW50IikKICAgIEJnR3JhZGllbnQuQ29sb3IgPQogICAgICAgIENvbG9yU2VxdWVuY2UubmV3KAogICAgICAgIHsKICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLCBDb2xvcjMuZnJvbVJHQigxNSwgNSwgMjUpKSwKICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLjUsIENvbG9yMy5mcm9tUkdCKDEwLCA1LCAxNSkpLAogICAgICAgICAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDEsIENvbG9yMy5mcm9tUkdCKDUsIDAsIDEwKSkKICAgICAgICB9CiAgICApCiAgICBCZ0dyYWRpZW50LlJvdGF0aW9uID0gNDUKICAgIEJnR3JhZGllbnQuUGFyZW50ID0gQmFja2dyb3VuZAoKICAgIC0tIENPTlRBSU5FUgogICAgbG9jYWwgQ29udGFpbmVyID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCiAgICBDb250YWluZXIuTmFtZSA9ICJDb250YWluZXIiCiAgICBDb250YWluZXIuU2l6ZSA9IFVEaW0yLm5ldygwLCAyMDAsIDAsIDIwMCkKICAgIENvbnRhaW5lci5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuNSwgMCkKICAgIENvbnRhaW5lci5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQogICAgQ29udGFpbmVyLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICBDb250YWluZXIuWkluZGV4ID0gMTAKICAgIENvbnRhaW5lci5QYXJlbnQgPSBMb2FkaW5nR3VpCgogICAgLS0gR0xPVyAoU1RBVElDKQogICAgbG9jYWwgT3V0ZXJHbG93ID0gSW5zdGFuY2UubmV3KCJJbWFnZUxhYmVsIikKICAgIE91dGVyR2xvdy5OYW1lID0gIk91dGVyR2xvdyIKICAgIE91dGVyR2xvdy5TaXplID0gVURpbTIubmV3KDAsIDI1MCwgMCwgMjUwKQogICAgT3V0ZXJHbG93LlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCAwKQogICAgT3V0ZXJHbG93LkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpCiAgICBPdXRlckdsb3cuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgIE91dGVyR2xvdy5JbWFnZUNvbG9yMyA9IFRIRU1FLlByaW1hcnkKICAgIE91dGVyR2xvdy5JbWFnZVRyYW5zcGFyZW5jeSA9IDEKICAgIE91dGVyR2xvdy5TY2FsZVR5cGUgPSBFbnVtLlNjYWxlVHlwZS5TbGljZQogICAgT3V0ZXJHbG93LlNsaWNlQ2VudGVyID0gUmVjdC5uZXcoMjMsIDIzLCAyNzcsIDI3NykKICAgIE91dGVyR2xvdy5aSW5kZXggPSA1CiAgICBPdXRlckdsb3cuUGFyZW50ID0gQ29udGFpbmVyCgogICAgLS0gSUNPTiBGUkFNRQogICAgbG9jYWwgSWNvbkZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCiAgICBJY29uRnJhbWUuTmFtZSA9ICJJY29uRnJhbWUiCiAgICBJY29uRnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygwLCAxMDAsIDAsIDEwMCkKICAgIEljb25GcmFtZS5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuNSwgMCkKICAgIEljb25GcmFtZS5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQogICAgSWNvbkZyYW1lLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyMCwgMTUsIDMwKQogICAgSWNvbkZyYW1lLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICBJY29uRnJhbWUuWkluZGV4ID0gMTAKICAgIEljb25GcmFtZS5QYXJlbnQgPSBDb250YWluZXIKCiAgICBsb2NhbCBJY29uRnJhbWVDb3JuZXIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIikKICAgIEljb25GcmFtZUNvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCAyMCkKICAgIEljb25GcmFtZUNvcm5lci5QYXJlbnQgPSBJY29uRnJhbWUKCiAgICBsb2NhbCBJY29uRnJhbWVTdHJva2UgPSBJbnN0YW5jZS5uZXcoIlVJU3Ryb2tlIikKICAgIEljb25GcmFtZVN0cm9rZS5Db2xvciA9IFRIRU1FLlByaW1hcnkKICAgIEljb25GcmFtZVN0cm9rZS5UaGlja25lc3MgPSAyCiAgICBJY29uRnJhbWVTdHJva2UuVHJhbnNwYXJlbmN5ID0gMQogICAgSWNvbkZyYW1lU3Ryb2tlLkFwcGx5U3Ryb2tlTW9kZSA9IEVudW0uQXBwbHlTdHJva2VNb2RlLkJvcmRlcgogICAgSWNvbkZyYW1lU3Ryb2tlLlBhcmVudCA9IEljb25GcmFtZQoKICAgIGxvY2FsIFN0cm9rZUdyYWRpZW50ID0gSW5zdGFuY2UubmV3KCJVSUdyYWRpZW50IikKICAgIFN0cm9rZUdyYWRpZW50LkNvbG9yID0KICAgICAgICBDb2xvclNlcXVlbmNlLm5ldygKICAgICAgICB7CiAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgVEhFTUUuUHJpbWFyeSksCiAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMC41LCBUSEVNRS5TZWNvbmRhcnkpLAogICAgICAgICAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDEsIFRIRU1FLkFjY2VudCkKICAgICAgICB9CiAgICApCiAgICBTdHJva2VHcmFkaWVudC5Sb3RhdGlvbiA9IDAKICAgIFN0cm9rZUdyYWRpZW50LlBhcmVudCA9IEljb25GcmFtZVN0cm9rZQoKICAgIC0tIE1BSU4gSUNPTgogICAgbG9jYWwgSWNvbiA9IEluc3RhbmNlLm5ldygiSW1hZ2VMYWJlbCIpCiAgICBJY29uLk5hbWUgPSAiSWNvbiIKICAgIEljb24uU2l6ZSA9IFVEaW0yLm5ldygwLCA3MCwgMCwgNzApCiAgICBJY29uLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCAwKQogICAgSWNvbi5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQogICAgSWNvbi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgSWNvbi5JbWFnZSA9IElDT05fSUQKICAgIEljb24uSW1hZ2VDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQogICAgSWNvbi5JbWFnZVRyYW5zcGFyZW5jeSA9IDEKICAgIEljb24uWkluZGV4ID0gMTUKICAgIEljb24uUGFyZW50ID0gSWNvbkZyYW1lCgogICAgLS0gUEFSVElDTEVTIENPTlRBSU5FUgogICAgbG9jYWwgUGFydGljbGVDb250YWluZXIgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKICAgIFBhcnRpY2xlQ29udGFpbmVyLk5hbWUgPSAiUGFydGljbGVzIgogICAgUGFydGljbGVDb250YWluZXIuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQogICAgUGFydGljbGVDb250YWluZXIuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgIFBhcnRpY2xlQ29udGFpbmVyLlpJbmRleCA9IDMKICAgIFBhcnRpY2xlQ29udGFpbmVyLlBhcmVudCA9IExvYWRpbmdHdWkKCiAgICAtLSBMT0FESU5HIFRFWFQKICAgIGxvY2FsIExvYWRpbmdUZXh0ID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQogICAgTG9hZGluZ1RleHQuTmFtZSA9ICJMb2FkaW5nVGV4dCIKICAgIExvYWRpbmdUZXh0LlNpemUgPSBVRGltMi5uZXcoMCwgMjAwLCAwLCAzMCkKICAgIExvYWRpbmdUZXh0LlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCA5MCkKICAgIExvYWRpbmdUZXh0LkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwKQogICAgTG9hZGluZ1RleHQuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgIExvYWRpbmdUZXh0LlRleHQgPSAiTG9hZGluZy4uLiIKICAgIExvYWRpbmdUZXh0LlRleHRDb2xvcjMgPSBUSEVNRS5UZXh0CiAgICBMb2FkaW5nVGV4dC5Gb250ID0gRW51bS5Gb250LkdvdGhhbUJvbGQKICAgIExvYWRpbmdUZXh0LlRleHRTaXplID0gMTYKICAgIExvYWRpbmdUZXh0LlRleHRUcmFuc3BhcmVuY3kgPSAxCiAgICBMb2FkaW5nVGV4dC5aSW5kZXggPSAyMAogICAgTG9hZGluZ1RleHQuUGFyZW50ID0gTG9hZGluZ0d1aQoKICAgIC0tIExPQURJTkcgQkFSIEJHCiAgICBsb2NhbCBMb2FkaW5nQmFyQmcgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKICAgIExvYWRpbmdCYXJCZy5OYW1lID0gIkxvYWRpbmdCYXJCZyIKICAgIExvYWRpbmdCYXJCZy5TaXplID0gVURpbTIubmV3KDAsIDE4MCwgMCwgNCkKICAgIExvYWRpbmdCYXJCZy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuNSwgMTIwKQogICAgTG9hZGluZ0JhckJnLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwKQogICAgTG9hZGluZ0JhckJnLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig0MCwgMzAsIDYwKQogICAgTG9hZGluZ0JhckJnLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICBMb2FkaW5nQmFyQmcuQm9yZGVyU2l6ZVBpeGVsID0gMAogICAgTG9hZGluZ0JhckJnLlpJbmRleCA9IDIwCiAgICBMb2FkaW5nQmFyQmcuQ2xpcHNEZXNjZW5kYW50cyA9IHRydWUKICAgIExvYWRpbmdCYXJCZy5QYXJlbnQgPSBMb2FkaW5nR3VpCgogICAgbG9jYWwgTG9hZGluZ0JhckNvcm5lciA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiKQogICAgTG9hZGluZ0JhckNvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygxLCAwKQogICAgTG9hZGluZ0JhckNvcm5lci5QYXJlbnQgPSBMb2FkaW5nQmFyQmcKCiAgICAtLSBMT0FESU5HIEJBUiBGSUxMCiAgICBsb2NhbCBMb2FkaW5nQmFyID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCiAgICBMb2FkaW5nQmFyLk5hbWUgPSAiTG9hZGluZ0JhciIKICAgIExvYWRpbmdCYXIuU2l6ZSA9IFVEaW0yLm5ldygwLCAwLCAxLCAwKQogICAgTG9hZGluZ0Jhci5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKICAgIExvYWRpbmdCYXIuQm9yZGVyU2l6ZVBpeGVsID0gMAogICAgTG9hZGluZ0Jhci5aSW5kZXggPSAyMQogICAgTG9hZGluZ0Jhci5QYXJlbnQgPSBMb2FkaW5nQmFyQmcKCiAgICBsb2NhbCBMb2FkaW5nQmFyRmlsbENvcm5lciA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiKQogICAgTG9hZGluZ0JhckZpbGxDb3JuZXIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMSwgMCkKICAgIExvYWRpbmdCYXJGaWxsQ29ybmVyLlBhcmVudCA9IExvYWRpbmdCYXIKCiAgICAtLSBMT0FESU5HIEJBUiBHUkFESUVOVCAoU1RBVElDIC0gVElEQUsgQkVSUFVUQVIpCiAgICBsb2NhbCBMb2FkaW5nQmFyR3JhZGllbnQgPSBJbnN0YW5jZS5uZXcoIlVJR3JhZGllbnQiKQogICAgTG9hZGluZ0JhckdyYWRpZW50LkNvbG9yID0KICAgICAgICBDb2xvclNlcXVlbmNlLm5ldygKICAgICAgICB7CiAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgTG9hZGluZ0JhckNvbG9yMSksCiAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMSwgTG9hZGluZ0JhckNvbG9yMikKICAgICAgICB9CiAgICApCiAgICBMb2FkaW5nQmFyR3JhZGllbnQuUm90YXRpb24gPSAwCiAgICBMb2FkaW5nQmFyR3JhZGllbnQuUGFyZW50ID0gTG9hZGluZ0JhcgoKICAgIC0tIFNUQVRVUyBURVhUCiAgICBsb2NhbCBTdGF0dXNUZXh0ID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQogICAgU3RhdHVzVGV4dC5OYW1lID0gIlN0YXR1c1RleHQiCiAgICBTdGF0dXNUZXh0LlNpemUgPSBVRGltMi5uZXcoMCwgMjAwLCAwLCAyMCkKICAgIFN0YXR1c1RleHQuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjUsIDEzMCkKICAgIFN0YXR1c1RleHQuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDApCiAgICBTdGF0dXNUZXh0LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICBTdGF0dXNUZXh0LlRleHQgPSAiSW5pdGlhbGl6aW5nLi4uIgogICAgU3RhdHVzVGV4dC5UZXh0Q29sb3IzID0gVEhFTUUuU3ViVGV4dAogICAgU3RhdHVzVGV4dC5Gb250ID0gRW51bS5Gb250LkdvdGhhbQogICAgU3RhdHVzVGV4dC5UZXh0U2l6ZSA9IDEyCiAgICBTdGF0dXNUZXh0LlRleHRUcmFuc3BhcmVuY3kgPSAxCiAgICBTdGF0dXNUZXh0LlpJbmRleCA9IDIwCiAgICBTdGF0dXNUZXh0LlBhcmVudCA9IExvYWRpbmdHdWkKCiAgICAtLSBQQVJUSUNMRSBGVU5DVElPTgogICAgbG9jYWwgZnVuY3Rpb24gY3JlYXRlUGFydGljbGUoKQogICAgICAgIGxvY2FsIHBhcnRpY2xlID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCiAgICAgICAgcGFydGljbGUuU2l6ZSA9IFVEaW0yLm5ldygwLCBtYXRoLnJhbmRvbSgyLCA1KSwgMCwgbWF0aC5yYW5kb20oMiwgNSkpCiAgICAgICAgcGFydGljbGUuUG9zaXRpb24gPSBVRGltMi5uZXcobWF0aC5yYW5kb20oKSAqIDAuOCArIDAuMSwgMCwgMS4xLCAwKQogICAgICAgIHBhcnRpY2xlLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQihtYXRoLnJhbmRvbSg4MCwgMTUwKSwgbWF0aC5yYW5kb20oMTAwLCAyMDApLCBtYXRoLnJhbmRvbSgyMDAsIDI1NSkpCiAgICAgICAgcGFydGljbGUuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IG1hdGgucmFuZG9tKCkgKiAwLjMKICAgICAgICBwYXJ0aWNsZS5Cb3JkZXJTaXplUGl4ZWwgPSAwCiAgICAgICAgcGFydGljbGUuWkluZGV4ID0gMgogICAgICAgIHBhcnRpY2xlLlBhcmVudCA9IFBhcnRpY2xlQ29udGFpbmVyCgogICAgICAgIGxvY2FsIHBDb3JuZXIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIikKICAgICAgICBwQ29ybmVyLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDEsIDApCiAgICAgICAgcENvcm5lci5QYXJlbnQgPSBwYXJ0aWNsZQoKICAgICAgICBsb2NhbCBkdXJhdGlvbiA9IG1hdGgucmFuZG9tKDIwLCA0MCkgLyAxMAogICAgICAgIGxvY2FsIHRhcmdldFggPSBwYXJ0aWNsZS5Qb3NpdGlvbi5YLlNjYWxlICsgKG1hdGgucmFuZG9tKCkgLSAwLjUpICogMC4yCgogICAgICAgIFR3ZWVuU2VydmljZTpDcmVhdGUoCiAgICAgICAgICAgIHBhcnRpY2xlLAogICAgICAgICAgICBUd2VlbkluZm8ubmV3KGR1cmF0aW9uLCBFbnVtLkVhc2luZ1N0eWxlLkxpbmVhciksCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFBvc2l0aW9uID0gVURpbTIubmV3KHRhcmdldFgsIDAsIC0wLjEsIDApLAogICAgICAgICAgICAgICAgQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgfQogICAgICAgICk6UGxheSgpCgogICAgICAgIHRhc2suZGVsYXkoCiAgICAgICAgICAgIGR1cmF0aW9uLAogICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBwYXJ0aWNsZSBhbmQgcGFydGljbGUuUGFyZW50IHRoZW4KICAgICAgICAgICAgICAgICAgICBwYXJ0aWNsZTpEZXN0cm95KCkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICApCiAgICBlbmQKCiAgICAtLSBTVEFUVVMgTUVTU0FHRVMKICAgIGxvY2FsIHN0YXR1c01lc3NhZ2VzID0gewogICAgICAgIHswLjAsICJJbml0aWFsaXppbmcuLi4ifSwKICAgICAgICB7MC4xNSwgIkxvYWRpbmcgU2VydmljZXMuLi4ifSwKICAgICAgICB7MC4zMCwgIlByZXBhcmluZyBVSS4uLiJ9LAogICAgICAgIHswLjUwLCAiTG9hZGluZyBDb21wb25lbnRzLi4uIn0sCiAgICAgICAgezAuNzAsICJBbG1vc3QgUmVhZHkuLi4ifSwKICAgICAgICB7MC45MCwgIkZpbmFsaXppbmcuLi4ifSwKICAgICAgICB7MS4wLCAiQ29tcGxldGUhIn0KICAgIH0KCiAgICBsb2NhbCBmdW5jdGlvbiB1cGRhdGVTdGF0dXMocHJvZ3Jlc3MpCiAgICAgICAgZm9yIGkgPSAjc3RhdHVzTWVzc2FnZXMsIDEsIC0xIGRvCiAgICAgICAgICAgIGlmIHByb2dyZXNzID49IHN0YXR1c01lc3NhZ2VzW2ldWzFdIHRoZW4KICAgICAgICAgICAgICAgIFN0YXR1c1RleHQuVGV4dCA9IHN0YXR1c01lc3NhZ2VzW2ldWzJdCiAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAoKICAgIGxvY2FsIGFuaW1hdGlvbkNvbXBsZXRlID0gZmFsc2UKICAgIGxvY2FsIHN0b3BQYXJ0aWNsZXMgPSBmYWxzZQoKICAgIHRhc2suc3Bhd24oCiAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAtLSBFTlRFUjogQmFja2dyb3VuZCBmYWRlIGluCiAgICAgICAgICAgIFR3ZWVuU2VydmljZTpDcmVhdGUoCiAgICAgICAgICAgICAgICBCYWNrZ3JvdW5kLAogICAgICAgICAgICAgICAgVHdlZW5JbmZvLm5ldygwLjMsIEVudW0uRWFzaW5nU3R5bGUuUXVhZCksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKTpQbGF5KCkKICAgICAgICAgICAgdGFzay53YWl0KDAuMikKCiAgICAgICAgICAgIC0tIEVOVEVSOiBJY29uIGZyYW1lIHNjYWxlIGluCiAgICAgICAgICAgIEljb25GcmFtZS5TaXplID0gVURpbTIubmV3KDAsIDAsIDAsIDApCiAgICAgICAgICAgIEljb25GcmFtZS5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMAoKICAgICAgICAgICAgVHdlZW5TZXJ2aWNlOkNyZWF0ZSgKICAgICAgICAgICAgICAgIEljb25GcmFtZSwKICAgICAgICAgICAgICAgIFR3ZWVuSW5mby5uZXcoMC41LCBFbnVtLkVhc2luZ1N0eWxlLkJhY2ssIEVudW0uRWFzaW5nRGlyZWN0aW9uLk91dCksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgU2l6ZSA9IFVEaW0yLm5ldygwLCAxMDAsIDAsIDEwMCksCiAgICAgICAgICAgICAgICAgICAgQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAuMwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICApOlBsYXkoKQoKICAgICAgICAgICAgVHdlZW5TZXJ2aWNlOkNyZWF0ZSgKICAgICAgICAgICAgICAgIEljb25GcmFtZVN0cm9rZSwKICAgICAgICAgICAgICAgIFR3ZWVuSW5mby5uZXcoMC41LCBFbnVtLkVhc2luZ1N0eWxlLlF1YWQpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFRyYW5zcGFyZW5jeSA9IDAuMwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICApOlBsYXkoKQoKICAgICAgICAgICAgdGFzay53YWl0KDAuMykKCiAgICAgICAgICAgIC0tIEVOVEVSOiBJY29uIGJvdW5jZSBpbgogICAgICAgICAgICBJY29uLlNpemUgPSBVRGltMi5uZXcoMCwgNDAsIDAsIDQwKQogICAgICAgICAgICBUd2VlblNlcnZpY2U6Q3JlYXRlKAogICAgICAgICAgICAgICAgSWNvbiwKICAgICAgICAgICAgICAgIFR3ZWVuSW5mby5uZXcoMC40LCBFbnVtLkVhc2luZ1N0eWxlLkJhY2ssIEVudW0uRWFzaW5nRGlyZWN0aW9uLk91dCksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgSW1hZ2VUcmFuc3BhcmVuY3kgPSAwLAogICAgICAgICAgICAgICAgICAgIFNpemUgPSBVRGltMi5uZXcoMCwgNzAsIDAsIDcwKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICApOlBsYXkoKQoKICAgICAgICAgICAgLS0gRU5URVI6IEdsb3cgZmFkZSBpbiAoc3RhdGljKQogICAgICAgICAgICBUd2VlblNlcnZpY2U6Q3JlYXRlKAogICAgICAgICAgICAgICAgT3V0ZXJHbG93LAogICAgICAgICAgICAgICAgVHdlZW5JbmZvLm5ldygwLjUsIEVudW0uRWFzaW5nU3R5bGUuUXVhZCksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgSW1hZ2VUcmFuc3BhcmVuY3kgPSAwLjUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKTpQbGF5KCkKCiAgICAgICAgICAgIHRhc2sud2FpdCgwLjIpCgogICAgICAgICAgICAtLSBFTlRFUjogVGV4dCBkYW4gbG9hZGluZyBiYXIKICAgICAgICAgICAgVHdlZW5TZXJ2aWNlOkNyZWF0ZSgKICAgICAgICAgICAgICAgIExvYWRpbmdUZXh0LAogICAgICAgICAgICAgICAgVHdlZW5JbmZvLm5ldygwLjMsIEVudW0uRWFzaW5nU3R5bGUuUXVhZCksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgVGV4dFRyYW5zcGFyZW5jeSA9IDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKTpQbGF5KCkKCiAgICAgICAgICAgIFR3ZWVuU2VydmljZTpDcmVhdGUoCiAgICAgICAgICAgICAgICBMb2FkaW5nQmFyQmcsCiAgICAgICAgICAgICAgICBUd2VlbkluZm8ubmV3KDAuMywgRW51bS5FYXNpbmdTdHlsZS5RdWFkKSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC41CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICk6UGxheSgpCgogICAgICAgICAgICBUd2VlblNlcnZpY2U6Q3JlYXRlKAogICAgICAgICAgICAgICAgU3RhdHVzVGV4dCwKICAgICAgICAgICAgICAgIFR3ZWVuSW5mby5uZXcoMC4zLCBFbnVtLkVhc2luZ1N0eWxlLlF1YWQpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFRleHRUcmFuc3BhcmVuY3kgPSAwLjMKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKTpQbGF5KCkKCiAgICAgICAgICAgIC0tIEFOSU1BVElPTjogU3Ryb2tlIGdyYWRpZW50IHJvdGF0aW9uIG9ubHkKICAgICAgICAgICAgdGFzay5zcGF3bigKICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICBsb2NhbCBncmFkaWVudFJvdGF0aW9uID0gMAogICAgICAgICAgICAgICAgICAgIHdoaWxlIExvYWRpbmdHdWkuUGFyZW50IGFuZCBub3QgYW5pbWF0aW9uQ29tcGxldGUgZG8KICAgICAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnRSb3RhdGlvbiA9IGdyYWRpZW50Um90YXRpb24gKyAzCiAgICAgICAgICAgICAgICAgICAgICAgIFN0cm9rZUdyYWRpZW50LlJvdGF0aW9uID0gZ3JhZGllbnRSb3RhdGlvbgogICAgICAgICAgICAgICAgICAgICAgICAtLSBMb2FkaW5nIGJhciBncmFkaWVudCBUSURBSyBkaXJvdGFzaQogICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICkKCiAgICAgICAgICAgIC0tIEFOSU1BVElPTjogUGFydGljbGVzCiAgICAgICAgICAgIHRhc2suc3Bhd24oCiAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgd2hpbGUgTG9hZGluZ0d1aS5QYXJlbnQgYW5kIG5vdCBzdG9wUGFydGljbGVzIGRvCiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVBhcnRpY2xlKCkKICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KDAuMSkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICApCgogICAgICAgICAgICAtLSBMT0FESU5HOiBQcm9ncmVzcyBiYXIKICAgICAgICAgICAgbG9jYWwgc3RhcnRUaW1lID0gdGljaygpCiAgICAgICAgICAgIHdoaWxlICh0aWNrKCkgLSBzdGFydFRpbWUpIDwgTE9BRElOR19EVVJBVElPTiBkbwogICAgICAgICAgICAgICAgbG9jYWwgcHJvZ3Jlc3MgPSAodGljaygpIC0gc3RhcnRUaW1lKSAvIExPQURJTkdfRFVSQVRJT04KICAgICAgICAgICAgICAgIExvYWRpbmdCYXIuU2l6ZSA9IFVEaW0yLm5ldyhwcm9ncmVzcywgMCwgMSwgMCkKICAgICAgICAgICAgICAgIHVwZGF0ZVN0YXR1cyhwcm9ncmVzcykKCiAgICAgICAgICAgICAgICBsb2NhbCBkb3RzID0gc3RyaW5nLnJlcCgiLiIsIG1hdGguZmxvb3IoKHRpY2soKSAqIDIpICUgNCkpCiAgICAgICAgICAgICAgICBMb2FkaW5nVGV4dC5UZXh0ID0gIkxvYWRpbmciIC4uIGRvdHMKCiAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICBlbmQKCiAgICAgICAgICAgIC0tIENPTVBMRVRFCiAgICAgICAgICAgIExvYWRpbmdCYXIuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQogICAgICAgICAgICBTdGF0dXNUZXh0LlRleHQgPSAiQ29tcGxldGUhIgogICAgICAgICAgICBMb2FkaW5nVGV4dC5UZXh0ID0gIkZseWNlciBMaWIiCgogICAgICAgICAgICAtLSBTdG9wIHBhcnRpY2xlcwogICAgICAgICAgICBzdG9wUGFydGljbGVzID0gdHJ1ZQogICAgICAgICAgICB0YXNrLndhaXQoMC4zKQoKICAgICAgICAgICAgLS0gRVhJVDogU0VNVUEgRkFERSBPVVQgQkVSU0FNQUFOCiAgICAgICAgICAgIGxvY2FsIEVYSVRfRFVSQVRJT04gPSAwLjQKICAgICAgICAgICAgbG9jYWwgZXhpdFR3ZWVuID0gVHdlZW5JbmZvLm5ldyhFWElUX0RVUkFUSU9OLCBFbnVtLkVhc2luZ1N0eWxlLlF1YWQsIEVudW0uRWFzaW5nRGlyZWN0aW9uLkluKQoKICAgICAgICAgICAgLS0gRmFkZSBvdXQgc2VtdWEgZWxlbWVuIHNla2FsaWd1cwogICAgICAgICAgICBUd2VlblNlcnZpY2U6Q3JlYXRlKAogICAgICAgICAgICAgICAgSWNvbiwKICAgICAgICAgICAgICAgIGV4aXRUd2VlbiwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBJbWFnZVRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKTpQbGF5KCkKCiAgICAgICAgICAgIFR3ZWVuU2VydmljZTpDcmVhdGUoCiAgICAgICAgICAgICAgICBJY29uRnJhbWUsCiAgICAgICAgICAgICAgICBleGl0VHdlZW4sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKTpQbGF5KCkKCiAgICAgICAgICAgIFR3ZWVuU2VydmljZTpDcmVhdGUoCiAgICAgICAgICAgICAgICBJY29uRnJhbWVTdHJva2UsCiAgICAgICAgICAgICAgICBleGl0VHdlZW4sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICApOlBsYXkoKQoKICAgICAgICAgICAgVHdlZW5TZXJ2aWNlOkNyZWF0ZSgKICAgICAgICAgICAgICAgIE91dGVyR2xvdywKICAgICAgICAgICAgICAgIGV4aXRUd2VlbiwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBJbWFnZVRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKTpQbGF5KCkKCiAgICAgICAgICAgIFR3ZWVuU2VydmljZTpDcmVhdGUoCiAgICAgICAgICAgICAgICBMb2FkaW5nVGV4dCwKICAgICAgICAgICAgICAgIGV4aXRUd2VlbiwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBUZXh0VHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICApOlBsYXkoKQoKICAgICAgICAgICAgVHdlZW5TZXJ2aWNlOkNyZWF0ZSgKICAgICAgICAgICAgICAgIFN0YXR1c1RleHQsCiAgICAgICAgICAgICAgICBleGl0VHdlZW4sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgVGV4dFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKTpQbGF5KCkKCiAgICAgICAgICAgIFR3ZWVuU2VydmljZTpDcmVhdGUoCiAgICAgICAgICAgICAgICBMb2FkaW5nQmFyQmcsCiAgICAgICAgICAgICAgICBleGl0VHdlZW4sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKTpQbGF5KCkKCiAgICAgICAgICAgIFR3ZWVuU2VydmljZTpDcmVhdGUoCiAgICAgICAgICAgICAgICBMb2FkaW5nQmFyLAogICAgICAgICAgICAgICAgZXhpdFR3ZWVuLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIEJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICk6UGxheSgpCgogICAgICAgICAgICBUd2VlblNlcnZpY2U6Q3JlYXRlKAogICAgICAgICAgICAgICAgQmFja2dyb3VuZCwKICAgICAgICAgICAgICAgIGV4aXRUd2VlbiwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICApOlBsYXkoKQoKICAgICAgICAgICAgLS0gQ2xlYXIgcGFydGljbGVzCiAgICAgICAgICAgIGZvciBfLCBwYXJ0aWNsZSBpbiBwYWlycyhQYXJ0aWNsZUNvbnRhaW5lcjpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgVHdlZW5TZXJ2aWNlOkNyZWF0ZSgKICAgICAgICAgICAgICAgICAgICBwYXJ0aWNsZSwKICAgICAgICAgICAgICAgICAgICBUd2VlbkluZm8ubmV3KDAuMiksCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICk6UGxheSgpCiAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgLS0gVHVuZ2d1IGV4aXQgYW5pbWF0aW9uIHNlbGVzYWkKICAgICAgICAgICAgdGFzay53YWl0KEVYSVRfRFVSQVRJT04gKyAwLjEpCgogICAgICAgICAgICAtLSBTZXQgY29tcGxldGUgZmxhZwogICAgICAgICAgICBhbmltYXRpb25Db21wbGV0ZSA9IHRydWUKCiAgICAgICAgICAgIC0tIENsZWFudXAKICAgICAgICAgICAgTG9hZGluZ0d1aTpEZXN0cm95KCkKICAgICAgICBlbmQKICAgICkKCiAgICByZXR1cm4gZnVuY3Rpb24oKQogICAgICAgIHdoaWxlIG5vdCBhbmltYXRpb25Db21wbGV0ZSBkbwogICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgIGVuZAogICAgZW5kCmVuZAoKLS0gSkFMQU5LQU4gTE9BRElORyBTQ1JFRU4KbG9jYWwgV2FpdEZvckxvYWRpbmcgPSBDcmVhdGVMb2FkaW5nU2NyZWVuKCkKV2FpdEZvckxvYWRpbmcoKQoKLS0gUE9TVCBMT0FESU5HIERFTEFZCnRhc2sud2FpdChQT1NUX0xPQURJTkdfREVMQVkpCgotLSBTYWZlR3VpUGFyZW50CmxvY2FsIGZ1bmN0aW9uIGdldFNhZmVQYXJlbnQoKQogICAgaWYgZ2V0X2hpZGRlbl91aSB0aGVuCiAgICAgICAgcmV0dXJuIGdldF9oaWRkZW5fdWkoKQogICAgZWxzZWlmIGdldGh1aSB0aGVuCiAgICAgICAgcmV0dXJuIGdldGh1aSgpCiAgICBlbHNlaWYgc3luIGFuZCBzeW4ucHJvdGVjdF9ndWkgdGhlbgogICAgICAgIHJldHVybiBDb3JlR3VpCiAgICBlbHNlCiAgICAgICAgcmV0dXJuIENvcmVHdWkKICAgIGVuZAplbmQKCmdldGdlbnYoKS5GbHljZXJfU2FmZVBhcmVudCA9IGdldFNhZmVQYXJlbnQoKQoKLS0gTWFrZURyYWdnYWJsZQpsb2NhbCBmdW5jdGlvbiBtYWtlRHJhZ2dhYmxlKGRyYWdIYW5kbGUsIGRyYWdUYXJnZXQpCiAgICBsb2NhbCBkcmFnZ2luZyA9IGZhbHNlCiAgICBsb2NhbCBkcmFnU3RhcnQsIHN0YXJ0UG9zCiAgICBsb2NhbCBhY3RpdmVUb3VjaCA9IG5pbAoKICAgIGRyYWdUYXJnZXQgPSBkcmFnVGFyZ2V0IG9yIGRyYWdIYW5kbGUKCiAgICBsb2NhbCBmdW5jdGlvbiB1cGRhdGUoaW5wdXQpCiAgICAgICAgcGNhbGwoCiAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGxvY2FsIGRlbHRhID0gaW5wdXQuUG9zaXRpb24gLSBkcmFnU3RhcnQKICAgICAgICAgICAgICAgIGxvY2FsIG5ld1Bvc2l0aW9uID0KICAgICAgICAgICAgICAgICAgICBVRGltMi5uZXcoCiAgICAgICAgICAgICAgICAgICAgc3RhcnRQb3MuWC5TY2FsZSwKICAgICAgICAgICAgICAgICAgICBzdGFydFBvcy5YLk9mZnNldCArIGRlbHRhLlgsCiAgICAgICAgICAgICAgICAgICAgc3RhcnRQb3MuWS5TY2FsZSwKICAgICAgICAgICAgICAgICAgICBzdGFydFBvcy5ZLk9mZnNldCArIGRlbHRhLlkKICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICBUd2VlblNlcnZpY2U6Q3JlYXRlKGRyYWdUYXJnZXQsIFR3ZWVuSW5mby5uZXcoMC4wOCksIHtQb3NpdGlvbiA9IG5ld1Bvc2l0aW9ufSk6UGxheSgpCiAgICAgICAgICAgIGVuZAogICAgICAgICkKICAgIGVuZAoKICAgIGRyYWdIYW5kbGUuSW5wdXRCZWdhbjpDb25uZWN0KAogICAgICAgIGZ1bmN0aW9uKGlucHV0KQogICAgICAgICAgICBpZiBpbnB1dC5Vc2VySW5wdXRUeXBlID09IEVudW0uVXNlcklucHV0VHlwZS5Nb3VzZUJ1dHRvbjEgb3IgaW5wdXQuVXNlcklucHV0VHlwZSA9PSBFbnVtLlVzZXJJbnB1dFR5cGUuVG91Y2ggdGhlbgogICAgICAgICAgICAgICAgaWYgZHJhZ2dpbmcgdGhlbgogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgZHJhZ2dpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICBkcmFnU3RhcnQgPSBpbnB1dC5Qb3NpdGlvbgogICAgICAgICAgICAgICAgc3RhcnRQb3MgPSBkcmFnVGFyZ2V0LlBvc2l0aW9uCgogICAgICAgICAgICAgICAgaWYgaW5wdXQuVXNlcklucHV0VHlwZSA9PSBFbnVtLlVzZXJJbnB1dFR5cGUuVG91Y2ggdGhlbgogICAgICAgICAgICAgICAgICAgIGFjdGl2ZVRvdWNoID0gaW5wdXQKICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIGlucHV0LkNoYW5nZWQ6Q29ubmVjdCgKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGlucHV0LlVzZXJJbnB1dFN0YXRlID09IEVudW0uVXNlcklucHV0U3RhdGUuRW5kIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGlucHV0ID09IGFjdGl2ZVRvdWNoIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2luZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlVG91Y2ggPSBuaWwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2luZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgKQoKICAgIFVzZXJJbnB1dFNlcnZpY2UuSW5wdXRDaGFuZ2VkOkNvbm5lY3QoCiAgICAgICAgZnVuY3Rpb24oaW5wdXQpCiAgICAgICAgICAgIHBjYWxsKAogICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBkcmFnZ2luZyB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICBpZgogICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5Vc2VySW5wdXRUeXBlID09IEVudW0uVXNlcklucHV0VHlwZS5Nb3VzZU1vdmVtZW50IG9yCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoaW5wdXQuVXNlcklucHV0VHlwZSA9PSBFbnVtLlVzZXJJbnB1dFR5cGUuVG91Y2ggYW5kIGlucHV0ID09IGFjdGl2ZVRvdWNoKQogICAgICAgICAgICAgICAgICAgICB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZShpbnB1dCkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICApCiAgICAgICAgZW5kCiAgICApCmVuZAoKLS0gR2VuZXJhdGVVVUlECm1hdGgucmFuZG9tc2VlZChvcy5jbG9jaygpICogMTAwMDAwKQoKbG9jYWwgZnVuY3Rpb24gcmFuZG9tTmFtZSgpCiAgICBsb2NhbCBmdW5jdGlvbiByYW5kb21IZXgobGVuKQogICAgICAgIGxvY2FsIHN0ciA9ICIiCiAgICAgICAgZm9yIF8gPSAxLCBsZW4gZG8KICAgICAgICAgICAgc3RyID0gc3RyIC4uIHN0cmluZy5mb3JtYXQoIiV4IiwgbWF0aC5yYW5kb20oMCwgMTUpKQogICAgICAgIGVuZAogICAgICAgIHJldHVybiBzdHIKICAgIGVuZAoKICAgIC0tIFY0CiAgICByZXR1cm4gc3RyaW5nLmZvcm1hdCgKICAgICAgICAiJXMtJXMtNCVzLSV4JXMtJXMiLAogICAgICAgIHJhbmRvbUhleCg4KSwKICAgICAgICByYW5kb21IZXgoNCksCiAgICAgICAgcmFuZG9tSGV4KDMpLAogICAgICAgIG1hdGgucmFuZG9tKDgsIDExKSwKICAgICAgICByYW5kb21IZXgoMyksCiAgICAgICAgcmFuZG9tSGV4KDEyKQogICAgKQplbmQKCi0tIFNldHRpbmdzTWFuYWdlcgpsb2NhbCBHVUlfTkFNRSA9ICJTZXR0aW5nc01lbnUiCmxvY2FsIEZMQUdfTkFNRSA9ICJfRmx5Y2VyR1VJX0xvYWRlZCIKbG9jYWwgR1VJX1JFRl9OQU1FID0gIl9GbHljZXJHVUlfSW5zdGFuY2UiCgotLSBQYXJlbnQgQW1hbgpsb2NhbCBwYXJlbnQgPQogICAgKHN5biBhbmQgc3luLnByb3RlY3RfZ3VpIGFuZCBDb3JlR3VpKSBvciAoZ2V0X2hpZGRlbl91aSBhbmQgZ2V0X2hpZGRlbl91aSgpKSBvciAoZ2V0aHVpIGFuZCBnZXRodWkoKSkgb3IgQ29yZUd1aQoKLS0gQ2VnYWggZHVwbGlrYXQgJiBoYXB1cyBHVUkgbGFtYSBqaWthIGFkYQpsb2NhbCBmdW5jdGlvbiBkZXN0cm95RXhpc3RpbmdGbHljZXIoKQogICAgbG9jYWwgZyA9IGdldGdlbnYgYW5kIGdldGdlbnYoKSBvciBfRwogICAgaWYgZ1tGTEFHX05BTUVdIHRoZW4KICAgICAgICBsb2NhbCBvbGRHVUkgPSBnW0dVSV9SRUZfTkFNRV0KICAgICAgICBpZiBvbGRHVUkgYW5kIHR5cGVvZihvbGRHVUkpID09ICJJbnN0YW5jZSIgYW5kIG9sZEdVSTpJc0EoIlNjcmVlbkd1aSIpIHRoZW4KICAgICAgICAgICAgcGNhbGwoCiAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgb2xkR1VJOkRlc3Ryb3koKQogICAgICAgICAgICAgICAgICAgIGdbR1VJX1JFRl9OQU1FXSA9IG5pbAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICkKICAgICAgICBlbmQKICAgIGVuZAogICAgZ1tGTEFHX05BTUVdID0gdHJ1ZQplbmQKCi0tIEhhbmN1cmthbiBHVUkgbGFtYSBqaWthIGFkYQppZiBnZXRnZW52KCkuX0ZseWNlckdVSSB0aGVuCiAgICBwY2FsbCgKICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgIGdldGdlbnYoKS5fRmx5Y2VyR1VJOkRlc3Ryb3koKQogICAgICAgIGVuZAogICAgKQplbmQKCi0tIEhhcHVzIEdVSSBsYW1hIGppa2EgbWFzaWggdGVydGluZ2dhbCBkaSB0ZW1wYXQgbGFpbgpsb2NhbCBmdW5jdGlvbiByZW1vdmVPbGRGbHljZXJHVUkoKQogICAgbG9jYWwgY29udGFpbmVycyA9IHsKICAgICAgICBDb3JlR3VpLAogICAgICAgIExvY2FsUGxheWVyOkZpbmRGaXJzdENoaWxkKCJQbGF5ZXJHdWkiKSwKICAgICAgICAoZ2V0X2hpZGRlbl91aSBhbmQgZ2V0X2hpZGRlbl91aSgpKSBvciBuaWwsCiAgICAgICAgKGdldGh1aSBhbmQgZ2V0aHVpKCkpIG9yIG5pbCwKICAgICAgICBwYXJlbnQKICAgIH0KICAgIGZvciBfLCBjb250YWluZXIgaW4gaXBhaXJzKGNvbnRhaW5lcnMpIGRvCiAgICAgICAgaWYgY29udGFpbmVyIHRoZW4KICAgICAgICAgICAgZm9yIF8sIGNoaWxkIGluIGlwYWlycyhjb250YWluZXI6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgIGlmIGNoaWxkOklzQSgiU2NyZWVuR3VpIikgYW5kIGNoaWxkLk5hbWUgPT0gR1VJX05BTUUgdGhlbgogICAgICAgICAgICAgICAgICAgIHBjYWxsKAogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZDpEZXN0cm95KCkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCmVuZAoKLS0gSW5pdGlhbGl6ZQpkZXN0cm95RXhpc3RpbmdGbHljZXIoKQpyZW1vdmVPbGRGbHljZXJHVUkoKQp0YXNrLndhaXQoKQoKLS0gS09ORklHVVJBU0kgTk9USUZJS0FTSSAtIEVESVQgREkgU0lOSQpsb2NhbCBOb3RpZkNvbmZpZyA9IHsKICAgIC0tIFdBUk5BIEZSQU1FCiAgICBGcmFtZUNvbG9yID0gQ29sb3IzLmZyb21SR0IoMjAsIDE1LCAzMCksCiAgICBGcmFtZVRyYW5zcGFyZW5jeSA9IDAuMTUsCiAgICAtLSBCT1JERVIvU1RST0tFCiAgICBTdHJva2VFbmFibGVkID0gZmFsc2UsCiAgICBTdHJva2VDb2xvciA9IENvbG9yMy5mcm9tUkdCKDEwMCwgODAsIDE1MCksCiAgICBTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjYsCiAgICBTdHJva2VUaGlja25lc3MgPSAxLAogICAgLS0gQUNDRU5UIEJBUiAoR2FyaXMgc2FtcGluZykKICAgIEFjY2VudEJhckVuYWJsZWQgPSB0cnVlLAogICAgQWNjZW50QmFyV2lkdGggPSA3LAogICAgLS0gR1JBRElFTlQgREVGQVVMVAogICAgRGVmYXVsdEdyYWRpZW50MSA9IENvbG9yMy5mcm9tUkdCKDAsIDIwMCwgMjU1KSwgLS0gQ3lhbgogICAgRGVmYXVsdEdyYWRpZW50MiA9IENvbG9yMy5mcm9tUkdCKDE1MCwgMCwgMjU1KSwgLS0gUHVycGxlCiAgICAtLSBJQ09OCiAgICBJY29uRW5hYmxlZCA9IHRydWUsCiAgICBEZWZhdWx0SWNvbiA9ICJyYnhhc3NldGlkOi8vNzczMzY1ODUwNCIsIC0tIEJlbGwgaWNvbgogICAgSWNvblNpemUgPSAyNCwKICAgIC0tIFRFS1MKICAgIFRpdGxlQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KSwKICAgIFRpdGxlRm9udCA9IEVudW0uRm9udC5Hb3RoYW1Cb2xkLAogICAgVGl0bGVTaXplID0gMTMsCiAgICBEZXNjQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigyMDAsIDIwMCwgMjEwKSwKICAgIERlc2NGb250ID0gRW51bS5Gb250LkdvdGhhbSwKICAgIERlc2NTaXplID0gMTEsCiAgICAtLSBMT0FESU5HIEJBUgogICAgTG9hZGluZ0JhckhlaWdodCA9IDMsCiAgICBMb2FkaW5nQmFyQmdDb2xvciA9IENvbG9yMy5mcm9tUkdCKDYwLCA1MCwgODApLAogICAgTG9hZGluZ0JhckJnVHJhbnNwYXJlbmN5ID0gMC41LAogICAgLS0gU0hBRE9XCiAgICBTaGFkb3dFbmFibGVkID0gdHJ1ZSwKICAgIFNoYWRvd1RyYW5zcGFyZW5jeSA9IDAuNywKICAgIC0tIFVLVVJBTiAmIFBPU0lTSQogICAgV2lkdGggPSAyMTAsCiAgICBIZWlnaHQgPSA2NSwKICAgIENvcm5lclJhZGl1cyA9IDcsCiAgICBPZmZzZXRGcm9tUmlnaHQgPSAyMCwKICAgIFNwYWNpbmcgPSA1LAogICAgLS0gQU5JTUFTSQogICAgRmFkZUluVGltZSA9IDAuNSwKICAgIEZhZGVPdXRUaW1lID0gMC4zNSwKICAgIERlZmF1bHREdXJhdGlvbiA9IDMsCiAgICBFYXNpbmdTdHlsZSA9IEVudW0uRWFzaW5nU3R5bGUuUXVpbnQsCiAgICAtLSBTT1VORAogICAgU291bmRFbmFibGVkID0gZmFsc2UsCiAgICBTb3VuZElkID0gInJieGFzc2V0aWQ6Ly82MDI2OTg0MjI0IiwKICAgIFNvdW5kVm9sdW1lID0gMC4zCn0KCi0tIFByZXNldCBHcmFkaWVudApsb2NhbCBHcmFkaWVudFByZXNldHMgPSB7CiAgICBEZWZhdWx0ID0ge0NvbG9yMy5mcm9tUkdCKDAsIDIwMCwgMjU1KSwgQ29sb3IzLmZyb21SR0IoMTUwLCAwLCAyNTUpfSwKICAgIERpc2NvcmQgPSB7Q29sb3IzLmZyb21SR0IoODgsIDEwMSwgMjQyKSwgQ29sb3IzLmZyb21SR0IoNjAsIDcwLCAxODApfSwKICAgIFNhd2VyaWEgPSB7Q29sb3IzLmZyb21SR0IoMjU1LCAxNjUsIDApLCBDb2xvcjMuZnJvbVJHQigyNTUsIDEwMCwgNTApfSwKICAgIFN1Y2Nlc3MgPSB7Q29sb3IzLmZyb21SR0IoNTAsIDIwNSwgMTAwKSwgQ29sb3IzLmZyb21SR0IoMzAsIDE1MCwgNzApfSwKICAgIEVycm9yID0ge0NvbG9yMy5mcm9tUkdCKDI1NSwgODAsIDgwKSwgQ29sb3IzLmZyb21SR0IoMTgwLCA0MCwgNjApfSwKICAgIFdhcm5pbmcgPSB7Q29sb3IzLmZyb21SR0IoMjU1LCAyMDAsIDUwKSwgQ29sb3IzLmZyb21SR0IoMjU1LCAxNTAsIDApfSwKICAgIEluZm8gPSB7Q29sb3IzLmZyb21SR0IoNjAsIDE4MCwgMjU1KSwgQ29sb3IzLmZyb21SR0IoMzAsIDEyMCwgMjAwKX0sCiAgICBQdXJwbGUgPSB7Q29sb3IzLmZyb21SR0IoMTgwLCAxMDAsIDI1NSksIENvbG9yMy5mcm9tUkdCKDEyMCwgNTAsIDIwMCl9LAogICAgUGluayA9IHtDb2xvcjMuZnJvbVJHQigyNTUsIDEwMCwgMTgwKSwgQ29sb3IzLmZyb21SR0IoMjIwLCA1MCwgMTMwKX0sCiAgICBDeWFuID0ge0NvbG9yMy5mcm9tUkdCKDAsIDI1NSwgMjIwKSwgQ29sb3IzLmZyb21SR0IoMCwgMTgwLCAxODApfSwKICAgIEdvbGQgPSB7Q29sb3IzLmZyb21SR0IoMjU1LCAyMTUsIDApLCBDb2xvcjMuZnJvbVJHQigyMDAsIDE2MCwgMCl9Cn0KCi0tIEljb24gUHJlc2V0cwpsb2NhbCBJY29uUHJlc2V0cyA9IHsKICAgIERlZmF1bHQgPSAicmJ4YXNzZXRpZDovLzc3MzM2NTg1MDQiLCAtLSBCZWxsCiAgICBTdWNjZXNzID0gInJieGFzc2V0aWQ6Ly83NzMzNzE1NDAwIiwgLS0gQ2hlY2ttYXJrCiAgICBFcnJvciA9ICJyYnhhc3NldGlkOi8vNzczMzY1ODg3MSIsIC0tIFgKICAgIFdhcm5pbmcgPSAicmJ4YXNzZXRpZDovLzc3MzM2NTg5ODMiLCAtLSBXYXJuaW5nCiAgICBJbmZvID0gInJieGFzc2V0aWQ6Ly83NzMzNjU5MDI5IiwgLS0gSW5mbwogICAgRGlzY29yZCA9ICJyYnhhc3NldGlkOi8vNzczMzcxNzUwNCIsIC0tIENoYXQKICAgIENvcHkgPSAicmJ4YXNzZXRpZDovLzc3MzM3MTU1NTciIC0tIENvcHkKfQoKLS0gSU5URVJOQUwgVkFSSUFCTEVTCmxvY2FsIGFjdGl2ZU5vdGlmaWNhdGlvbnMgPSB7fQpsb2NhbCBub3RpZmljYXRpb25Db250YWluZXIgPSBuaWwKCi0tIFJhbmRvbSBuYW1lIGdlbmVyYXRvcgpsb2NhbCBmdW5jdGlvbiByYW5kb21OYW1lKCkKICAgIGxvY2FsIGNoYXJzID0gImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSIKICAgIGxvY2FsIG5hbWUgPSAiTm90aWZfIgogICAgZm9yIGkgPSAxLCA4IGRvCiAgICAgICAgbG9jYWwgaWR4ID0gbWF0aC5yYW5kb20oMSwgI2NoYXJzKQogICAgICAgIG5hbWUgPSBuYW1lIC4uIGNoYXJzOnN1YihpZHgsIGlkeCkKICAgIGVuZAogICAgcmV0dXJuIG5hbWUKZW5kCgotLSBHZXQgb3IgY3JlYXRlIG5vdGlmaWNhdGlvbiBjb250YWluZXIKbG9jYWwgZnVuY3Rpb24gZ2V0Q29udGFpbmVyKCkKICAgIGlmIG5vdGlmaWNhdGlvbkNvbnRhaW5lciBhbmQgbm90aWZpY2F0aW9uQ29udGFpbmVyLlBhcmVudCB0aGVuCiAgICAgICAgcmV0dXJuIG5vdGlmaWNhdGlvbkNvbnRhaW5lcgogICAgZW5kCgogICAgbG9jYWwgc2NyZWVuR3VpID0gSW5zdGFuY2UubmV3KCJTY3JlZW5HdWkiKQogICAgc2NyZWVuR3VpLk5hbWUgPSAiRmx5Y2VyTm90aWZpY2F0aW9uc18iIC4uIG1hdGgucmFuZG9tKDEwMDAsIDk5OTkpCiAgICBzY3JlZW5HdWkuWkluZGV4QmVoYXZpb3IgPSBFbnVtLlpJbmRleEJlaGF2aW9yLlNpYmxpbmcKICAgIHNjcmVlbkd1aS5JZ25vcmVHdWlJbnNldCA9IHRydWUKICAgIHNjcmVlbkd1aS5SZXNldE9uU3Bhd24gPSBmYWxzZQogICAgc2NyZWVuR3VpLkRpc3BsYXlPcmRlciA9IDk5OQoKICAgIGxvY2FsIHN1Y2Nlc3MgPQogICAgICAgIHBjYWxsKAogICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgc2NyZWVuR3VpLlBhcmVudCA9IENvcmVHdWkKICAgICAgICBlbmQKICAgICkKCiAgICBpZiBub3Qgc3VjY2VzcyB0aGVuCiAgICAgICAgc2NyZWVuR3VpLlBhcmVudCA9IFBsYXllcnMuTG9jYWxQbGF5ZXI6V2FpdEZvckNoaWxkKCJQbGF5ZXJHdWkiKQogICAgZW5kCgogICAgbm90aWZpY2F0aW9uQ29udGFpbmVyID0gc2NyZWVuR3VpCiAgICByZXR1cm4gc2NyZWVuR3VpCmVuZAoKLS0gQ2FsY3VsYXRlIFkgcG9zaXRpb24gYmFzZWQgb24gYWN0aXZlIG5vdGlmaWNhdGlvbnMKbG9jYWwgZnVuY3Rpb24gY2FsY3VsYXRlWU9mZnNldCgpCiAgICBsb2NhbCBvZmZzZXQgPSAwCiAgICBmb3IgXywgZGF0YSBpbiBpcGFpcnMoYWN0aXZlTm90aWZpY2F0aW9ucykgZG8KICAgICAgICBpZiBkYXRhLmZyYW1lIGFuZCBkYXRhLmZyYW1lLlBhcmVudCB0aGVuCiAgICAgICAgICAgIG9mZnNldCA9IG9mZnNldCArIE5vdGlmQ29uZmlnLkhlaWdodCArIE5vdGlmQ29uZmlnLlNwYWNpbmcKICAgICAgICBlbmQKICAgIGVuZAogICAgcmV0dXJuIG9mZnNldAplbmQKCi0tIFVwZGF0ZSBhbGwgbm90aWZpY2F0aW9uIHBvc2l0aW9ucwpsb2NhbCBmdW5jdGlvbiB1cGRhdGVQb3NpdGlvbnMoKQogICAgbG9jYWwgeU9mZnNldCA9IDAKICAgIGZvciBpLCBkYXRhIGluIGlwYWlycyhhY3RpdmVOb3RpZmljYXRpb25zKSBkbwogICAgICAgIGlmIGRhdGEuZnJhbWUgYW5kIGRhdGEuZnJhbWUuUGFyZW50IHRoZW4KICAgICAgICAgICAgbG9jYWwgdGFyZ2V0WSA9IC01MCArIHlPZmZzZXQKICAgICAgICAgICAgVHdlZW5TZXJ2aWNlOkNyZWF0ZSgKICAgICAgICAgICAgICAgIGRhdGEuZnJhbWUsCiAgICAgICAgICAgICAgICBUd2VlbkluZm8ubmV3KDAuMywgRW51bS5FYXNpbmdTdHlsZS5RdWludCksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgUG9zaXRpb24gPSBVRGltMi5uZXcoMSwgLU5vdGlmQ29uZmlnLk9mZnNldEZyb21SaWdodCwgMC41LCB0YXJnZXRZKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICApOlBsYXkoKQogICAgICAgICAgICB5T2Zmc2V0ID0geU9mZnNldCArIE5vdGlmQ29uZmlnLkhlaWdodCArIE5vdGlmQ29uZmlnLlNwYWNpbmcKICAgICAgICBlbmQKICAgIGVuZAplbmQKCi0tW1sgTUFJTiBOT1RJRklDQVRJT04gRlVOQ1RJT04KICAgIAogICAgQ0FSQSBQQUtBSSA6CiAgICAKICAgIC0tIFNpbXBsZToKICAgIFNob3dOb3RpZmljYXRpb24oewogICAgICAgIFRpdGxlID0gIkp1ZHVsIiwKICAgICAgICBEZXNjcmlwdGlvbiA9ICJEZXNrcmlwc2kiLAogICAgICAgIER1cmF0aW9uID0gMwogICAgfSkKICAgIAogICAgLS0gRGVuZ2FuIFByZXNldDoKICAgIFNob3dOb3RpZmljYXRpb24oewogICAgICAgIFRpdGxlID0gIlN1Y2Nlc3MhIiwKICAgICAgICBEZXNjcmlwdGlvbiA9ICJCZXJoYXNpbCEiLAogICAgICAgIER1cmF0aW9uID0gMiwKICAgICAgICBQcmVzZXQgPSAiU3VjY2VzcyIKICAgIH0pCiAgICAKICAgIC0tIERlbmdhbiBDdXN0b20gR3JhZGllbnQ6CiAgICBTaG93Tm90aWZpY2F0aW9uKHsKICAgICAgICBUaXRsZSA9ICJDdXN0b20iLAogICAgICAgIERlc2NyaXB0aW9uID0gIldhcm5hIGN1c3RvbSIsCiAgICAgICAgR3JhZGllbnQxID0gQ29sb3IzLmZyb21SR0IoMjU1LCAwLCAxMjgpLAogICAgICAgIEdyYWRpZW50MiA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMCwgMjU1KQogICAgfSkKICAgIAogICAgLS0gRnVsbCBDdXN0b206CiAgICBTaG93Tm90aWZpY2F0aW9uKHsKICAgICAgICBUaXRsZSA9ICJGdWxsIEN1c3RvbSIsCiAgICAgICAgRGVzY3JpcHRpb24gPSAiU2VtdWEgY3VzdG9tISIsCiAgICAgICAgRHVyYXRpb24gPSAzLAogICAgICAgIEZyYW1lQ29sb3IgPSBDb2xvcjMuZnJvbVJHQig0MCwgMjAsIDYwKSwKICAgICAgICBHcmFkaWVudDEgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDEwMCwgMjAwKSwKICAgICAgICBHcmFkaWVudDIgPSBDb2xvcjMuZnJvbVJHQigyMDAsIDUwLCAxNTApLAogICAgICAgIEljb24gPSAicmJ4YXNzZXRpZDovLzc3MzM3MTU0MDAiCiAgICB9KQpdXQpsb2NhbCBmdW5jdGlvbiBTaG93Tm90aWZpY2F0aW9uKGNvbmZpZykKICAgIGNvbmZpZyA9IGNvbmZpZyBvciB7fQoKICAgIC0tIEdldCBwcmVzZXQgaWYgc3BlY2lmaWVkCiAgICBsb2NhbCBwcmVzZXQgPSBjb25maWcuUHJlc2V0IGFuZCBHcmFkaWVudFByZXNldHNbY29uZmlnLlByZXNldF0KICAgIGxvY2FsIGljb25QcmVzZXQgPSBjb25maWcuUHJlc2V0IGFuZCBJY29uUHJlc2V0c1tjb25maWcuUHJlc2V0XQoKICAgIC0tIFBhcmFtZXRlcnMKICAgIGxvY2FsIHRpdGxlID0gY29uZmlnLlRpdGxlIG9yICJGbHljZXIgTm90aWZpY2F0aW9uIgogICAgbG9jYWwgZGVzY3JpcHRpb24gPSBjb25maWcuRGVzY3JpcHRpb24gb3IgIiIKICAgIGxvY2FsIGR1cmF0aW9uID0gY29uZmlnLkR1cmF0aW9uIG9yIE5vdGlmQ29uZmlnLkRlZmF1bHREdXJhdGlvbgogICAgbG9jYWwgZmFkZVRpbWUgPSBjb25maWcuRmFkZVRpbWUgb3IgTm90aWZDb25maWcuRmFkZUluVGltZQogICAgbG9jYWwgZXhpdEZhZGVUaW1lID0gY29uZmlnLkV4aXRGYWRlVGltZSBvciBOb3RpZkNvbmZpZy5GYWRlT3V0VGltZQoKICAgIC0tIENvbG9ycwogICAgbG9jYWwgZnJhbWVDb2xvciA9IGNvbmZpZy5GcmFtZUNvbG9yIG9yIE5vdGlmQ29uZmlnLkZyYW1lQ29sb3IKICAgIGxvY2FsIGZyYW1lVHJhbnNwYXJlbmN5ID0gY29uZmlnLkZyYW1lVHJhbnNwYXJlbmN5IG9yIE5vdGlmQ29uZmlnLkZyYW1lVHJhbnNwYXJlbmN5CgogICAgLS0gR3JhZGllbnQgKHByaW9yaXR5OiBjb25maWcgPiBwcmVzZXQgPiBkZWZhdWx0KQogICAgbG9jYWwgZ3JhZGllbnQxLCBncmFkaWVudDIKICAgIGlmIGNvbmZpZy5HcmFkaWVudDEgYW5kIGNvbmZpZy5HcmFkaWVudDIgdGhlbgogICAgICAgIGdyYWRpZW50MSwgZ3JhZGllbnQyID0gY29uZmlnLkdyYWRpZW50MSwgY29uZmlnLkdyYWRpZW50MgogICAgZWxzZWlmIHByZXNldCB0aGVuCiAgICAgICAgZ3JhZGllbnQxLCBncmFkaWVudDIgPSBwcmVzZXRbMV0sIHByZXNldFsyXQogICAgZWxzZQogICAgICAgIGdyYWRpZW50MSwgZ3JhZGllbnQyID0gTm90aWZDb25maWcuRGVmYXVsdEdyYWRpZW50MSwgTm90aWZDb25maWcuRGVmYXVsdEdyYWRpZW50MgogICAgZW5kCgogICAgLS0gSWNvbgogICAgbG9jYWwgaWNvbiA9IGNvbmZpZy5JY29uIG9yIGljb25QcmVzZXQgb3IgTm90aWZDb25maWcuRGVmYXVsdEljb24KCiAgICAtLSBSdW4gaW4gY29yb3V0aW5lIChub24tYmxvY2tpbmcpCiAgICB0YXNrLnNwYXduKAogICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgbG9jYWwgY29udGFpbmVyID0gZ2V0Q29udGFpbmVyKCkKICAgICAgICAgICAgbG9jYWwgeU9mZnNldCA9IGNhbGN1bGF0ZVlPZmZzZXQoKQoKICAgICAgICAgICAgLS0gUG9zaXRpb25zCiAgICAgICAgICAgIGxvY2FsIGVudGVyUG9zID0gVURpbTIubmV3KDEuMywgMCwgMC41LCAtNTAgKyB5T2Zmc2V0KQogICAgICAgICAgICBsb2NhbCBtaWRkbGVQb3MgPSBVRGltMi5uZXcoMSwgLU5vdGlmQ29uZmlnLk9mZnNldEZyb21SaWdodCwgMC41LCAtNTAgKyB5T2Zmc2V0KQogICAgICAgICAgICBsb2NhbCBleGl0UG9zID0gVURpbTIubmV3KDEuMywgMCwgMC41LCAtNTAgKyB5T2Zmc2V0KQoKICAgICAgICAgICAgLS0gTUFJTiBGUkFNRQogICAgICAgICAgICBsb2NhbCBmcmFtZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQogICAgICAgICAgICBmcmFtZS5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgIGZyYW1lLlNpemUgPSBVRGltMi5uZXcoMCwgTm90aWZDb25maWcuV2lkdGgsIDAsIE5vdGlmQ29uZmlnLkhlaWdodCkKICAgICAgICAgICAgZnJhbWUuUG9zaXRpb24gPSBlbnRlclBvcwogICAgICAgICAgICBmcmFtZS5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDEsIDAuNSkKICAgICAgICAgICAgZnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IGZyYW1lQ29sb3IKICAgICAgICAgICAgZnJhbWUuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgZnJhbWUuQm9yZGVyU2l6ZVBpeGVsID0gMAogICAgICAgICAgICBmcmFtZS5DbGlwc0Rlc2NlbmRhbnRzID0gdHJ1ZQogICAgICAgICAgICBmcmFtZS5QYXJlbnQgPSBjb250YWluZXIKCiAgICAgICAgICAgIC0tIFRyYWNrIG5vdGlmaWNhdGlvbgogICAgICAgICAgICBsb2NhbCBub3RpZkRhdGEgPSB7ZnJhbWUgPSBmcmFtZX0KICAgICAgICAgICAgdGFibGUuaW5zZXJ0KGFjdGl2ZU5vdGlmaWNhdGlvbnMsIG5vdGlmRGF0YSkKCiAgICAgICAgICAgIC0tIENvcm5lcgogICAgICAgICAgICBsb2NhbCBjb3JuZXIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIikKICAgICAgICAgICAgY29ybmVyLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAsIE5vdGlmQ29uZmlnLkNvcm5lclJhZGl1cykKICAgICAgICAgICAgY29ybmVyLlBhcmVudCA9IGZyYW1lCgogICAgICAgICAgICAtLSBTSEFET1cKICAgICAgICAgICAgaWYgTm90aWZDb25maWcuU2hhZG93RW5hYmxlZCB0aGVuCiAgICAgICAgICAgICAgICBsb2NhbCBzaGFkb3cgPSBJbnN0YW5jZS5uZXcoIkltYWdlTGFiZWwiKQogICAgICAgICAgICAgICAgc2hhZG93Lk5hbWUgPSAiU2hhZG93IgogICAgICAgICAgICAgICAgc2hhZG93LlNpemUgPSBVRGltMi5uZXcoMSwgMzAsIDEsIDMwKQogICAgICAgICAgICAgICAgc2hhZG93LlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCAzKQogICAgICAgICAgICAgICAgc2hhZG93LkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpCiAgICAgICAgICAgICAgICBzaGFkb3cuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgIHNoYWRvdy5JbWFnZSA9ICJyYnhhc3NldGlkOi8vNTU1NDIzNjgwNSIKICAgICAgICAgICAgICAgIHNoYWRvdy5JbWFnZUNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCiAgICAgICAgICAgICAgICBzaGFkb3cuSW1hZ2VUcmFuc3BhcmVuY3kgPSBOb3RpZkNvbmZpZy5TaGFkb3dUcmFuc3BhcmVuY3kKICAgICAgICAgICAgICAgIHNoYWRvdy5TY2FsZVR5cGUgPSBFbnVtLlNjYWxlVHlwZS5TbGljZQogICAgICAgICAgICAgICAgc2hhZG93LlNsaWNlQ2VudGVyID0gUmVjdC5uZXcoMjMsIDIzLCAyNzcsIDI3NykKICAgICAgICAgICAgICAgIHNoYWRvdy5aSW5kZXggPSAtMQogICAgICAgICAgICAgICAgc2hhZG93LlBhcmVudCA9IGZyYW1lCiAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgLS0gU1RST0tFL0JPUkRFUgogICAgICAgICAgICBpZiBOb3RpZkNvbmZpZy5TdHJva2VFbmFibGVkIHRoZW4KICAgICAgICAgICAgICAgIGxvY2FsIHN0cm9rZSA9IEluc3RhbmNlLm5ldygiVUlTdHJva2UiKQogICAgICAgICAgICAgICAgc3Ryb2tlLkNvbG9yID0gTm90aWZDb25maWcuU3Ryb2tlQ29sb3IKICAgICAgICAgICAgICAgIHN0cm9rZS5UcmFuc3BhcmVuY3kgPSAxIC0tIFdpbGwgZmFkZSBpbgogICAgICAgICAgICAgICAgc3Ryb2tlLlRoaWNrbmVzcyA9IE5vdGlmQ29uZmlnLlN0cm9rZVRoaWNrbmVzcwogICAgICAgICAgICAgICAgc3Ryb2tlLkFwcGx5U3Ryb2tlTW9kZSA9IEVudW0uQXBwbHlTdHJva2VNb2RlLkJvcmRlcgogICAgICAgICAgICAgICAgc3Ryb2tlLlBhcmVudCA9IGZyYW1lCiAgICAgICAgICAgICAgICBub3RpZkRhdGEuc3Ryb2tlID0gc3Ryb2tlCiAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgLS0gQUNDRU5UIEJBUiAoR2FyaXMgU2FtcGluZykKICAgICAgICAgICAgaWYgTm90aWZDb25maWcuQWNjZW50QmFyRW5hYmxlZCB0aGVuCiAgICAgICAgICAgICAgICBsb2NhbCBhY2NlbnRCYXIgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKICAgICAgICAgICAgICAgIGFjY2VudEJhci5OYW1lID0gIkFjY2VudEJhciIKICAgICAgICAgICAgICAgIGFjY2VudEJhci5TaXplID0gVURpbTIubmV3KDAsIE5vdGlmQ29uZmlnLkFjY2VudEJhcldpZHRoLCAxLCAwKQogICAgICAgICAgICAgICAgYWNjZW50QmFyLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDAsIDApCiAgICAgICAgICAgICAgICBhY2NlbnRCYXIuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCiAgICAgICAgICAgICAgICBhY2NlbnRCYXIuQm9yZGVyU2l6ZVBpeGVsID0gMAogICAgICAgICAgICAgICAgYWNjZW50QmFyLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICBhY2NlbnRCYXIuUGFyZW50ID0gZnJhbWUKCiAgICAgICAgICAgICAgICBsb2NhbCBhY2NlbnRDb3JuZXIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIikKICAgICAgICAgICAgICAgIGFjY2VudENvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCBOb3RpZkNvbmZpZy5Db3JuZXJSYWRpdXMpCiAgICAgICAgICAgICAgICBhY2NlbnRDb3JuZXIuUGFyZW50ID0gYWNjZW50QmFyCgogICAgICAgICAgICAgICAgbG9jYWwgYWNjZW50R3JhZGllbnQgPSBJbnN0YW5jZS5uZXcoIlVJR3JhZGllbnQiKQogICAgICAgICAgICAgICAgYWNjZW50R3JhZGllbnQuQ29sb3IgPQogICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2UubmV3KAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLCBncmFkaWVudDEpLAogICAgICAgICAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDEsIGdyYWRpZW50MikKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBhY2NlbnRHcmFkaWVudC5Sb3RhdGlvbiA9IDkwCiAgICAgICAgICAgICAgICBhY2NlbnRHcmFkaWVudC5QYXJlbnQgPSBhY2NlbnRCYXIKCiAgICAgICAgICAgICAgICBub3RpZkRhdGEuYWNjZW50QmFyID0gYWNjZW50QmFyCiAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgLS0gQ09OVEVOVCBDT05UQUlORVIKICAgICAgICAgICAgbG9jYWwgY29udGVudE9mZnNldCA9IE5vdGlmQ29uZmlnLkFjY2VudEJhckVuYWJsZWQgYW5kIChOb3RpZkNvbmZpZy5BY2NlbnRCYXJXaWR0aCArIDgpIG9yIDEwCgogICAgICAgICAgICAtLSBJQ09OCiAgICAgICAgICAgIGxvY2FsIGljb25Db250YWluZXIKICAgICAgICAgICAgbG9jYWwgdGV4dE9mZnNldFggPSBjb250ZW50T2Zmc2V0CgogICAgICAgICAgICBpZiBOb3RpZkNvbmZpZy5JY29uRW5hYmxlZCBhbmQgaWNvbiB0aGVuCiAgICAgICAgICAgICAgICBpY29uQ29udGFpbmVyID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCiAgICAgICAgICAgICAgICBpY29uQ29udGFpbmVyLk5hbWUgPSAiSWNvbkNvbnRhaW5lciIKICAgICAgICAgICAgICAgIGljb25Db250YWluZXIuU2l6ZSA9IFVEaW0yLm5ldygwLCBOb3RpZkNvbmZpZy5JY29uU2l6ZSArIDYsIDAsIE5vdGlmQ29uZmlnLkljb25TaXplICsgNikKICAgICAgICAgICAgICAgIGljb25Db250YWluZXIuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgY29udGVudE9mZnNldCwgMC41LCAwKQogICAgICAgICAgICAgICAgaWNvbkNvbnRhaW5lci5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAsIDAuNSkKICAgICAgICAgICAgICAgIGljb25Db250YWluZXIuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDQwLCAzNSwgNTUpCiAgICAgICAgICAgICAgICBpY29uQ29udGFpbmVyLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICBpY29uQ29udGFpbmVyLlBhcmVudCA9IGZyYW1lCgogICAgICAgICAgICAgICAgbG9jYWwgaWNvbkNvcm5lciA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiKQogICAgICAgICAgICAgICAgaWNvbkNvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCA4KQogICAgICAgICAgICAgICAgaWNvbkNvcm5lci5QYXJlbnQgPSBpY29uQ29udGFpbmVyCgogICAgICAgICAgICAgICAgbG9jYWwgaWNvbkltYWdlID0gSW5zdGFuY2UubmV3KCJJbWFnZUxhYmVsIikKICAgICAgICAgICAgICAgIGljb25JbWFnZS5OYW1lID0gIkljb24iCiAgICAgICAgICAgICAgICBpY29uSW1hZ2UuU2l6ZSA9IFVEaW0yLm5ldygwLCBOb3RpZkNvbmZpZy5JY29uU2l6ZSwgMCwgTm90aWZDb25maWcuSWNvblNpemUpCiAgICAgICAgICAgICAgICBpY29uSW1hZ2UuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjUsIDApCiAgICAgICAgICAgICAgICBpY29uSW1hZ2UuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkKICAgICAgICAgICAgICAgIGljb25JbWFnZS5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgaWNvbkltYWdlLkltYWdlID0gaWNvbgogICAgICAgICAgICAgICAgaWNvbkltYWdlLkltYWdlQ29sb3IzID0gZ3JhZGllbnQxCiAgICAgICAgICAgICAgICBpY29uSW1hZ2UuSW1hZ2VUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICBpY29uSW1hZ2UuUGFyZW50ID0gaWNvbkNvbnRhaW5lcgoKICAgICAgICAgICAgICAgIG5vdGlmRGF0YS5pY29uQ29udGFpbmVyID0gaWNvbkNvbnRhaW5lcgogICAgICAgICAgICAgICAgbm90aWZEYXRhLmljb25JbWFnZSA9IGljb25JbWFnZQoKICAgICAgICAgICAgICAgIHRleHRPZmZzZXRYID0gY29udGVudE9mZnNldCArIE5vdGlmQ29uZmlnLkljb25TaXplICsgMTQKICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAtLSBUSVRMRQogICAgICAgICAgICBsb2NhbCB0aXRsZUxhYmVsID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQogICAgICAgICAgICB0aXRsZUxhYmVsLk5hbWUgPSAiVGl0bGUiCiAgICAgICAgICAgIHRpdGxlTGFiZWwuU2l6ZSA9IFVEaW0yLm5ldygxLCAtKHRleHRPZmZzZXRYICsgMTApLCAwLCAxOCkKICAgICAgICAgICAgdGl0bGVMYWJlbC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCB0ZXh0T2Zmc2V0WCwgMCwgOCkKICAgICAgICAgICAgdGl0bGVMYWJlbC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICB0aXRsZUxhYmVsLlRleHQgPSB0aXRsZQogICAgICAgICAgICB0aXRsZUxhYmVsLlRleHRDb2xvcjMgPSBOb3RpZkNvbmZpZy5UaXRsZUNvbG9yCiAgICAgICAgICAgIHRpdGxlTGFiZWwuRm9udCA9IE5vdGlmQ29uZmlnLlRpdGxlRm9udAogICAgICAgICAgICB0aXRsZUxhYmVsLlRleHRTaXplID0gTm90aWZDb25maWcuVGl0bGVTaXplCiAgICAgICAgICAgIHRpdGxlTGFiZWwuVGV4dFhBbGlnbm1lbnQgPSBFbnVtLlRleHRYQWxpZ25tZW50LkxlZnQKICAgICAgICAgICAgdGl0bGVMYWJlbC5UZXh0VHJ1bmNhdGUgPSBFbnVtLlRleHRUcnVuY2F0ZS5BdEVuZAogICAgICAgICAgICB0aXRsZUxhYmVsLlRleHRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgIHRpdGxlTGFiZWwuUGFyZW50ID0gZnJhbWUKCiAgICAgICAgICAgIC0tIERFU0NSSVBUSU9OCiAgICAgICAgICAgIGxvY2FsIGRlc2NMYWJlbCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKICAgICAgICAgICAgZGVzY0xhYmVsLk5hbWUgPSAiRGVzY3JpcHRpb24iCiAgICAgICAgICAgIGRlc2NMYWJlbC5TaXplID0gVURpbTIubmV3KDEsIC0odGV4dE9mZnNldFggKyAxMCksIDAsIDE2KQogICAgICAgICAgICBkZXNjTGFiZWwuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgdGV4dE9mZnNldFgsIDAsIDI2KQogICAgICAgICAgICBkZXNjTGFiZWwuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgZGVzY0xhYmVsLlRleHQgPSBkZXNjcmlwdGlvbgogICAgICAgICAgICBkZXNjTGFiZWwuVGV4dENvbG9yMyA9IE5vdGlmQ29uZmlnLkRlc2NDb2xvcgogICAgICAgICAgICBkZXNjTGFiZWwuRm9udCA9IE5vdGlmQ29uZmlnLkRlc2NGb250CiAgICAgICAgICAgIGRlc2NMYWJlbC5UZXh0U2l6ZSA9IE5vdGlmQ29uZmlnLkRlc2NTaXplCiAgICAgICAgICAgIGRlc2NMYWJlbC5UZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuTGVmdAogICAgICAgICAgICBkZXNjTGFiZWwuVGV4dFRydW5jYXRlID0gRW51bS5UZXh0VHJ1bmNhdGUuQXRFbmQKICAgICAgICAgICAgZGVzY0xhYmVsLlRleHRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgIGRlc2NMYWJlbC5QYXJlbnQgPSBmcmFtZQoKICAgICAgICAgICAgLS0gTE9BRElORyBCQVIgQkFDS0dST1VORAogICAgICAgICAgICBsb2NhbCBsb2FkaW5nQmcgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKICAgICAgICAgICAgbG9hZGluZ0JnLk5hbWUgPSAiTG9hZGluZ0JnIgogICAgICAgICAgICBsb2FkaW5nQmcuU2l6ZSA9IFVEaW0yLm5ldygxLCAtKHRleHRPZmZzZXRYICsgMTApLCAwLCBOb3RpZkNvbmZpZy5Mb2FkaW5nQmFySGVpZ2h0KQogICAgICAgICAgICBsb2FkaW5nQmcuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgdGV4dE9mZnNldFgsIDEsIC0xMCkKICAgICAgICAgICAgbG9hZGluZ0JnLkJhY2tncm91bmRDb2xvcjMgPSBOb3RpZkNvbmZpZy5Mb2FkaW5nQmFyQmdDb2xvcgogICAgICAgICAgICBsb2FkaW5nQmcuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgbG9hZGluZ0JnLkJvcmRlclNpemVQaXhlbCA9IDAKICAgICAgICAgICAgbG9hZGluZ0JnLkNsaXBzRGVzY2VuZGFudHMgPSB0cnVlCiAgICAgICAgICAgIGxvYWRpbmdCZy5QYXJlbnQgPSBmcmFtZQoKICAgICAgICAgICAgbG9jYWwgbG9hZGluZ0JnQ29ybmVyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIpCiAgICAgICAgICAgIGxvYWRpbmdCZ0Nvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygxLCAwKQogICAgICAgICAgICBsb2FkaW5nQmdDb3JuZXIuUGFyZW50ID0gbG9hZGluZ0JnCgogICAgICAgICAgICAtLSBMT0FESU5HIEJBUgogICAgICAgICAgICBsb2NhbCBsb2FkaW5nQmFyID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCiAgICAgICAgICAgIGxvYWRpbmdCYXIuTmFtZSA9ICJMb2FkaW5nQmFyIgogICAgICAgICAgICBsb2FkaW5nQmFyLlNpemUgPSBVRGltMi5uZXcoMCwgMCwgMSwgMCkKICAgICAgICAgICAgbG9hZGluZ0Jhci5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKICAgICAgICAgICAgbG9hZGluZ0Jhci5Cb3JkZXJTaXplUGl4ZWwgPSAwCiAgICAgICAgICAgIGxvYWRpbmdCYXIuUGFyZW50ID0gbG9hZGluZ0JnCgogICAgICAgICAgICBsb2NhbCBsb2FkaW5nQmFyQ29ybmVyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIpCiAgICAgICAgICAgIGxvYWRpbmdCYXJDb3JuZXIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMSwgMCkKICAgICAgICAgICAgbG9hZGluZ0JhckNvcm5lci5QYXJlbnQgPSBsb2FkaW5nQmFyCgogICAgICAgICAgICBsb2NhbCBiYXJHcmFkaWVudCA9IEluc3RhbmNlLm5ldygiVUlHcmFkaWVudCIpCiAgICAgICAgICAgIGJhckdyYWRpZW50LkNvbG9yID0KICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2UubmV3KAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgZ3JhZGllbnQxKSwKICAgICAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDEsIGdyYWRpZW50MikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKQogICAgICAgICAgICBiYXJHcmFkaWVudC5Sb3RhdGlvbiA9IDAKICAgICAgICAgICAgYmFyR3JhZGllbnQuUGFyZW50ID0gbG9hZGluZ0JhcgoKICAgICAgICAgICAgLS0gR2xvdyBlZmZlY3Qgb24gbG9hZGluZyBiYXIKICAgICAgICAgICAgbG9jYWwgYmFyR2xvdyA9IEluc3RhbmNlLm5ldygiSW1hZ2VMYWJlbCIpCiAgICAgICAgICAgIGJhckdsb3cuTmFtZSA9ICJHbG93IgogICAgICAgICAgICBiYXJHbG93LlNpemUgPSBVRGltMi5uZXcoMSwgMTAsIDEsIDEwKQogICAgICAgICAgICBiYXJHbG93LlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCAwKQogICAgICAgICAgICBiYXJHbG93LkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpCiAgICAgICAgICAgIGJhckdsb3cuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgYmFyR2xvdy5JbWFnZSA9ICJyYnhhc3NldGlkOi8vNTU1NDIzNjgwNSIKICAgICAgICAgICAgYmFyR2xvdy5JbWFnZUNvbG9yMyA9IGdyYWRpZW50MQogICAgICAgICAgICBiYXJHbG93LkltYWdlVHJhbnNwYXJlbmN5ID0gMC43CiAgICAgICAgICAgIGJhckdsb3cuU2NhbGVUeXBlID0gRW51bS5TY2FsZVR5cGUuU2xpY2UKICAgICAgICAgICAgYmFyR2xvdy5TbGljZUNlbnRlciA9IFJlY3QubmV3KDIzLCAyMywgMjc3LCAyNzcpCiAgICAgICAgICAgIGJhckdsb3cuUGFyZW50ID0gbG9hZGluZ0JhcgoKICAgICAgICAgICAgLS0gUExBWSBTT1VORAogICAgICAgICAgICBpZiBOb3RpZkNvbmZpZy5Tb3VuZEVuYWJsZWQgdGhlbgogICAgICAgICAgICAgICAgcGNhbGwoCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBzb3VuZCA9IEluc3RhbmNlLm5ldygiU291bmQiKQogICAgICAgICAgICAgICAgICAgICAgICBzb3VuZC5Tb3VuZElkID0gTm90aWZDb25maWcuU291bmRJZAogICAgICAgICAgICAgICAgICAgICAgICBzb3VuZC5Wb2x1bWUgPSBOb3RpZkNvbmZpZy5Tb3VuZFZvbHVtZQogICAgICAgICAgICAgICAgICAgICAgICBzb3VuZC5QYXJlbnQgPSBmcmFtZQogICAgICAgICAgICAgICAgICAgICAgICBzb3VuZDpQbGF5KCkKICAgICAgICAgICAgICAgICAgICAgICAgc291bmQuRW5kZWQ6Q29ubmVjdCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VuZDpEZXN0cm95KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgLS0gQU5JTUFUSU9OOiBFTlRFUgogICAgICAgICAgICBsb2NhbCB0d2VlbkluZm8gPSBUd2VlbkluZm8ubmV3KGZhZGVUaW1lLCBOb3RpZkNvbmZpZy5FYXNpbmdTdHlsZSwgRW51bS5FYXNpbmdEaXJlY3Rpb24uT3V0KQoKICAgICAgICAgICAgLS0gRnJhbWUgc2xpZGUgaW4KICAgICAgICAgICAgVHdlZW5TZXJ2aWNlOkNyZWF0ZSgKICAgICAgICAgICAgICAgIGZyYW1lLAogICAgICAgICAgICAgICAgdHdlZW5JbmZvLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFBvc2l0aW9uID0gbWlkZGxlUG9zLAogICAgICAgICAgICAgICAgICAgIEJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSBmcmFtZVRyYW5zcGFyZW5jeQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICApOlBsYXkoKQoKICAgICAgICAgICAgLS0gVGl0bGUgZmFkZSBpbgogICAgICAgICAgICBUd2VlblNlcnZpY2U6Q3JlYXRlKAogICAgICAgICAgICAgICAgdGl0bGVMYWJlbCwKICAgICAgICAgICAgICAgIFR3ZWVuSW5mby5uZXcoZmFkZVRpbWUgKiAwLjgpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFRleHRUcmFuc3BhcmVuY3kgPSAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICk6UGxheSgpCgogICAgICAgICAgICAtLSBEZXNjcmlwdGlvbiBmYWRlIGluIChkZWxheWVkKQogICAgICAgICAgICB0YXNrLmRlbGF5KAogICAgICAgICAgICAgICAgZmFkZVRpbWUgKiAwLjIsCiAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgVHdlZW5TZXJ2aWNlOkNyZWF0ZSgKICAgICAgICAgICAgICAgICAgICAgICAgZGVzY0xhYmVsLAogICAgICAgICAgICAgICAgICAgICAgICBUd2VlbkluZm8ubmV3KGZhZGVUaW1lICogMC44KSwKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgVGV4dFRyYW5zcGFyZW5jeSA9IDAKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICk6UGxheSgpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgKQoKICAgICAgICAgICAgLS0gU3Ryb2tlIGZhZGUgaW4KICAgICAgICAgICAgaWYgbm90aWZEYXRhLnN0cm9rZSB0aGVuCiAgICAgICAgICAgICAgICBUd2VlblNlcnZpY2U6Q3JlYXRlKAogICAgICAgICAgICAgICAgICAgIG5vdGlmRGF0YS5zdHJva2UsCiAgICAgICAgICAgICAgICAgICAgdHdlZW5JbmZvLAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgVHJhbnNwYXJlbmN5ID0gTm90aWZDb25maWcuU3Ryb2tlVHJhbnNwYXJlbmN5CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKTpQbGF5KCkKICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAtLSBBY2NlbnQgYmFyIGZhZGUgaW4KICAgICAgICAgICAgaWYgbm90aWZEYXRhLmFjY2VudEJhciB0aGVuCiAgICAgICAgICAgICAgICBUd2VlblNlcnZpY2U6Q3JlYXRlKAogICAgICAgICAgICAgICAgICAgIG5vdGlmRGF0YS5hY2NlbnRCYXIsCiAgICAgICAgICAgICAgICAgICAgdHdlZW5JbmZvLAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApOlBsYXkoKQogICAgICAgICAgICBlbmQKCiAgICAgICAgICAgIC0tIEljb24gY29udGFpbmVyIGZhZGUgaW4KICAgICAgICAgICAgaWYgbm90aWZEYXRhLmljb25Db250YWluZXIgdGhlbgogICAgICAgICAgICAgICAgVHdlZW5TZXJ2aWNlOkNyZWF0ZSgKICAgICAgICAgICAgICAgICAgICBub3RpZkRhdGEuaWNvbkNvbnRhaW5lciwKICAgICAgICAgICAgICAgICAgICB0d2VlbkluZm8sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC4zCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKTpQbGF5KCkKICAgICAgICAgICAgICAgIFR3ZWVuU2VydmljZTpDcmVhdGUoCiAgICAgICAgICAgICAgICAgICAgbm90aWZEYXRhLmljb25JbWFnZSwKICAgICAgICAgICAgICAgICAgICB0d2VlbkluZm8sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBJbWFnZVRyYW5zcGFyZW5jeSA9IDAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApOlBsYXkoKQogICAgICAgICAgICBlbmQKCiAgICAgICAgICAgIC0tIExvYWRpbmcgYmFyIGJhY2tncm91bmQgZmFkZSBpbgogICAgICAgICAgICBUd2VlblNlcnZpY2U6Q3JlYXRlKAogICAgICAgICAgICAgICAgbG9hZGluZ0JnLAogICAgICAgICAgICAgICAgdHdlZW5JbmZvLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIEJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSBOb3RpZkNvbmZpZy5Mb2FkaW5nQmFyQmdUcmFuc3BhcmVuY3kKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKTpQbGF5KCkKCiAgICAgICAgICAgIC0tIFdhaXQgZm9yIGVudGVyIGFuaW1hdGlvbgogICAgICAgICAgICB0YXNrLndhaXQoZmFkZVRpbWUpCgogICAgICAgICAgICAtLSBBTklNQVRJT046IExPQURJTkcgQkFSCiAgICAgICAgICAgIFR3ZWVuU2VydmljZTpDcmVhdGUoCiAgICAgICAgICAgICAgICBsb2FkaW5nQmFyLAogICAgICAgICAgICAgICAgVHdlZW5JbmZvLm5ldyhkdXJhdGlvbiwgRW51bS5FYXNpbmdTdHlsZS5MaW5lYXIpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKTpQbGF5KCkKCiAgICAgICAgICAgIC0tIEFuaW1hdGUgZ3JhZGllbnQgcm90YXRpb24gZm9yIHNoaW1tZXIgZWZmZWN0CiAgICAgICAgICAgIHRhc2suc3Bhd24oCiAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgZWxhcHNlZCA9IDAKICAgICAgICAgICAgICAgICAgICB3aGlsZSBlbGFwc2VkIDwgZHVyYXRpb24gYW5kIGZyYW1lLlBhcmVudCBkbwogICAgICAgICAgICAgICAgICAgICAgICBiYXJHcmFkaWVudC5PZmZzZXQgPSBWZWN0b3IyLm5ldyhtYXRoLnNpbihlbGFwc2VkICogMikgKiAwLjMsIDApCiAgICAgICAgICAgICAgICAgICAgICAgIGVsYXBzZWQgPSBlbGFwc2VkICsgMC4wMwogICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoMC4wMykKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICApCgogICAgICAgICAgICB0YXNrLndhaXQoZHVyYXRpb24pCgogICAgICAgICAgICAtLSBBTklNQVRJT046IEVYSVQKICAgICAgICAgICAgbG9jYWwgZXhpdFR3ZWVuSW5mbyA9IFR3ZWVuSW5mby5uZXcoZXhpdEZhZGVUaW1lLCBOb3RpZkNvbmZpZy5FYXNpbmdTdHlsZSwgRW51bS5FYXNpbmdEaXJlY3Rpb24uSW4pCgogICAgICAgICAgICAtLSBGcmFtZSBzbGlkZSBvdXQKICAgICAgICAgICAgVHdlZW5TZXJ2aWNlOkNyZWF0ZSgKICAgICAgICAgICAgICAgIGZyYW1lLAogICAgICAgICAgICAgICAgZXhpdFR3ZWVuSW5mbywKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBQb3NpdGlvbiA9IGV4aXRQb3MsCiAgICAgICAgICAgICAgICAgICAgQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKTpQbGF5KCkKCiAgICAgICAgICAgIC0tIFRpdGxlIGZhZGUgb3V0CiAgICAgICAgICAgIFR3ZWVuU2VydmljZTpDcmVhdGUoCiAgICAgICAgICAgICAgICB0aXRsZUxhYmVsLAogICAgICAgICAgICAgICAgVHdlZW5JbmZvLm5ldyhleGl0RmFkZVRpbWUgKiAwLjYpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFRleHRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICk6UGxheSgpCgogICAgICAgICAgICAtLSBEZXNjcmlwdGlvbiBmYWRlIG91dAogICAgICAgICAgICBUd2VlblNlcnZpY2U6Q3JlYXRlKAogICAgICAgICAgICAgICAgZGVzY0xhYmVsLAogICAgICAgICAgICAgICAgVHdlZW5JbmZvLm5ldyhleGl0RmFkZVRpbWUgKiAwLjYpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFRleHRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICk6UGxheSgpCgogICAgICAgICAgICAtLSBTdHJva2UgZmFkZSBvdXQKICAgICAgICAgICAgaWYgbm90aWZEYXRhLnN0cm9rZSB0aGVuCiAgICAgICAgICAgICAgICBUd2VlblNlcnZpY2U6Q3JlYXRlKAogICAgICAgICAgICAgICAgICAgIG5vdGlmRGF0YS5zdHJva2UsCiAgICAgICAgICAgICAgICAgICAgZXhpdFR3ZWVuSW5mbywKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApOlBsYXkoKQogICAgICAgICAgICBlbmQKCiAgICAgICAgICAgIC0tIEFjY2VudCBiYXIgZmFkZSBvdXQKICAgICAgICAgICAgaWYgbm90aWZEYXRhLmFjY2VudEJhciB0aGVuCiAgICAgICAgICAgICAgICBUd2VlblNlcnZpY2U6Q3JlYXRlKAogICAgICAgICAgICAgICAgICAgIG5vdGlmRGF0YS5hY2NlbnRCYXIsCiAgICAgICAgICAgICAgICAgICAgZXhpdFR3ZWVuSW5mbywKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIEJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKTpQbGF5KCkKICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAtLSBJY29uIGZhZGUgb3V0CiAgICAgICAgICAgIGlmIG5vdGlmRGF0YS5pY29uQ29udGFpbmVyIHRoZW4KICAgICAgICAgICAgICAgIFR3ZWVuU2VydmljZTpDcmVhdGUoCiAgICAgICAgICAgICAgICAgICAgbm90aWZEYXRhLmljb25Db250YWluZXIsCiAgICAgICAgICAgICAgICAgICAgZXhpdFR3ZWVuSW5mbywKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIEJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKTpQbGF5KCkKICAgICAgICAgICAgICAgIFR3ZWVuU2VydmljZTpDcmVhdGUoCiAgICAgICAgICAgICAgICAgICAgbm90aWZEYXRhLmljb25JbWFnZSwKICAgICAgICAgICAgICAgICAgICBleGl0VHdlZW5JbmZvLAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgSW1hZ2VUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKTpQbGF5KCkKICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAtLSBMb2FkaW5nIGJhciBmYWRlIG91dAogICAgICAgICAgICBUd2VlblNlcnZpY2U6Q3JlYXRlKAogICAgICAgICAgICAgICAgbG9hZGluZ0JnLAogICAgICAgICAgICAgICAgZXhpdFR3ZWVuSW5mbywKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICApOlBsYXkoKQoKICAgICAgICAgICAgdGFzay53YWl0KGV4aXRGYWRlVGltZSkKCiAgICAgICAgICAgIC0tIENMRUFOVVAKICAgICAgICAgICAgbG9jYWwgaWR4ID0gdGFibGUuZmluZChhY3RpdmVOb3RpZmljYXRpb25zLCBub3RpZkRhdGEpCiAgICAgICAgICAgIGlmIGlkeCB0aGVuCiAgICAgICAgICAgICAgICB0YWJsZS5yZW1vdmUoYWN0aXZlTm90aWZpY2F0aW9ucywgaWR4KQogICAgICAgICAgICBlbmQKCiAgICAgICAgICAgIGZyYW1lOkRlc3Ryb3koKQoKICAgICAgICAgICAgLS0gVXBkYXRlIHBvc2l0aW9ucyBvZiByZW1haW5pbmcgbm90aWZpY2F0aW9ucwogICAgICAgICAgICB1cGRhdGVQb3NpdGlvbnMoKQoKICAgICAgICAgICAgLS0gQ2FsbGJhY2sKICAgICAgICAgICAgaWYgdHlwZW9mKGNvbmZpZy5PbkNvbXBsZXRlKSA9PSAiZnVuY3Rpb24iIHRoZW4KICAgICAgICAgICAgICAgIHBjYWxsKGNvbmZpZy5PbkNvbXBsZXRlKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgICkKZW5kCgotLSBFWFBPUlQgVE8gR0xPQkFMCmdldGdlbnYoKS5TaG93Tm90aWZpY2F0aW9uID0gU2hvd05vdGlmaWNhdGlvbgpnZXRnZW52KCkuTm90aWZDb25maWcgPSBOb3RpZkNvbmZpZwpnZXRnZW52KCkuR3JhZGllbnRQcmVzZXRzID0gR3JhZGllbnRQcmVzZXRzCmdldGdlbnYoKS5JY29uUHJlc2V0cyA9IEljb25QcmVzZXRzCgotLSBDT05UT0ggUEVOR0dVTkFBTgoKLS1bWwogICAgQ09OVE9IIExBSU5OWUE6CiAgICAKICAgIC0tIDEuIFNpbXBsZSBub3RpZmljYXRpb24KICAgIFNob3dOb3RpZmljYXRpb24oewogICAgICAgIFRpdGxlID0gIkhlbGxvISIsCiAgICAgICAgRGVzY3JpcHRpb24gPSAiVGhpcyBpcyBhIHNpbXBsZSBub3RpZmljYXRpb24iLAogICAgICAgIER1cmF0aW9uID0gMgogICAgfSkKICAgIAogICAgLS0gMi4gV2l0aCBwcmVzZXQKICAgIFNob3dOb3RpZmljYXRpb24oewogICAgICAgIFRpdGxlID0gIkRpc2NvcmQiLAogICAgICAgIERlc2NyaXB0aW9uID0gIkxpbmsgY29waWVkIHRvIGNsaXBib2FyZCEiLAogICAgICAgIER1cmF0aW9uID0gMiwKICAgICAgICBQcmVzZXQgPSAiRGlzY29yZCIKICAgIH0pCiAgICAKICAgIC0tIDMuIEVycm9yIG5vdGlmaWNhdGlvbgogICAgU2hvd05vdGlmaWNhdGlvbih7CiAgICAgICAgVGl0bGUgPSAiRXJyb3IhIiwKICAgICAgICBEZXNjcmlwdGlvbiA9ICJTb21ldGhpbmcgd2VudCB3cm9uZyIsCiAgICAgICAgRHVyYXRpb24gPSAzLAogICAgICAgIFByZXNldCA9ICJFcnJvciIKICAgIH0pCiAgICAKICAgIC0tIDQuIEN1c3RvbSBncmFkaWVudAogICAgU2hvd05vdGlmaWNhdGlvbih7CiAgICAgICAgVGl0bGUgPSAiQ3VzdG9tIENvbG9ycyIsCiAgICAgICAgRGVzY3JpcHRpb24gPSAiV2l0aCBjdXN0b20gZ3JhZGllbnQhIiwKICAgICAgICBEdXJhdGlvbiA9IDIsCiAgICAgICAgR3JhZGllbnQxID0gQ29sb3IzLmZyb21SR0IoMjU1LCAwLCAxMjgpLAogICAgICAgIEdyYWRpZW50MiA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMTI4LCAwKQogICAgfSkKICAgIAogICAgLS0gNS4gRnVsbCBjdXN0b20KICAgIFNob3dOb3RpZmljYXRpb24oewogICAgICAgIFRpdGxlID0gIkZ1bGwgQ3VzdG9tIiwKICAgICAgICBEZXNjcmlwdGlvbiA9ICJBbGwgY3VzdG9taXplZCEiLAogICAgICAgIER1cmF0aW9uID0gMywKICAgICAgICBGcmFtZUNvbG9yID0gQ29sb3IzLmZyb21SR0IoNDAsIDIwLCA2MCksCiAgICAgICAgR3JhZGllbnQxID0gQ29sb3IzLmZyb21SR0IoMjU1LCAxMDAsIDIwMCksCiAgICAgICAgR3JhZGllbnQyID0gQ29sb3IzLmZyb21SR0IoMjAwLCA1MCwgMjU1KSwKICAgICAgICBJY29uID0gInJieGFzc2V0aWQ6Ly83NzMzNzE1NDAwIgogICAgfSkKICAgIAogICAgLS0gNi4gV2l0aCBjYWxsYmFjawogICAgU2hvd05vdGlmaWNhdGlvbih7CiAgICAgICAgVGl0bGUgPSAiTG9hZGluZyIsCiAgICAgICAgRGVzY3JpcHRpb24gPSAiUGxlYXNlIHdhaXQuLi4iLAogICAgICAgIER1cmF0aW9uID0gMiwKICAgICAgICBQcmVzZXQgPSAiSW5mbyIsCiAgICAgICAgT25Db21wbGV0ZSA9IGZ1bmN0aW9uKCkKICAgICAgICAgICAgcHJpbnQoIk5vdGlmaWNhdGlvbiBmaW5pc2hlZCEiKQogICAgICAgIGVuZAogICAgfSkKXV0KLS0gU2hvdyBOb3RpZmlrYXNpIHNhYXQgc2VsZXNhaSBkaW11YXQKU2hvd05vdGlmaWNhdGlvbigKICAgIHsKICAgICAgICBUaXRsZSA9ICJGbHljZXIgTm90aWZpY2F0aW9uIiwKICAgICAgICBEZXNjcmlwdGlvbiA9ICJMb2Fkc3RyaW5nIENoZWNrISIsCiAgICAgICAgRHVyYXRpb24gPSAxLjUsCiAgICAgICAgR3JhZGllbnQxID0gQ29sb3IzLmZyb21SR0IoMCwgMjAwLCAyNTUpLAogICAgICAgIEdyYWRpZW50MiA9IENvbG9yMy5mcm9tUkdCKDEwMCwgMCwgMjU1KSwKICAgICAgICBPbkNvbXBsZXRlID0gZnVuY3Rpb24oKQogICAgICAgICAgICBsb2NhbCBNYWluR3VpID0gSW5zdGFuY2UubmV3KCJTY3JlZW5HdWkiKQogICAgICAgICAgICBNYWluR3VpLk5hbWUgPSBHVUlfTkFNRQogICAgICAgICAgICBNYWluR3VpLlJlc2V0T25TcGF3biA9IGZhbHNlCiAgICAgICAgICAgIE1haW5HdWkuSWdub3JlR3VpSW5zZXQgPSB0cnVlCiAgICAgICAgICAgIE1haW5HdWkuQXJjaGl2YWJsZSA9IGZhbHNlCgogICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICBpZiBzeW4gYW5kIHN5bi5wcm90ZWN0X2d1aSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHN5bi5wcm90ZWN0X2d1aShNYWluR3VpKQogICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICAtLSBTZW1idW55aWthbiBuYW1hIEdVSQogICAgICAgICAgICAgICAgICAgIGlmIHNldGhpZGRlbnByb3BlcnR5IGFuZCB0eXBlb2Yoc2V0aGlkZGVucHJvcGVydHkpID09ICJmdW5jdGlvbiIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBzZXRoaWRkZW5wcm9wZXJ0eShNYWluR3VpLCAiTmFtZSIsICIiKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICkKCiAgICAgICAgICAgIE1haW5HdWkuUGFyZW50ID0gZ2V0Z2VudigpLkZseWNlcl9TYWZlUGFyZW50IG9yIHBhcmVudAogICAgICAgICAgICBnZXRnZW52KCkuX0ZseWNlckdVSSA9IE1haW5HdWkKCiAgICAgICAgICAgIC0tIFNpbXBhbiByZWZlcmVuc2kgdW50dWsgR1VJIGFnYXIgZGFwYXQgZGloYXB1cyBzYWF0IHJlaW5qZWN0CiAgICAgICAgICAgIGxvY2FsIGcgPSBnZXRnZW52IGFuZCBnZXRnZW52KCkgb3IgX0cKICAgICAgICAgICAgZ1tHVUlfUkVGX05BTUVdID0gTWFpbkd1aQoKICAgICAgICAgICAgLS0gQ2VnYWggZHVwbGlrYXQgR1VJCiAgICAgICAgICAgIGxvY2FsIHN1Y2Nlc3MsIGV4aXN0cyA9CiAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICBmb3IgXywgdiBpbiBwYWlycyhNYWluR3VpOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHY6SXNBKCJGcmFtZSIpIGFuZCB2OkdldEF0dHJpYnV0ZSgiRmx5Y2VyVGFnIikgPT0gdHJ1ZSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICApCiAgICAgICAgICAgIGlmIHN1Y2Nlc3MgYW5kIGV4aXN0cyB0aGVuCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAtLSBEaWJhd2FoIGluaSBGcmFtZSBHVUkgdXRhbWEKICAgICAgICAgICAgLS0gRnJhbWUgdXRhbWEKICAgICAgICAgICAgbG9jYWwgTWFpbkZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCiAgICAgICAgICAgIE1haW5GcmFtZS5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgIE1haW5GcmFtZS5TaXplID0gVURpbTIubmV3KDAsIDI0MCwgMCwgMjEwKQogICAgICAgICAgICBNYWluRnJhbWUuUG9zaXRpb24gPSBVRGltMi5uZXcoMC4zOCwgMCwgMC4xLCAwKQogICAgICAgICAgICBNYWluRnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE1LCAwLCAyMCkKICAgICAgICAgICAgTWFpbkZyYW1lLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjMKICAgICAgICAgICAgTWFpbkZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDAKICAgICAgICAgICAgTWFpbkZyYW1lLkFjdGl2ZSA9IHRydWUKICAgICAgICAgICAgTWFpbkZyYW1lOlNldEF0dHJpYnV0ZSgiRmx5Y2VyVGFnIiwgdHJ1ZSkKICAgICAgICAgICAgTWFpbkZyYW1lLlBhcmVudCA9IE1haW5HdWkKCiAgICAgICAgICAgIC0tIERpYmF3YWggaW5pIEZyYW1lIHVudHVrIGRyYWdnYWJsZSBkaSBiYWdpYW4ganVkdWwKICAgICAgICAgICAgLS0gRHJhZ2dhYmxlIGZyYW1lIGp1ZHVsIEdVSQogICAgICAgICAgICBsb2NhbCBEcmFnQmFyVG9wID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCiAgICAgICAgICAgIERyYWdCYXJUb3AuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICBEcmFnQmFyVG9wLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMCwgMzApCiAgICAgICAgICAgIERyYWdCYXJUb3AuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMCwgLTcpCiAgICAgICAgICAgIERyYWdCYXJUb3AuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDMwLCAyMCwgNDApCiAgICAgICAgICAgIERyYWdCYXJUb3AuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgRHJhZ0JhclRvcC5Cb3JkZXJTaXplUGl4ZWwgPSAwCiAgICAgICAgICAgIERyYWdCYXJUb3AuWkluZGV4ID0gMTAKICAgICAgICAgICAgRHJhZ0JhclRvcC5QYXJlbnQgPSBNYWluRnJhbWUKCiAgICAgICAgICAgIG1ha2VEcmFnZ2FibGUoRHJhZ0JhclRvcCwgTWFpbkZyYW1lKQoKICAgICAgICAgICAgLS0gRHJhZ2dhYmxlIGZyYW1lIEJBUiBCYXdhaAogICAgICAgICAgICBsb2NhbCBEcmFnQmFyQm90dG9tID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCiAgICAgICAgICAgIERyYWdCYXJCb3R0b20uTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICBEcmFnQmFyQm90dG9tLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMCwgMTkpCiAgICAgICAgICAgIERyYWdCYXJCb3R0b20uUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMSwgMSkgLS0gbmVtcGVsIGtlIGJhd2FoCiAgICAgICAgICAgIERyYWdCYXJCb3R0b20uQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLCAxKQogICAgICAgICAgICBEcmFnQmFyQm90dG9tLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigzMCwgMjAsIDQwKQogICAgICAgICAgICBEcmFnQmFyQm90dG9tLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgIERyYWdCYXJCb3R0b20uQm9yZGVyU2l6ZVBpeGVsID0gMAogICAgICAgICAgICBEcmFnQmFyQm90dG9tLlpJbmRleCA9IDEwCiAgICAgICAgICAgIERyYWdCYXJCb3R0b20uUGFyZW50ID0gTWFpbkZyYW1lCgogICAgICAgICAgICAtLSBVSUNvcm5lcgogICAgICAgICAgICBsb2NhbCBjb3JuZXIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIikKICAgICAgICAgICAgY29ybmVyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgY29ybmVyLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAsIDEwKQogICAgICAgICAgICBjb3JuZXIuUGFyZW50ID0gRHJhZ0JhckJvdHRvbQoKICAgICAgICAgICAgLS0gRHJhZ2dhYmxlCiAgICAgICAgICAgIG1ha2VEcmFnZ2FibGUoRHJhZ0JhckJvdHRvbSwgTWFpbkZyYW1lKQoKICAgICAgICAgICAgLS0gR2xvYmFsIGFjY2VzcwogICAgICAgICAgICBnZXRnZW52KCkuRmx5Y2VyTWFpbkZyYW1lID0gTWFpbkZyYW1lCiAgICAgICAgICAgIGdldGdlbnYoKS5GbHljZXJSZWZzID0gewogICAgICAgICAgICAgICAgR1VJID0gTWFpbkd1aSwKICAgICAgICAgICAgICAgIE1haW5GcmFtZSA9IE1haW5GcmFtZQogICAgICAgICAgICB9CgogICAgICAgICAgICAtLSBKdWR1bCBHVUkKICAgICAgICAgICAgLS0gVkFMSURBU0kgTUFJTiBGUkFNRSAoV0FKSUIpCiAgICAgICAgICAgIGxvY2FsIE1haW5GcmFtZSA9IGdldGdlbnYoKS5GbHljZXJNYWluRnJhbWUKICAgICAgICAgICAgaWYgbm90IE1haW5GcmFtZSBvciBub3QgTWFpbkZyYW1lOklzQSgiRnJhbWUiKSB0aGVuCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAtLSBKVURVTCBHVUkKICAgICAgICAgICAgbG9jYWwgdGl0bGVMYWJlbCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKICAgICAgICAgICAgdGl0bGVMYWJlbC5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgIHRpdGxlTGFiZWwuUGFyZW50ID0gTWFpbkZyYW1lCiAgICAgICAgICAgIHRpdGxlTGFiZWwuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLCAxNikKICAgICAgICAgICAgdGl0bGVMYWJlbC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLCAzKQogICAgICAgICAgICB0aXRsZUxhYmVsLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgIHRpdGxlTGFiZWwuVGV4dCA9ICJFc2NhcGUgVHN1bmFtaSBGb3IgQnJhaW5yb3RzIgogICAgICAgICAgICB0aXRsZUxhYmVsLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyMzAsIDIzMCwgMjU1KQogICAgICAgICAgICB0aXRsZUxhYmVsLkZvbnQgPSBFbnVtLkZvbnQuRnJlZG9rYU9uZQogICAgICAgICAgICB0aXRsZUxhYmVsLlRleHRTaXplID0gMTIKICAgICAgICAgICAgdGl0bGVMYWJlbC5UZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuQ2VudGVyCiAgICAgICAgICAgIHRpdGxlTGFiZWwuVGV4dFlBbGlnbm1lbnQgPSBFbnVtLlRleHRZQWxpZ25tZW50LkNlbnRlcgogICAgICAgICAgICB0aXRsZUxhYmVsLlpJbmRleCA9IDUKCiAgICAgICAgICAgIGxvY2FsIHRpdGxlU3Ryb2tlID0gSW5zdGFuY2UubmV3KCJVSVN0cm9rZSIpCiAgICAgICAgICAgIHRpdGxlU3Ryb2tlLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgdGl0bGVTdHJva2UuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQig5MCwgOTAsIDEyMCkKICAgICAgICAgICAgdGl0bGVTdHJva2UuVGhpY2tuZXNzID0gMC41CiAgICAgICAgICAgIHRpdGxlU3Ryb2tlLlRyYW5zcGFyZW5jeSA9IDAuMQogICAgICAgICAgICB0aXRsZVN0cm9rZS5QYXJlbnQgPSB0aXRsZUxhYmVsCgogICAgICAgICAgICAtLSBTVFlMRSBNQUlOIEZSQU1FCiAgICAgICAgICAgIGxvY2FsIG1haW5Db3JuZXIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIikKICAgICAgICAgICAgbWFpbkNvcm5lci5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgIG1haW5Db3JuZXIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwgMTQpCiAgICAgICAgICAgIG1haW5Db3JuZXIuUGFyZW50ID0gTWFpbkZyYW1lCgogICAgICAgICAgICBsb2NhbCBtYWluU3Ryb2tlID0gSW5zdGFuY2UubmV3KCJVSVN0cm9rZSIpCiAgICAgICAgICAgIG1haW5TdHJva2UuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICBtYWluU3Ryb2tlLlRoaWNrbmVzcyA9IDIKICAgICAgICAgICAgbWFpblN0cm9rZS5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDgwLCAxMjAsIDI1NSkKICAgICAgICAgICAgbWFpblN0cm9rZS5UcmFuc3BhcmVuY3kgPSAwLjMKICAgICAgICAgICAgbWFpblN0cm9rZS5BcHBseVN0cm9rZU1vZGUgPSBFbnVtLkFwcGx5U3Ryb2tlTW9kZS5Cb3JkZXIKICAgICAgICAgICAgbWFpblN0cm9rZS5QYXJlbnQgPSBNYWluRnJhbWUKCiAgICAgICAgICAgIC0tIEVYVFJBIEZSQU1FIChCQVdBSCkKICAgICAgICAgICAgbG9jYWwgRXh0cmFGcmFtZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQogICAgICAgICAgICBFeHRyYUZyYW1lLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgRXh0cmFGcmFtZS5TaXplID0gVURpbTIubmV3KDEsIDAsIDAsIDIxKQogICAgICAgICAgICBFeHRyYUZyYW1lLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDEsIDUpCiAgICAgICAgICAgIEV4dHJhRnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE1LCAwLCAyMCkKICAgICAgICAgICAgRXh0cmFGcmFtZS5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC4zCiAgICAgICAgICAgIEV4dHJhRnJhbWUuQm9yZGVyU2l6ZVBpeGVsID0gMAogICAgICAgICAgICBFeHRyYUZyYW1lOlNldEF0dHJpYnV0ZSgiRmx5Y2VyVGFnIiwgdHJ1ZSkKICAgICAgICAgICAgRXh0cmFGcmFtZS5QYXJlbnQgPSBNYWluRnJhbWUKCiAgICAgICAgICAgIGxvY2FsIGVjID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIpCiAgICAgICAgICAgIGVjLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgZWMuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwgMTApCiAgICAgICAgICAgIGVjLlBhcmVudCA9IEV4dHJhRnJhbWUKCiAgICAgICAgICAgIGxvY2FsIGVzID0gSW5zdGFuY2UubmV3KCJVSVN0cm9rZSIpCiAgICAgICAgICAgIGVzLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgZXMuVGhpY2tuZXNzID0gMgogICAgICAgICAgICBlcy5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDgwLCAxMjAsIDI1NSkKICAgICAgICAgICAgZXMuVHJhbnNwYXJlbmN5ID0gMC4zCiAgICAgICAgICAgIGVzLkFwcGx5U3Ryb2tlTW9kZSA9IEVudW0uQXBwbHlTdHJva2VNb2RlLkJvcmRlcgogICAgICAgICAgICBlcy5QYXJlbnQgPSBFeHRyYUZyYW1lCgogICAgICAgICAgICAtLSBTRVBBUkFUT1IgTElORQogICAgICAgICAgICBsb2NhbCBnYXJpczEgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKICAgICAgICAgICAgZ2FyaXMxLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgZ2FyaXMxLlNpemUgPSBVRGltMi5uZXcoMSwgLTEwLCAwLCAyKQogICAgICAgICAgICBnYXJpczEuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgNSwgMCwgMjEpCiAgICAgICAgICAgIGdhcmlzMS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKICAgICAgICAgICAgZ2FyaXMxLkJvcmRlclNpemVQaXhlbCA9IDAKICAgICAgICAgICAgZ2FyaXMxLlpJbmRleCA9IDEwCiAgICAgICAgICAgIGdhcmlzMTpTZXRBdHRyaWJ1dGUoIkZseWNlclRhZyIsIHRydWUpCiAgICAgICAgICAgIGdhcmlzMS5QYXJlbnQgPSBNYWluRnJhbWUKCiAgICAgICAgICAgIGxvY2FsIGdyYWQxID0gSW5zdGFuY2UubmV3KCJVSUdyYWRpZW50IikKICAgICAgICAgICAgZ3JhZDEuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICBncmFkMS5Sb3RhdGlvbiA9IDAKICAgICAgICAgICAgZ3JhZDEuQ29sb3IgPQogICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZS5uZXcoCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLjAwLCBDb2xvcjMuZnJvbVJHQig4MCwgMTYwLCAyNTUpKSwKICAgICAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAuNDUsIENvbG9yMy5mcm9tUkdCKDE4MCwgODAsIDI1NSkpLAogICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMC41MCwgQ29sb3IzLmZyb21SR0IoMjAwLCA3MCwgMjU1KSksCiAgICAgICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLjU1LCBDb2xvcjMuZnJvbVJHQigxODAsIDgwLCAyNTUpKSwKICAgICAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDEuMDAsIENvbG9yMy5mcm9tUkdCKDgwLCAxNjAsIDI1NSkpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICkKICAgICAgICAgICAgZ3JhZDEuVHJhbnNwYXJlbmN5ID0KICAgICAgICAgICAgICAgIE51bWJlclNlcXVlbmNlLm5ldygKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBOdW1iZXJTZXF1ZW5jZUtleXBvaW50Lm5ldygwLjAwLCAxKSwKICAgICAgICAgICAgICAgICAgICBOdW1iZXJTZXF1ZW5jZUtleXBvaW50Lm5ldygwLjI1LCAwLjIpLAogICAgICAgICAgICAgICAgICAgIE51bWJlclNlcXVlbmNlS2V5cG9pbnQubmV3KDAuNDUsIDApLAogICAgICAgICAgICAgICAgICAgIE51bWJlclNlcXVlbmNlS2V5cG9pbnQubmV3KDAuNTUsIDApLAogICAgICAgICAgICAgICAgICAgIE51bWJlclNlcXVlbmNlS2V5cG9pbnQubmV3KDAuNzUsIDAuMiksCiAgICAgICAgICAgICAgICAgICAgTnVtYmVyU2VxdWVuY2VLZXlwb2ludC5uZXcoMS4wMCwgMSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKQogICAgICAgICAgICBncmFkMS5QYXJlbnQgPSBnYXJpczEKCiAgICAgICAgICAgIC0tIEdhcmlzIFBlbWJhdGFzIFNlcGFyYXRvciBrZWR1YQogICAgICAgICAgICBsb2NhbCBnYXJpczIgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKICAgICAgICAgICAgZ2FyaXMyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgZ2FyaXMyLlNpemUgPSBVRGltMi5uZXcoMSwgLTEwLCAwLCAyKQogICAgICAgICAgICBnYXJpczIuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgNSwgMCwgMTkxKQogICAgICAgICAgICBnYXJpczIuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCiAgICAgICAgICAgIGdhcmlzMi5Cb3JkZXJTaXplUGl4ZWwgPSAwCiAgICAgICAgICAgIGdhcmlzMi5aSW5kZXggPSAxMAogICAgICAgICAgICBnYXJpczI6U2V0QXR0cmlidXRlKCJGbHljZXJUYWciLCB0cnVlKQogICAgICAgICAgICBnYXJpczIuUGFyZW50ID0gTWFpbkZyYW1lCgogICAgICAgICAgICBsb2NhbCBncmFkMiA9IEluc3RhbmNlLm5ldygiVUlHcmFkaWVudCIpCiAgICAgICAgICAgIGdyYWQyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgZ3JhZDIuUm90YXRpb24gPSAwCiAgICAgICAgICAgIGdyYWQyLkNvbG9yID0gZ3JhZDEuQ29sb3IKICAgICAgICAgICAgZ3JhZDIuVHJhbnNwYXJlbmN5ID0gZ3JhZDEuVHJhbnNwYXJlbmN5CiAgICAgICAgICAgIGdyYWQyLlBhcmVudCA9IGdhcmlzMgoKICAgICAgICAgICAgLS0gRGliYXdhaCBpbmkgVWlsaXN0bGF5b3V0LCBraHVzdXMgdW50dWsgVG9tYm9sICYgRml0dXIKICAgICAgICAgICAgLS0gU2Nyb2xsYWJsZSBsaXN0IHRvbWJvbCAoUEMgZGFuIE1vYmlsZSkKICAgICAgICAgICAgbG9jYWwgU2Nyb2xsRnJhbWUgPSBJbnN0YW5jZS5uZXcoIlNjcm9sbGluZ0ZyYW1lIikKICAgICAgICAgICAgU2Nyb2xsRnJhbWUuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICBTY3JvbGxGcmFtZS5QYXJlbnQgPSBNYWluRnJhbWUKICAgICAgICAgICAgU2Nyb2xsRnJhbWUuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgU2Nyb2xsRnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygxLCAtOSwgMSwgLTQ0KQogICAgICAgICAgICBTY3JvbGxGcmFtZS5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCA1LCAwLCAyNCkKICAgICAgICAgICAgU2Nyb2xsRnJhbWUuU2Nyb2xsQmFyVGhpY2tuZXNzID0gMAogICAgICAgICAgICBTY3JvbGxGcmFtZS5TY3JvbGxpbmdEaXJlY3Rpb24gPSBFbnVtLlNjcm9sbGluZ0RpcmVjdGlvbi5ZCiAgICAgICAgICAgIFNjcm9sbEZyYW1lLlZlcnRpY2FsU2Nyb2xsQmFySW5zZXQgPSBFbnVtLlNjcm9sbEJhckluc2V0LlNjcm9sbEJhcgogICAgICAgICAgICBTY3JvbGxGcmFtZS5DYW52YXNTaXplID0gVURpbTIubmV3KDAsIDAsIDQuMzYsIDEpIC0tIFNldHRpbmcgU2Nyb2xsaW5nCiAgICAgICAgICAgIFNjcm9sbEZyYW1lLkNsaXBzRGVzY2VuZGFudHMgPSB0cnVlCiAgICAgICAgICAgIFNjcm9sbEZyYW1lLkFjdGl2ZSA9IHRydWUKICAgICAgICAgICAgU2Nyb2xsRnJhbWUuU2VsZWN0YWJsZSA9IHRydWUKCiAgICAgICAgICAgIC0tIFNjcm9sbGluZyBVSSBQYWRkaW5nCiAgICAgICAgICAgIGxvY2FsIHBhZGRpbmcgPSBJbnN0YW5jZS5uZXcoIlVJUGFkZGluZyIpCiAgICAgICAgICAgIHBhZGRpbmcuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICBwYWRkaW5nLlBhcmVudCA9IFNjcm9sbEZyYW1lCiAgICAgICAgICAgIHBhZGRpbmcuUGFkZGluZ1RvcCA9IFVEaW0ubmV3KDAsIDMpCiAgICAgICAgICAgIHBhZGRpbmcuUGFkZGluZ0xlZnQgPSBVRGltLm5ldygwLCAwKQogICAgICAgICAgICBwYWRkaW5nLlBhZGRpbmdSaWdodCA9IFVEaW0ubmV3KDAsIDApCiAgICAgICAgICAgIHBhZGRpbmcuUGFkZGluZ0JvdHRvbSA9IFVEaW0ubmV3KDAsIDApCgogICAgICAgICAgICAtLSBGcmFtZSBkYWxhbSBzY3JvbGwgdW50dWsgbWVuYW1wdW5nIHRvbWJvbAogICAgICAgICAgICBsb2NhbCBCdXR0b25Db250YWluZXIgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKICAgICAgICAgICAgQnV0dG9uQ29udGFpbmVyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgQnV0dG9uQ29udGFpbmVyLlBhcmVudCA9IFNjcm9sbEZyYW1lCiAgICAgICAgICAgIEJ1dHRvbkNvbnRhaW5lci5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICBCdXR0b25Db250YWluZXIuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLCAwKQogICAgICAgICAgICBCdXR0b25Db250YWluZXIuQXV0b21hdGljU2l6ZSA9IEVudW0uQXV0b21hdGljU2l6ZS5ZCgogICAgICAgICAgICAtLSBMYXlvdXQgdW50dWsgdG9tYm9sLXRvbWJvbAogICAgICAgICAgICBsb2NhbCBsYXlvdXQgPSBJbnN0YW5jZS5uZXcoIlVJTGlzdExheW91dCIpCiAgICAgICAgICAgIGxheW91dC5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgIGxheW91dC5QYXJlbnQgPSBCdXR0b25Db250YWluZXIKICAgICAgICAgICAgbGF5b3V0Lkhvcml6b250YWxBbGlnbm1lbnQgPSBFbnVtLkhvcml6b250YWxBbGlnbm1lbnQuQ2VudGVyCiAgICAgICAgICAgIGxheW91dC5WZXJ0aWNhbEFsaWdubWVudCA9IEVudW0uVmVydGljYWxBbGlnbm1lbnQuVG9wCiAgICAgICAgICAgIGxheW91dC5Tb3J0T3JkZXIgPSBFbnVtLlNvcnRPcmRlci5MYXlvdXRPcmRlcgogICAgICAgICAgICBsYXlvdXQuUGFkZGluZyA9IFVEaW0ubmV3KDAsIDQpCgogICAgICAgICAgICAtLSBTaW1wYW4gcmVmZXJlbnNpIGdsb2JhbCBqaWthIGRpYnV0dWhrYW4KICAgICAgICAgICAgbG9jYWwgUmVmcyA9IGdldGdlbnYoKS5GbHljZXJSZWZzIG9yIHt9CiAgICAgICAgICAgIFJlZnMuR1VJID0gTWFpbkd1aQogICAgICAgICAgICBSZWZzLk1haW5GcmFtZSA9IE1haW5GcmFtZQogICAgICAgICAgICBSZWZzLlNjcm9sbEZyYW1lID0gU2Nyb2xsRnJhbWUKICAgICAgICAgICAgUmVmcy5CdXR0b25Db250YWluZXIgPSBCdXR0b25Db250YWluZXIKICAgICAgICAgICAgUmVmcy5MYXlvdXQgPSBsYXlvdXQKICAgICAgICAgICAgZ2V0Z2VudigpLkZseWNlclJlZnMgPSBSZWZzCgogICAgICAgICAgICAtLSBEaWJhd2FoIGluaSBUZXh0IExhYmVsIChNYWluKQogICAgICAgICAgICBsb2NhbCBjb250YWluZXIgPSBnZXRnZW52KCkuRmx5Y2VyUmVmcyBhbmQgZ2V0Z2VudigpLkZseWNlclJlZnMuQnV0dG9uQ29udGFpbmVyCiAgICAgICAgICAgIGxvY2FsIHBhcmVudEZyYW1lID0gZ2V0Z2VudigpLkZseWNlck1haW5GcmFtZQogICAgICAgICAgICBpZiBub3QgY29udGFpbmVyIG9yIG5vdCBwYXJlbnRGcmFtZSB0aGVuCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAtLSBGdW5nc2kgbWVtYnVhdCBsYWJlbAogICAgICAgICAgICBsb2NhbCBmdW5jdGlvbiBjcmVhdGVUZXh0TGFiZWwobmFtZVRleHQsIGxheW91dE9yZGVyKQogICAgICAgICAgICAgICAgcGNhbGwoCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAtLSBGUkFNRSBDT05UQUlORVIKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgZnJhbWUgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKICAgICAgICAgICAgICAgICAgICAgICAgZnJhbWUuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgICAgICAgICBmcmFtZS5TaXplID0gVURpbTIubmV3KDEsIC02LCAwLCAyMCkKICAgICAgICAgICAgICAgICAgICAgICAgZnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCiAgICAgICAgICAgICAgICAgICAgICAgIGZyYW1lLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjkyCiAgICAgICAgICAgICAgICAgICAgICAgIGZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDAKICAgICAgICAgICAgICAgICAgICAgICAgZnJhbWUuTGF5b3V0T3JkZXIgPSBsYXlvdXRPcmRlciBvciAwCiAgICAgICAgICAgICAgICAgICAgICAgIGZyYW1lOlNldEF0dHJpYnV0ZSgiRmx5Y2VyVGFnIiwgdHJ1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgZnJhbWUuUGFyZW50ID0gY29udGFpbmVyCgogICAgICAgICAgICAgICAgICAgICAgICAtLSBVSSBDT1JORVIKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgY29ybmVyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIpCiAgICAgICAgICAgICAgICAgICAgICAgIGNvcm5lci5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICAgICAgICAgIGNvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCA4KQogICAgICAgICAgICAgICAgICAgICAgICBjb3JuZXIuUGFyZW50ID0gZnJhbWUKCiAgICAgICAgICAgICAgICAgICAgICAgIC0tIFVJIFNUUk9LRQogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBzdHJva2UgPSBJbnN0YW5jZS5uZXcoIlVJU3Ryb2tlIikKICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlLlRoaWNrbmVzcyA9IDEKICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlLlRyYW5zcGFyZW5jeSA9IDAuODUKICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlLlBhcmVudCA9IGZyYW1lCgogICAgICAgICAgICAgICAgICAgICAgICAtLSBURVhUIExBQkVMCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIGxhYmVsID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQogICAgICAgICAgICAgICAgICAgICAgICBsYWJlbC5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwuVGV4dCA9IG5hbWVUZXh0CiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyMzUsIDIzNSwgMjM1KQogICAgICAgICAgICAgICAgICAgICAgICBsYWJlbC5Gb250ID0gRW51bS5Gb250LlNvdXJjZVNhbnNCb2xkCiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsLlRleHRTaXplID0gMTQKICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwuVGV4dFdyYXBwZWQgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsLlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5DZW50ZXIKICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwuVGV4dFlBbGlnbm1lbnQgPSBFbnVtLlRleHRZQWxpZ25tZW50LkNlbnRlcgogICAgICAgICAgICAgICAgICAgICAgICBsYWJlbC5QYXJlbnQgPSBmcmFtZQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICBlbmQKCiAgICAgICAgICAgIC0tIENSRUFURSBNRU5VIExBQkVMCiAgICAgICAgICAgIGNyZWF0ZVRleHRMYWJlbCgiR2FwcyBQYXNzZWQiLCAxKQogICAgICAgICAgICBjcmVhdGVUZXh0TGFiZWwoIkNvbGxlY3RzIiwgMTApCiAgICAgICAgICAgIGNyZWF0ZVRleHRMYWJlbCgiRXZlbnRzIiwgMTMpCiAgICAgICAgICAgIGNyZWF0ZVRleHRMYWJlbCgiVXBncmFkZXMiLCAyMCkKICAgICAgICAgICAgY3JlYXRlVGV4dExhYmVsKCJWaXN1YWwiLCAzMCkKICAgICAgICAgICAgY3JlYXRlVGV4dExhYmVsKCJNaXNjIiwgNTApCgogICAgICAgICAgICAtLSBESUJBV0FIIElOSSBUT01CT0wgJiBGVU5HU0kgKEdBUCBVUCAmIEdBUCBET1dOKQogICAgICAgICAgICBmdW5jdGlvbiBDcmVhdGVBdXRvQ29sbGVjdERlc2NyaXB0aW9uKGxheW91dE9yZGVyKQogICAgICAgICAgICAgICAgbG9jYWwgY29udGFpbmVyID0gZ2V0Z2VudigpLkZseWNlclJlZnMgYW5kIGdldGdlbnYoKS5GbHljZXJSZWZzLkJ1dHRvbkNvbnRhaW5lcgogICAgICAgICAgICAgICAgaWYgbm90IGNvbnRhaW5lciB0aGVuCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAtLSBVSSBDT05GSUcKICAgICAgICAgICAgICAgIGxvY2FsIERlc2NyaXB0aW9ucyA9IHsKICAgICAgICAgICAgICAgICAgICAiVXNlIGlmIHlvdSBoYXZlIHVwZ3JhZGVkIFNwZWVkLiIsCiAgICAgICAgICAgICAgICAgICAgIlRoZSBoaWdoZXIgdGhlIHVwZ3JhZGUgc3BlZWQsIHRoZSBiZXR0ZXIuIgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGxvY2FsIERFU0NfQ09ORklHID0gewogICAgICAgICAgICAgICAgICAgIFRleHRTaXplID0gMTEsCiAgICAgICAgICAgICAgICAgICAgVGV4dENvbG9yID0gQ29sb3IzLmZyb21SR0IoMjAwLCAyMDAsIDIwMCksCiAgICAgICAgICAgICAgICAgICAgTGluZUhlaWdodCA9IDEyLAogICAgICAgICAgICAgICAgICAgIFRvcFBhZGRpbmcgPSA1LAogICAgICAgICAgICAgICAgICAgIEJvdHRvbVBhZGRpbmcgPSA1CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgbG9jYWwgdG90YWxIZWlnaHQgPQogICAgICAgICAgICAgICAgICAgICgjRGVzY3JpcHRpb25zICogREVTQ19DT05GSUcuTGluZUhlaWdodCkgKyBERVNDX0NPTkZJRy5Ub3BQYWRkaW5nICsgREVTQ19DT05GSUcuQm90dG9tUGFkZGluZwoKICAgICAgICAgICAgICAgIC0tIFVJCiAgICAgICAgICAgICAgICBsb2NhbCBmcmFtZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQogICAgICAgICAgICAgICAgZnJhbWUuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgZnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygxLCAtNSwgMCwgdG90YWxIZWlnaHQpCiAgICAgICAgICAgICAgICBmcmFtZS5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC4zCiAgICAgICAgICAgICAgICBmcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKICAgICAgICAgICAgICAgIGZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDAKICAgICAgICAgICAgICAgIGZyYW1lLkxheW91dE9yZGVyID0gbGF5b3V0T3JkZXIgb3IgMTAKICAgICAgICAgICAgICAgIGZyYW1lLlBhcmVudCA9IGNvbnRhaW5lcgoKICAgICAgICAgICAgICAgIGxvY2FsIGZyYW1lQ29ybmVyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIpCiAgICAgICAgICAgICAgICBmcmFtZUNvcm5lci5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBmcmFtZUNvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCA2KQogICAgICAgICAgICAgICAgZnJhbWVDb3JuZXIuUGFyZW50ID0gZnJhbWUKCiAgICAgICAgICAgICAgICBsb2NhbCBmcmFtZVN0cm9rZSA9IEluc3RhbmNlLm5ldygiVUlTdHJva2UiKQogICAgICAgICAgICAgICAgZnJhbWVTdHJva2UuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgZnJhbWVTdHJva2UuVGhpY2tuZXNzID0gMQogICAgICAgICAgICAgICAgZnJhbWVTdHJva2UuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigxODAsIDIwMCwgMjIwKQogICAgICAgICAgICAgICAgZnJhbWVTdHJva2UuQXBwbHlTdHJva2VNb2RlID0gRW51bS5BcHBseVN0cm9rZU1vZGUuQm9yZGVyCiAgICAgICAgICAgICAgICBmcmFtZVN0cm9rZS5UcmFuc3BhcmVuY3kgPSAwLjQKICAgICAgICAgICAgICAgIGZyYW1lU3Ryb2tlLlBhcmVudCA9IGZyYW1lCgogICAgICAgICAgICAgICAgbG9jYWwgZ3JhZGllbnQgPSBJbnN0YW5jZS5uZXcoIlVJR3JhZGllbnQiKQogICAgICAgICAgICAgICAgZ3JhZGllbnQuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgZ3JhZGllbnQuUm90YXRpb24gPSAxODAKICAgICAgICAgICAgICAgIGdyYWRpZW50LkNvbG9yID0KICAgICAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlLm5ldygKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgQ29sb3IzLmZyb21SR0IoMTIwLCA4MCwgMjAwKSksCiAgICAgICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMSwgQ29sb3IzLmZyb21SR0IoNzAsIDQwLCAxNDApKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGdyYWRpZW50LlBhcmVudCA9IGZyYW1lCgogICAgICAgICAgICAgICAgZm9yIGksIGRlc2NUZXh0IGluIGlwYWlycyhEZXNjcmlwdGlvbnMpIGRvCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgZGVzY0xhYmVsID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQogICAgICAgICAgICAgICAgICAgIGRlc2NMYWJlbC5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICAgICAgZGVzY0xhYmVsLlBhcmVudCA9IGZyYW1lCiAgICAgICAgICAgICAgICAgICAgZGVzY0xhYmVsLlNpemUgPSBVRGltMi5uZXcoMC45NSwgMCwgMCwgREVTQ19DT05GSUcuTGluZUhlaWdodCkKICAgICAgICAgICAgICAgICAgICBkZXNjTGFiZWwuUG9zaXRpb24gPQogICAgICAgICAgICAgICAgICAgICAgICBVRGltMi5uZXcoMCwgMTAsIDAsIERFU0NfQ09ORklHLlRvcFBhZGRpbmcgKyAoKGkgLSAxKSAqIERFU0NfQ09ORklHLkxpbmVIZWlnaHQpKQogICAgICAgICAgICAgICAgICAgIGRlc2NMYWJlbC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgICAgIGRlc2NMYWJlbC5UZXh0ID0gZGVzY1RleHQKICAgICAgICAgICAgICAgICAgICBkZXNjTGFiZWwuRm9udCA9IEVudW0uRm9udC5Tb3VyY2VTYW5zCiAgICAgICAgICAgICAgICAgICAgZGVzY0xhYmVsLlRleHRTaXplID0gREVTQ19DT05GSUcuVGV4dFNpemUKICAgICAgICAgICAgICAgICAgICBkZXNjTGFiZWwuVGV4dENvbG9yMyA9IERFU0NfQ09ORklHLlRleHRDb2xvcgogICAgICAgICAgICAgICAgICAgIGRlc2NMYWJlbC5UZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuTGVmdAogICAgICAgICAgICAgICAgICAgIGRlc2NMYWJlbC5UZXh0V3JhcHBlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICBkZXNjTGFiZWwuVGV4dFRyYW5zcGFyZW5jeSA9IDAuMgogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgLS0gUGFuZ2dpbCBkZXNrcmlwc2kKICAgICAgICAgICAgQ3JlYXRlQXV0b0NvbGxlY3REZXNjcmlwdGlvbigyKQoKICAgICAgICAgICAgLS0gQ09ORklHIFNFVFRJTkdTCiAgICAgICAgICAgIGxvY2FsIEdhcENvbmZpZyA9IHsKICAgICAgICAgICAgICAgIFBvc2l0aW9ucyA9IHsKICAgICAgICAgICAgICAgICAgICBWZWN0b3IzLm5ldygxMjAsIDMsIDEpLAogICAgICAgICAgICAgICAgICAgIFZlY3RvcjMubmV3KDIwMCwgLTMsIDEpLAogICAgICAgICAgICAgICAgICAgIFZlY3RvcjMubmV3KDI4NSwgLTMsIDEpLAogICAgICAgICAgICAgICAgICAgIFZlY3RvcjMubmV3KDM5NSwgLTMsIDEpLAogICAgICAgICAgICAgICAgICAgIFZlY3RvcjMubmV3KDU0MCwgLTMsIDEpLAogICAgICAgICAgICAgICAgICAgIFZlY3RvcjMubmV3KDc1NSwgLTMsIDEpLAogICAgICAgICAgICAgICAgICAgIFZlY3RvcjMubmV3KDEwNjYsIC0zLCAxKSwKICAgICAgICAgICAgICAgICAgICBWZWN0b3IzLm5ldygxNTQwLCAtMywgMSksCiAgICAgICAgICAgICAgICAgICAgVmVjdG9yMy5uZXcoMjIzMCwgLTMsIDEpLAogICAgICAgICAgICAgICAgICAgIFZlY3RvcjMubmV3KDI1ODUsIC0zLCAtMSkKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAtLSBTUEVFRCBTRVRUSU5HUwogICAgICAgICAgICAgICAgU3BlZWQgPSAyODAsCiAgICAgICAgICAgICAgICAtLSBNb3ZlbWVudCBTZXR0aW5ncwogICAgICAgICAgICAgICAgQXJyaXZhbERpc3RhbmNlID0gMywKICAgICAgICAgICAgICAgIC0tIE5vY2xpcCBTZXR0aW5ncwogICAgICAgICAgICAgICAgTm9jbGlwRHVyaW5nTW92ZSA9IHRydWUKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLS0gU0hBUkVEIFZBUklBQkxFUwogICAgICAgICAgICBsb2NhbCBDdXJyZW50R2FwTGV2ZWwgPSAxCiAgICAgICAgICAgIGxvY2FsIElzR2FwTW92aW5nID0gZmFsc2UKICAgICAgICAgICAgbG9jYWwgQ3VycmVudE1vdmVtZW50RGF0YSA9IHt9CiAgICAgICAgICAgIGxvY2FsIERlYXRoQ29ubmVjdGlvbiA9IG5pbAogICAgICAgICAgICBsb2NhbCBSZXNwYXduQ29ubmVjdGlvbiA9IG5pbAoKICAgICAgICAgICAgLS0gU1RPUCBNT1ZFTUVOVCBGVU5DVElPTiAoU0hBUkVEKQogICAgICAgICAgICBsb2NhbCBmdW5jdGlvbiBzdG9wQ3VycmVudE1vdmVtZW50KCkKICAgICAgICAgICAgICAgIGlmIG5vdCBJc0dhcE1vdmluZyB0aGVuCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICBJc0dhcE1vdmluZyA9IGZhbHNlCgogICAgICAgICAgICAgICAgaWYgQ3VycmVudE1vdmVtZW50RGF0YS5ub2NsaXBDb25uZWN0aW9uIHRoZW4KICAgICAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3VycmVudE1vdmVtZW50RGF0YS5ub2NsaXBDb25uZWN0aW9uOkRpc2Nvbm5lY3QoKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgQ3VycmVudE1vdmVtZW50RGF0YS5ub2NsaXBDb25uZWN0aW9uID0gbmlsCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICBpZiBDdXJyZW50TW92ZW1lbnREYXRhLm1vdmVDb25uZWN0aW9uIHRoZW4KICAgICAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3VycmVudE1vdmVtZW50RGF0YS5tb3ZlQ29ubmVjdGlvbjpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgIEN1cnJlbnRNb3ZlbWVudERhdGEubW92ZUNvbm5lY3Rpb24gPSBuaWwKICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIGlmIEN1cnJlbnRNb3ZlbWVudERhdGEuYm9keUd5cm8gdGhlbgogICAgICAgICAgICAgICAgICAgIHBjYWxsKAogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDdXJyZW50TW92ZW1lbnREYXRhLmJvZHlHeXJvOkRlc3Ryb3koKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgQ3VycmVudE1vdmVtZW50RGF0YS5ib2R5R3lybyA9IG5pbAogICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgaWYgQ3VycmVudE1vdmVtZW50RGF0YS5ib2R5VmVsb2NpdHkgdGhlbgogICAgICAgICAgICAgICAgICAgIHBjYWxsKAogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDdXJyZW50TW92ZW1lbnREYXRhLmJvZHlWZWxvY2l0eTpEZXN0cm95KCkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgIEN1cnJlbnRNb3ZlbWVudERhdGEuYm9keVZlbG9jaXR5ID0gbmlsCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICB0YXNrLmRlbGF5KAogICAgICAgICAgICAgICAgICAgIDAuMSwKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIGNoYXIgPSBMb2NhbFBsYXllci5DaGFyYWN0ZXIKICAgICAgICAgICAgICAgICAgICAgICAgaWYgY2hhciB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgcGFydCBpbiBwYWlycyhjaGFyOkdldERlc2NlbmRhbnRzKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgcGFydDpJc0EoIkJhc2VQYXJ0IikgYW5kIHBhcnQuTmFtZSB+PSAiSHVtYW5vaWRSb290UGFydCIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0Lk5hbWUgPT0gIkhlYWQiIG9yIHBhcnQuTmFtZTpmaW5kKCJUb3JzbyIpIG9yIHBhcnQuTmFtZTpmaW5kKCJMZWciKSBvcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydC5OYW1lOmZpbmQoIkFybSIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydC5DYW5Db2xsaWRlID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICBsb2NhbCBjaGFyYWN0ZXIgPSBMb2NhbFBsYXllci5DaGFyYWN0ZXIKICAgICAgICAgICAgICAgIGlmIGNoYXJhY3RlciB0aGVuCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgaHJwID0gY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKICAgICAgICAgICAgICAgICAgICBsb2NhbCBodW1hbm9pZCA9IGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKQoKICAgICAgICAgICAgICAgICAgICBpZiBocnAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBocnAuVmVsb2NpdHkgPSBWZWN0b3IzLm5ldygwLCAwLCAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhycC5Bc3NlbWJseUxpbmVhclZlbG9jaXR5ID0gVmVjdG9yMy5uZXcoMCwgMCwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBocnAuQXNzZW1ibHlBbmd1bGFyVmVsb2NpdHkgPSBWZWN0b3IzLm5ldygwLCAwLCAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgaWYgaHVtYW5vaWQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodW1hbm9pZDpDaGFuZ2VTdGF0ZShFbnVtLkh1bWFub2lkU3RhdGVUeXBlLkdldHRpbmdVcCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICBpZiBDdXJyZW50TW92ZW1lbnREYXRhLmFjdGlvbkJ1dHRvbiB0aGVuCiAgICAgICAgICAgICAgICAgICAgQ3VycmVudE1vdmVtZW50RGF0YS5hY3Rpb25CdXR0b24uVGV4dCA9ICJDTElDSyIKICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIEN1cnJlbnRNb3ZlbWVudERhdGEgPSB7fQogICAgICAgICAgICBlbmQKCiAgICAgICAgICAgIC0tIFJFU0VUIEZVTkNUSU9OCiAgICAgICAgICAgIGxvY2FsIGZ1bmN0aW9uIFJlc2V0R2FwTGV2ZWwoKQogICAgICAgICAgICAgICAgc3RvcEN1cnJlbnRNb3ZlbWVudCgpCiAgICAgICAgICAgICAgICBDdXJyZW50R2FwTGV2ZWwgPSAxCiAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgLS0gU0VUVVAgREVBVEgvUkVTUEFXTiBERVRFQ1RJT04KICAgICAgICAgICAgbG9jYWwgZnVuY3Rpb24gU2V0dXBEZWF0aERldGVjdGlvbigpCiAgICAgICAgICAgICAgICBpZiBEZWF0aENvbm5lY3Rpb24gdGhlbgogICAgICAgICAgICAgICAgICAgIHBjYWxsKAogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWF0aENvbm5lY3Rpb246RGlzY29ubmVjdCgpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICBEZWF0aENvbm5lY3Rpb24gPSBuaWwKICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIGlmIFJlc3Bhd25Db25uZWN0aW9uIHRoZW4KICAgICAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVzcGF3bkNvbm5lY3Rpb246RGlzY29ubmVjdCgpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICBSZXNwYXduQ29ubmVjdGlvbiA9IG5pbAogICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgUmVzcGF3bkNvbm5lY3Rpb24gPQogICAgICAgICAgICAgICAgICAgIExvY2FsUGxheWVyLkNoYXJhY3RlckFkZGVkOkNvbm5lY3QoCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24obmV3Q2hhcmFjdGVyKQogICAgICAgICAgICAgICAgICAgICAgICBSZXNldEdhcExldmVsKCkKCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIGh1bWFub2lkID0gbmV3Q2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWQiLCAxMCkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgaHVtYW5vaWQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVhdGhDb25uZWN0aW9uID0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodW1hbm9pZC5EaWVkOkNvbm5lY3QoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXNldEdhcExldmVsKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICApCgogICAgICAgICAgICAgICAgaWYgTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyIHRoZW4KICAgICAgICAgICAgICAgICAgICBsb2NhbCBodW1hbm9pZCA9IExvY2FsUGxheWVyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKQogICAgICAgICAgICAgICAgICAgIGlmIGh1bWFub2lkIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgRGVhdGhDb25uZWN0aW9uID0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh1bWFub2lkLkRpZWQ6Q29ubmVjdCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXNldEdhcExldmVsKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCgogICAgICAgICAgICBTZXR1cERlYXRoRGV0ZWN0aW9uKCkKCiAgICAgICAgICAgIC0tIEdBUCBVUCBCVVRUT04KICAgICAgICAgICAgZnVuY3Rpb24gQ3JlYXRlR2FwVXBCdXR0b24obGF5b3V0T3JkZXIpCiAgICAgICAgICAgICAgICBsb2NhbCBjb250YWluZXIgPSBnZXRnZW52KCkuRmx5Y2VyUmVmcyBhbmQgZ2V0Z2VudigpLkZseWNlclJlZnMuQnV0dG9uQ29udGFpbmVyCiAgICAgICAgICAgICAgICBpZiBub3QgY29udGFpbmVyIHRoZW4KICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIGxvY2FsIGZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCiAgICAgICAgICAgICAgICBmcmFtZS5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBmcmFtZS5TaXplID0gVURpbTIubmV3KDEsIC01LCAwLCAzMCkKICAgICAgICAgICAgICAgIGZyYW1lLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjMKICAgICAgICAgICAgICAgIGZyYW1lLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQogICAgICAgICAgICAgICAgZnJhbWUuQm9yZGVyU2l6ZVBpeGVsID0gMAogICAgICAgICAgICAgICAgZnJhbWUuTGF5b3V0T3JkZXIgPSBsYXlvdXRPcmRlciBvciA2CiAgICAgICAgICAgICAgICBmcmFtZS5QYXJlbnQgPSBjb250YWluZXIKCiAgICAgICAgICAgICAgICBsb2NhbCBjb3JuZXIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIikKICAgICAgICAgICAgICAgIGNvcm5lci5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBjb3JuZXIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwgNikKICAgICAgICAgICAgICAgIGNvcm5lci5QYXJlbnQgPSBmcmFtZQoKICAgICAgICAgICAgICAgIGxvY2FsIHN0cm9rZSA9IEluc3RhbmNlLm5ldygiVUlTdHJva2UiKQogICAgICAgICAgICAgICAgc3Ryb2tlLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIHN0cm9rZS5UaGlja25lc3MgPSAxCiAgICAgICAgICAgICAgICBzdHJva2UuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigxODAsIDIwMCwgMjIwKQogICAgICAgICAgICAgICAgc3Ryb2tlLkFwcGx5U3Ryb2tlTW9kZSA9IEVudW0uQXBwbHlTdHJva2VNb2RlLkJvcmRlcgogICAgICAgICAgICAgICAgc3Ryb2tlLlRyYW5zcGFyZW5jeSA9IDAuNAogICAgICAgICAgICAgICAgc3Ryb2tlLlBhcmVudCA9IGZyYW1lCgogICAgICAgICAgICAgICAgbG9jYWwgZ3JhZGllbnQgPSBJbnN0YW5jZS5uZXcoIlVJR3JhZGllbnQiKQogICAgICAgICAgICAgICAgZ3JhZGllbnQuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgZ3JhZGllbnQuUm90YXRpb24gPSAxODAKICAgICAgICAgICAgICAgIGdyYWRpZW50LkNvbG9yID0KICAgICAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlLm5ldygKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgQ29sb3IzLmZyb21SR0IoMTIwLCA4MCwgMjAwKSksCiAgICAgICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMSwgQ29sb3IzLmZyb21SR0IoNzAsIDQwLCAxNDApKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGdyYWRpZW50LlBhcmVudCA9IGZyYW1lCgogICAgICAgICAgICAgICAgbG9jYWwgbGFiZWwgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCiAgICAgICAgICAgICAgICBsYWJlbC5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBsYWJlbC5QYXJlbnQgPSBmcmFtZQogICAgICAgICAgICAgICAgbGFiZWwuU2l6ZSA9IFVEaW0yLm5ldygwLjYsIDAsIDEsIDApCiAgICAgICAgICAgICAgICBsYWJlbC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAxMCwgMCwgMCkKICAgICAgICAgICAgICAgIGxhYmVsLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICBsYWJlbC5UZXh0ID0gIkdhcCBVcCIKICAgICAgICAgICAgICAgIGxhYmVsLkZvbnQgPSBFbnVtLkZvbnQuR290aGFtQm9sZAogICAgICAgICAgICAgICAgbGFiZWwuVGV4dFNpemUgPSAxMQogICAgICAgICAgICAgICAgbGFiZWwuVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMSwgMSwgMSkKICAgICAgICAgICAgICAgIGxhYmVsLlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0CgogICAgICAgICAgICAgICAgbG9jYWwgQnV0dG9uQkcgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLlBhcmVudCA9IGZyYW1lCiAgICAgICAgICAgICAgICBCdXR0b25CRy5TaXplID0gVURpbTIubmV3KDAuMywgLTEwLCAwLjgsIDApCiAgICAgICAgICAgICAgICBCdXR0b25CRy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjczLCAwLCAwLjEsIDApCiAgICAgICAgICAgICAgICBCdXR0b25CRy5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMzUsIDM1LCA2MCkKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjEKCiAgICAgICAgICAgICAgICBsb2NhbCBjb3JuZXIyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIpCiAgICAgICAgICAgICAgICBjb3JuZXIyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGNvcm5lcjIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwgNikKICAgICAgICAgICAgICAgIGNvcm5lcjIuUGFyZW50ID0gQnV0dG9uQkcKCiAgICAgICAgICAgICAgICBsb2NhbCBzdHJva2UyID0gSW5zdGFuY2UubmV3KCJVSVN0cm9rZSIpCiAgICAgICAgICAgICAgICBzdHJva2UyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIHN0cm9rZTIuVGhpY2tuZXNzID0gMQogICAgICAgICAgICAgICAgc3Ryb2tlMi5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDEwMCwgMTIwLCAxNTApCiAgICAgICAgICAgICAgICBzdHJva2UyLlRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgc3Ryb2tlMi5BcHBseVN0cm9rZU1vZGUgPSBFbnVtLkFwcGx5U3Ryb2tlTW9kZS5Cb3JkZXIKICAgICAgICAgICAgICAgIHN0cm9rZTIuUGFyZW50ID0gQnV0dG9uQkcKCiAgICAgICAgICAgICAgICBsb2NhbCBhY3Rpb25CdXR0b24gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQogICAgICAgICAgICAgICAgYWN0aW9uQnV0dG9uLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGFjdGlvbkJ1dHRvbi5QYXJlbnQgPSBCdXR0b25CRwogICAgICAgICAgICAgICAgYWN0aW9uQnV0dG9uLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgIGFjdGlvbkJ1dHRvbi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgYWN0aW9uQnV0dG9uLlRleHQgPSAiQ0xJQ0siCiAgICAgICAgICAgICAgICBhY3Rpb25CdXR0b24uRm9udCA9IEVudW0uRm9udC5GcmVkb2thT25lCiAgICAgICAgICAgICAgICBhY3Rpb25CdXR0b24uVGV4dFNpemUgPSAxMQogICAgICAgICAgICAgICAgYWN0aW9uQnV0dG9uLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEsIDEsIDEpCgogICAgICAgICAgICAgICAgbG9jYWwgZnVuY3Rpb24gZ2V0Q2hhcmFjdGVyKCkKICAgICAgICAgICAgICAgICAgICBsb2NhbCBjaGFyYWN0ZXIgPSBMb2NhbFBsYXllci5DaGFyYWN0ZXIKICAgICAgICAgICAgICAgICAgICBpZiBjaGFyYWN0ZXIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hhcmFjdGVyLCBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSwgY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIkh1bWFub2lkIgogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5pbCwgbmlsLCBuaWwKICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIGxvY2FsIGZ1bmN0aW9uIGVuYWJsZU5vY2xpcCgpCiAgICAgICAgICAgICAgICAgICAgaWYgbm90IEdhcENvbmZpZy5Ob2NsaXBEdXJpbmdNb3ZlIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgIGlmIEN1cnJlbnRNb3ZlbWVudERhdGEubm9jbGlwQ29ubmVjdGlvbiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHBjYWxsKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEN1cnJlbnRNb3ZlbWVudERhdGEubm9jbGlwQ29ubmVjdGlvbjpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgIEN1cnJlbnRNb3ZlbWVudERhdGEubm9jbGlwQ29ubmVjdGlvbiA9CiAgICAgICAgICAgICAgICAgICAgICAgIFJ1blNlcnZpY2UuU3RlcHBlZDpDb25uZWN0KAogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBjaGFyID0gTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBjaGFyIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgcGFydCBpbiBwYWlycyhjaGFyOkdldERlc2NlbmRhbnRzKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHBhcnQ6SXNBKCJCYXNlUGFydCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQuQ2FuQ29sbGlkZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIGxvY2FsIGZ1bmN0aW9uIGZseVRvUG9zaXRpb24odGFyZ2V0UG9zaXRpb24sIHRhcmdldExldmVsKQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGNoYXJhY3RlciwgaHJwLCBodW1hbm9pZCA9IGdldENoYXJhY3RlcigpCiAgICAgICAgICAgICAgICAgICAgaWYgbm90IGhycCBvciBub3QgaHVtYW5vaWQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgaWYgSXNHYXBNb3ZpbmcgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBzdG9wQ3VycmVudE1vdmVtZW50KCkKICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KDAuMSkKICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgSXNHYXBNb3ZpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgQ3VycmVudE1vdmVtZW50RGF0YSA9IHt9CiAgICAgICAgICAgICAgICAgICAgQ3VycmVudE1vdmVtZW50RGF0YS5hY3Rpb25CdXR0b24gPSBhY3Rpb25CdXR0b24KCiAgICAgICAgICAgICAgICAgICAgYWN0aW9uQnV0dG9uLlRleHQgPSAiLi4uIgoKICAgICAgICAgICAgICAgICAgICBlbmFibGVOb2NsaXAoKQoKICAgICAgICAgICAgICAgICAgICBDdXJyZW50TW92ZW1lbnREYXRhLmJvZHlHeXJvID0gSW5zdGFuY2UubmV3KCJCb2R5R3lybyIpCiAgICAgICAgICAgICAgICAgICAgQ3VycmVudE1vdmVtZW50RGF0YS5ib2R5R3lyby5OYW1lID0gIkdhcEd5cm8iCiAgICAgICAgICAgICAgICAgICAgQ3VycmVudE1vdmVtZW50RGF0YS5ib2R5R3lyby5QID0gOWU0CiAgICAgICAgICAgICAgICAgICAgQ3VycmVudE1vdmVtZW50RGF0YS5ib2R5R3lyby5NYXhUb3JxdWUgPSBWZWN0b3IzLm5ldyg5ZTksIDllOSwgOWU5KQogICAgICAgICAgICAgICAgICAgIEN1cnJlbnRNb3ZlbWVudERhdGEuYm9keUd5cm8uQ0ZyYW1lID0gaHJwLkNGcmFtZQogICAgICAgICAgICAgICAgICAgIEN1cnJlbnRNb3ZlbWVudERhdGEuYm9keUd5cm8uUGFyZW50ID0gaHJwCgogICAgICAgICAgICAgICAgICAgIEN1cnJlbnRNb3ZlbWVudERhdGEuYm9keVZlbG9jaXR5ID0gSW5zdGFuY2UubmV3KCJCb2R5VmVsb2NpdHkiKQogICAgICAgICAgICAgICAgICAgIEN1cnJlbnRNb3ZlbWVudERhdGEuYm9keVZlbG9jaXR5Lk5hbWUgPSAiR2FwVmVsb2NpdHkiCiAgICAgICAgICAgICAgICAgICAgQ3VycmVudE1vdmVtZW50RGF0YS5ib2R5VmVsb2NpdHkuTWF4Rm9yY2UgPSBWZWN0b3IzLm5ldyg5ZTksIDllOSwgOWU5KQogICAgICAgICAgICAgICAgICAgIEN1cnJlbnRNb3ZlbWVudERhdGEuYm9keVZlbG9jaXR5LlZlbG9jaXR5ID0gVmVjdG9yMy5uZXcoMCwgMCwgMCkKICAgICAgICAgICAgICAgICAgICBDdXJyZW50TW92ZW1lbnREYXRhLmJvZHlWZWxvY2l0eS5QYXJlbnQgPSBocnAKCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgYXJyaXZlZCA9IGZhbHNlCgogICAgICAgICAgICAgICAgICAgIEN1cnJlbnRNb3ZlbWVudERhdGEubW92ZUNvbm5lY3Rpb24gPQogICAgICAgICAgICAgICAgICAgICAgICBSdW5TZXJ2aWNlLkhlYXJ0YmVhdDpDb25uZWN0KAogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBub3QgSXNHYXBNb3ZpbmcgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycml2ZWQgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBjaGFyLCByb290ID0gZ2V0Q2hhcmFjdGVyKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCByb290IHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJpdmVkID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgY3VycmVudFBvcyA9IHJvb3QuUG9zaXRpb24KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIGRpcmVjdGlvbiA9IHRhcmdldFBvc2l0aW9uIC0gY3VycmVudFBvcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgZGlzdGFuY2UgPSBkaXJlY3Rpb24uTWFnbml0dWRlCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgZGlzdGFuY2UgPD0gR2FwQ29uZmlnLkFycml2YWxEaXN0YW5jZSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyaXZlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBDdXJyZW50TW92ZW1lbnREYXRhLmJvZHlWZWxvY2l0eSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEN1cnJlbnRNb3ZlbWVudERhdGEuYm9keVZlbG9jaXR5LlZlbG9jaXR5ID0gVmVjdG9yMy5uZXcoMCwgMCwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIG1vdmVEaXJlY3Rpb24gPSBkaXJlY3Rpb24uVW5pdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgQ3VycmVudE1vdmVtZW50RGF0YS5ib2R5VmVsb2NpdHkgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEN1cnJlbnRNb3ZlbWVudERhdGEuYm9keVZlbG9jaXR5LlZlbG9jaXR5ID0gbW92ZURpcmVjdGlvbiAqIEdhcENvbmZpZy5TcGVlZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgQ3VycmVudE1vdmVtZW50RGF0YS5ib2R5R3lybyB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3VycmVudE1vdmVtZW50RGF0YS5ib2R5R3lyby5DRnJhbWUgPSBDRnJhbWUubmV3KGN1cnJlbnRQb3MsIGN1cnJlbnRQb3MgKyBtb3ZlRGlyZWN0aW9uKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICAgICAgd2hpbGUgbm90IGFycml2ZWQgYW5kIElzR2FwTW92aW5nIGRvCiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgwLjEpCgogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBjaGFyLCByb290ID0gZ2V0Q2hhcmFjdGVyKCkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgbm90IHJvb3QgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBkaXN0YW5jZSA9ICh0YXJnZXRQb3NpdGlvbiAtIHJvb3QuUG9zaXRpb24pLk1hZ25pdHVkZQogICAgICAgICAgICAgICAgICAgICAgICBpZiBkaXN0YW5jZSA8PSBHYXBDb25maWcuQXJyaXZhbERpc3RhbmNlIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycml2ZWQgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICBpZiBhcnJpdmVkIGFuZCBJc0dhcE1vdmluZyB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIEN1cnJlbnRHYXBMZXZlbCA9IHRhcmdldExldmVsCiAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgIHN0b3BDdXJyZW50TW92ZW1lbnQoKQogICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgYWN0aW9uQnV0dG9uLkFjdGl2YXRlZDpDb25uZWN0KAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgbWF4TGV2ZWwgPSAjR2FwQ29uZmlnLlBvc2l0aW9ucwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgQ3VycmVudEdhcExldmVsID49IG1heExldmVsIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIG5leHRMZXZlbCA9IEN1cnJlbnRHYXBMZXZlbCArIDEKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdGFyZ2V0UG9zaXRpb24gPSBHYXBDb25maWcuUG9zaXRpb25zW25leHRMZXZlbF0KCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCB0YXJnZXRQb3NpdGlvbiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgICAgICB0YXNrLnNwYXduKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZseVRvUG9zaXRpb24odGFyZ2V0UG9zaXRpb24sIG5leHRMZXZlbCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICApCgogICAgICAgICAgICAgICAgZnJhbWUuRGVzdHJveWluZzpDb25uZWN0KAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgc3RvcEN1cnJlbnRNb3ZlbWVudCgpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgLS0gR0FQIERPV04gQlVUVE9OCiAgICAgICAgICAgIGZ1bmN0aW9uIENyZWF0ZUdhcERvd25CdXR0b24obGF5b3V0T3JkZXIpCiAgICAgICAgICAgICAgICBsb2NhbCBjb250YWluZXIgPSBnZXRnZW52KCkuRmx5Y2VyUmVmcyBhbmQgZ2V0Z2VudigpLkZseWNlclJlZnMuQnV0dG9uQ29udGFpbmVyCiAgICAgICAgICAgICAgICBpZiBub3QgY29udGFpbmVyIHRoZW4KICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIGxvY2FsIGZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCiAgICAgICAgICAgICAgICBmcmFtZS5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBmcmFtZS5TaXplID0gVURpbTIubmV3KDEsIC01LCAwLCAzMCkKICAgICAgICAgICAgICAgIGZyYW1lLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjMKICAgICAgICAgICAgICAgIGZyYW1lLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQogICAgICAgICAgICAgICAgZnJhbWUuQm9yZGVyU2l6ZVBpeGVsID0gMAogICAgICAgICAgICAgICAgZnJhbWUuTGF5b3V0T3JkZXIgPSBsYXlvdXRPcmRlciBvciA3CiAgICAgICAgICAgICAgICBmcmFtZS5QYXJlbnQgPSBjb250YWluZXIKCiAgICAgICAgICAgICAgICBsb2NhbCBjb3JuZXIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIikKICAgICAgICAgICAgICAgIGNvcm5lci5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBjb3JuZXIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwgNikKICAgICAgICAgICAgICAgIGNvcm5lci5QYXJlbnQgPSBmcmFtZQoKICAgICAgICAgICAgICAgIGxvY2FsIHN0cm9rZSA9IEluc3RhbmNlLm5ldygiVUlTdHJva2UiKQogICAgICAgICAgICAgICAgc3Ryb2tlLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIHN0cm9rZS5UaGlja25lc3MgPSAxCiAgICAgICAgICAgICAgICBzdHJva2UuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigxODAsIDIwMCwgMjIwKQogICAgICAgICAgICAgICAgc3Ryb2tlLkFwcGx5U3Ryb2tlTW9kZSA9IEVudW0uQXBwbHlTdHJva2VNb2RlLkJvcmRlcgogICAgICAgICAgICAgICAgc3Ryb2tlLlRyYW5zcGFyZW5jeSA9IDAuNAogICAgICAgICAgICAgICAgc3Ryb2tlLlBhcmVudCA9IGZyYW1lCgogICAgICAgICAgICAgICAgbG9jYWwgZ3JhZGllbnQgPSBJbnN0YW5jZS5uZXcoIlVJR3JhZGllbnQiKQogICAgICAgICAgICAgICAgZ3JhZGllbnQuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgZ3JhZGllbnQuUm90YXRpb24gPSAxODAKICAgICAgICAgICAgICAgIGdyYWRpZW50LkNvbG9yID0KICAgICAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlLm5ldygKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgQ29sb3IzLmZyb21SR0IoMTIwLCA4MCwgMjAwKSksCiAgICAgICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMSwgQ29sb3IzLmZyb21SR0IoNzAsIDQwLCAxNDApKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGdyYWRpZW50LlBhcmVudCA9IGZyYW1lCgogICAgICAgICAgICAgICAgbG9jYWwgbGFiZWwgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCiAgICAgICAgICAgICAgICBsYWJlbC5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBsYWJlbC5QYXJlbnQgPSBmcmFtZQogICAgICAgICAgICAgICAgbGFiZWwuU2l6ZSA9IFVEaW0yLm5ldygwLjYsIDAsIDEsIDApCiAgICAgICAgICAgICAgICBsYWJlbC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAxMCwgMCwgMCkKICAgICAgICAgICAgICAgIGxhYmVsLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICBsYWJlbC5UZXh0ID0gIkdhcCBEb3duIgogICAgICAgICAgICAgICAgbGFiZWwuRm9udCA9IEVudW0uRm9udC5Hb3RoYW1Cb2xkCiAgICAgICAgICAgICAgICBsYWJlbC5UZXh0U2l6ZSA9IDExCiAgICAgICAgICAgICAgICBsYWJlbC5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxLCAxLCAxKQogICAgICAgICAgICAgICAgbGFiZWwuVGV4dFhBbGlnbm1lbnQgPSBFbnVtLlRleHRYQWxpZ25tZW50LkxlZnQKCiAgICAgICAgICAgICAgICBsb2NhbCBCdXR0b25CRyA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQogICAgICAgICAgICAgICAgQnV0dG9uQkcuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgQnV0dG9uQkcuUGFyZW50ID0gZnJhbWUKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLlNpemUgPSBVRGltMi5uZXcoMC4zLCAtMTAsIDAuOCwgMCkKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNzMsIDAsIDAuMSwgMCkKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigzNSwgMzUsIDYwKQogICAgICAgICAgICAgICAgQnV0dG9uQkcuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAuMQoKICAgICAgICAgICAgICAgIGxvY2FsIGNvcm5lcjIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIikKICAgICAgICAgICAgICAgIGNvcm5lcjIuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgY29ybmVyMi5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCA2KQogICAgICAgICAgICAgICAgY29ybmVyMi5QYXJlbnQgPSBCdXR0b25CRwoKICAgICAgICAgICAgICAgIGxvY2FsIHN0cm9rZTIgPSBJbnN0YW5jZS5uZXcoIlVJU3Ryb2tlIikKICAgICAgICAgICAgICAgIHN0cm9rZTIuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgc3Ryb2tlMi5UaGlja25lc3MgPSAxCiAgICAgICAgICAgICAgICBzdHJva2UyLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMTAwLCAxMjAsIDE1MCkKICAgICAgICAgICAgICAgIHN0cm9rZTIuVHJhbnNwYXJlbmN5ID0gMC41CiAgICAgICAgICAgICAgICBzdHJva2UyLkFwcGx5U3Ryb2tlTW9kZSA9IEVudW0uQXBwbHlTdHJva2VNb2RlLkJvcmRlcgogICAgICAgICAgICAgICAgc3Ryb2tlMi5QYXJlbnQgPSBCdXR0b25CRwoKICAgICAgICAgICAgICAgIGxvY2FsIGFjdGlvbkJ1dHRvbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCiAgICAgICAgICAgICAgICBhY3Rpb25CdXR0b24uTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgYWN0aW9uQnV0dG9uLlBhcmVudCA9IEJ1dHRvbkJHCiAgICAgICAgICAgICAgICBhY3Rpb25CdXR0b24uU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQogICAgICAgICAgICAgICAgYWN0aW9uQnV0dG9uLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICBhY3Rpb25CdXR0b24uVGV4dCA9ICJDTElDSyIKICAgICAgICAgICAgICAgIGFjdGlvbkJ1dHRvbi5Gb250ID0gRW51bS5Gb250LkZyZWRva2FPbmUKICAgICAgICAgICAgICAgIGFjdGlvbkJ1dHRvbi5UZXh0U2l6ZSA9IDExCiAgICAgICAgICAgICAgICBhY3Rpb25CdXR0b24uVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMSwgMSwgMSkKCiAgICAgICAgICAgICAgICBsb2NhbCBmdW5jdGlvbiBnZXRDaGFyYWN0ZXIoKQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGNoYXJhY3RlciA9IExvY2FsUGxheWVyLkNoYXJhY3RlcgogICAgICAgICAgICAgICAgICAgIGlmIGNoYXJhY3RlciB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFyYWN0ZXIsIGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpLCBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiSHVtYW5vaWQiCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmlsLCBuaWwsIG5pbAogICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgbG9jYWwgZnVuY3Rpb24gZW5hYmxlTm9jbGlwKCkKICAgICAgICAgICAgICAgICAgICBpZiBub3QgR2FwQ29uZmlnLk5vY2xpcER1cmluZ01vdmUgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgaWYgQ3VycmVudE1vdmVtZW50RGF0YS5ub2NsaXBDb25uZWN0aW9uIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgcGNhbGwoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3VycmVudE1vdmVtZW50RGF0YS5ub2NsaXBDb25uZWN0aW9uOkRpc2Nvbm5lY3QoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgQ3VycmVudE1vdmVtZW50RGF0YS5ub2NsaXBDb25uZWN0aW9uID0KICAgICAgICAgICAgICAgICAgICAgICAgUnVuU2VydmljZS5TdGVwcGVkOkNvbm5lY3QoCiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIGNoYXIgPSBMb2NhbFBsYXllci5DaGFyYWN0ZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNoYXIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCBwYXJ0IGluIHBhaXJzKGNoYXI6R2V0RGVzY2VuZGFudHMoKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgcGFydDpJc0EoIkJhc2VQYXJ0IikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgbG9jYWwgZnVuY3Rpb24gZmx5VG9Qb3NpdGlvbih0YXJnZXRQb3NpdGlvbiwgdGFyZ2V0TGV2ZWwpCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgY2hhcmFjdGVyLCBocnAsIGh1bWFub2lkID0gZ2V0Q2hhcmFjdGVyKCkKICAgICAgICAgICAgICAgICAgICBpZiBub3QgaHJwIG9yIG5vdCBodW1hbm9pZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICBpZiBJc0dhcE1vdmluZyB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BDdXJyZW50TW92ZW1lbnQoKQogICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoMC4xKQogICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICBJc0dhcE1vdmluZyA9IHRydWUKICAgICAgICAgICAgICAgICAgICBDdXJyZW50TW92ZW1lbnREYXRhID0ge30KICAgICAgICAgICAgICAgICAgICBDdXJyZW50TW92ZW1lbnREYXRhLmFjdGlvbkJ1dHRvbiA9IGFjdGlvbkJ1dHRvbgoKICAgICAgICAgICAgICAgICAgICBhY3Rpb25CdXR0b24uVGV4dCA9ICIuLi4iCgogICAgICAgICAgICAgICAgICAgIGVuYWJsZU5vY2xpcCgpCgogICAgICAgICAgICAgICAgICAgIEN1cnJlbnRNb3ZlbWVudERhdGEuYm9keUd5cm8gPSBJbnN0YW5jZS5uZXcoIkJvZHlHeXJvIikKICAgICAgICAgICAgICAgICAgICBDdXJyZW50TW92ZW1lbnREYXRhLmJvZHlHeXJvLk5hbWUgPSAiR2FwR3lybyIKICAgICAgICAgICAgICAgICAgICBDdXJyZW50TW92ZW1lbnREYXRhLmJvZHlHeXJvLlAgPSA5ZTQKICAgICAgICAgICAgICAgICAgICBDdXJyZW50TW92ZW1lbnREYXRhLmJvZHlHeXJvLk1heFRvcnF1ZSA9IFZlY3RvcjMubmV3KDllOSwgOWU5LCA5ZTkpCiAgICAgICAgICAgICAgICAgICAgQ3VycmVudE1vdmVtZW50RGF0YS5ib2R5R3lyby5DRnJhbWUgPSBocnAuQ0ZyYW1lCiAgICAgICAgICAgICAgICAgICAgQ3VycmVudE1vdmVtZW50RGF0YS5ib2R5R3lyby5QYXJlbnQgPSBocnAKCiAgICAgICAgICAgICAgICAgICAgQ3VycmVudE1vdmVtZW50RGF0YS5ib2R5VmVsb2NpdHkgPSBJbnN0YW5jZS5uZXcoIkJvZHlWZWxvY2l0eSIpCiAgICAgICAgICAgICAgICAgICAgQ3VycmVudE1vdmVtZW50RGF0YS5ib2R5VmVsb2NpdHkuTmFtZSA9ICJHYXBWZWxvY2l0eSIKICAgICAgICAgICAgICAgICAgICBDdXJyZW50TW92ZW1lbnREYXRhLmJvZHlWZWxvY2l0eS5NYXhGb3JjZSA9IFZlY3RvcjMubmV3KDllOSwgOWU5LCA5ZTkpCiAgICAgICAgICAgICAgICAgICAgQ3VycmVudE1vdmVtZW50RGF0YS5ib2R5VmVsb2NpdHkuVmVsb2NpdHkgPSBWZWN0b3IzLm5ldygwLCAwLCAwKQogICAgICAgICAgICAgICAgICAgIEN1cnJlbnRNb3ZlbWVudERhdGEuYm9keVZlbG9jaXR5LlBhcmVudCA9IGhycAoKICAgICAgICAgICAgICAgICAgICBsb2NhbCBhcnJpdmVkID0gZmFsc2UKCiAgICAgICAgICAgICAgICAgICAgQ3VycmVudE1vdmVtZW50RGF0YS5tb3ZlQ29ubmVjdGlvbiA9CiAgICAgICAgICAgICAgICAgICAgICAgIFJ1blNlcnZpY2UuSGVhcnRiZWF0OkNvbm5lY3QoCiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCBJc0dhcE1vdmluZyB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyaXZlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIGNoYXIsIHJvb3QgPSBnZXRDaGFyYWN0ZXIoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbm90IHJvb3QgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycml2ZWQgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBjdXJyZW50UG9zID0gcm9vdC5Qb3NpdGlvbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgZGlyZWN0aW9uID0gdGFyZ2V0UG9zaXRpb24gLSBjdXJyZW50UG9zCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBkaXN0YW5jZSA9IGRpcmVjdGlvbi5NYWduaXR1ZGUKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBkaXN0YW5jZSA8PSBHYXBDb25maWcuQXJyaXZhbERpc3RhbmNlIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJpdmVkID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIEN1cnJlbnRNb3ZlbWVudERhdGEuYm9keVZlbG9jaXR5IHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3VycmVudE1vdmVtZW50RGF0YS5ib2R5VmVsb2NpdHkuVmVsb2NpdHkgPSBWZWN0b3IzLm5ldygwLCAwLCAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgbW92ZURpcmVjdGlvbiA9IGRpcmVjdGlvbi5Vbml0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBDdXJyZW50TW92ZW1lbnREYXRhLmJvZHlWZWxvY2l0eSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3VycmVudE1vdmVtZW50RGF0YS5ib2R5VmVsb2NpdHkuVmVsb2NpdHkgPSBtb3ZlRGlyZWN0aW9uICogR2FwQ29uZmlnLlNwZWVkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBDdXJyZW50TW92ZW1lbnREYXRhLmJvZHlHeXJvIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDdXJyZW50TW92ZW1lbnREYXRhLmJvZHlHeXJvLkNGcmFtZSA9IENGcmFtZS5uZXcoY3VycmVudFBvcywgY3VycmVudFBvcyArIG1vdmVEaXJlY3Rpb24pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgICAgICAgICB3aGlsZSBub3QgYXJyaXZlZCBhbmQgSXNHYXBNb3ZpbmcgZG8KICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KDAuMSkKCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIGNoYXIsIHJvb3QgPSBnZXRDaGFyYWN0ZXIoKQogICAgICAgICAgICAgICAgICAgICAgICBpZiBub3Qgcm9vdCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIGRpc3RhbmNlID0gKHRhcmdldFBvc2l0aW9uIC0gcm9vdC5Qb3NpdGlvbikuTWFnbml0dWRlCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGRpc3RhbmNlIDw9IEdhcENvbmZpZy5BcnJpdmFsRGlzdGFuY2UgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyaXZlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgIGlmIGFycml2ZWQgYW5kIElzR2FwTW92aW5nIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgQ3VycmVudEdhcExldmVsID0gdGFyZ2V0TGV2ZWwKICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgc3RvcEN1cnJlbnRNb3ZlbWVudCgpCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICBhY3Rpb25CdXR0b24uQWN0aXZhdGVkOkNvbm5lY3QoCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAtLSBMT0dJQyBCQVJVOiBDZWsgYXBha2FoIHNlZGFuZyBtb3ZlbWVudAogICAgICAgICAgICAgICAgICAgICAgICBpZiBJc0dhcE1vdmluZyB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLSBTZWRhbmcgamFsYW4gU3RvcCAmIGtlbWJhbGkga2UgY2hlY2twb2ludCB0ZXJha2hpcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcEN1cnJlbnRNb3ZlbWVudCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoMC4xKQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHJldHVyblBvc2l0aW9uID0gR2FwQ29uZmlnLlBvc2l0aW9uc1tDdXJyZW50R2FwTGV2ZWxdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiByZXR1cm5Qb3NpdGlvbiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay5zcGF3bigKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmx5VG9Qb3NpdGlvbihyZXR1cm5Qb3NpdGlvbiwgQ3VycmVudEdhcExldmVsKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLS0gVGlkYWsgc2VkYW5nIGphbGFuIEtlIGNoZWNrcG9pbnQgc2ViZWx1bW55YQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgQ3VycmVudEdhcExldmVsIDw9IDEgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgcHJldkxldmVsID0gQ3VycmVudEdhcExldmVsIC0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdGFyZ2V0UG9zaXRpb24gPSBHYXBDb25maWcuUG9zaXRpb25zW3ByZXZMZXZlbF0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBub3QgdGFyZ2V0UG9zaXRpb24gdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay5zcGF3bigKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZseVRvUG9zaXRpb24odGFyZ2V0UG9zaXRpb24sIHByZXZMZXZlbCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICApCgogICAgICAgICAgICAgICAgZnJhbWUuRGVzdHJveWluZzpDb25uZWN0KAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgc3RvcEN1cnJlbnRNb3ZlbWVudCgpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgLS0gSU5JVAogICAgICAgICAgICBDcmVhdGVHYXBVcEJ1dHRvbigzKQogICAgICAgICAgICBDcmVhdGVHYXBEb3duQnV0dG9uKDQpCgogICAgICAgICAgICAtLSBESUJBV0FIIElOSSBUT01CT0wgJiBGVU5HU0kgKEFVVE8gQ09MTEVDVCBNT05FWSkKICAgICAgICAgICAgZnVuY3Rpb24gQ3JlYXRlQXV0b0NvbGxlY3RUb2dnbGUobGF5b3V0T3JkZXIpCiAgICAgICAgICAgICAgICBsb2NhbCBjb250YWluZXIgPSBnZXRnZW52KCkuRmx5Y2VyUmVmcyBhbmQgZ2V0Z2VudigpLkZseWNlclJlZnMuQnV0dG9uQ29udGFpbmVyCiAgICAgICAgICAgICAgICBpZiBub3QgY29udGFpbmVyIHRoZW4KICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIGxvY2FsIGNvbGxlY3RFbmFibGVkID0gZmFsc2UKCiAgICAgICAgICAgICAgICAtLSBSZW1vdGUKICAgICAgICAgICAgICAgIGxvY2FsIFJlbW90ZUZ1bmN0aW9uID0KICAgICAgICAgICAgICAgICAgICBSZXBsaWNhdGVkU3RvcmFnZTpXYWl0Rm9yQ2hpbGQoIlBhY2thZ2VzIik6V2FpdEZvckNoaWxkKCJOZXQiKTpXYWl0Rm9yQ2hpbGQoIlJGL1Bsb3QuUGxvdEFjdGlvbiIpCgogICAgICAgICAgICAgICAgLS0gQ29uZmlnCiAgICAgICAgICAgICAgICBsb2NhbCBNQVhfU0xPVFMgPSAzMAogICAgICAgICAgICAgICAgbG9jYWwgQ09MTEVDVF9JTlRFUlZBTCA9IDIKCiAgICAgICAgICAgICAgICAtLSBVSSBDT05GSUcKICAgICAgICAgICAgICAgIGxvY2FsIERlc2NyaXB0aW9ucyA9IHsKICAgICAgICAgICAgICAgICAgICAiRW5hYmxlIHRoaXMgZmVhdHVyZSBvbmx5IGluIHlvdXIgb3duIGJhc2UgYXJlYSBpZiB5b3UsIiwKICAgICAgICAgICAgICAgICAgICAiQXJlIG91dCBvZiByYW5nZSBvZiB0aGUgYmFzZSwgdGhpcyBmZWF0dXJlIHdpbGwgbm90IHdvcmsuIgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGxvY2FsIERFU0NfQ09ORklHID0gewogICAgICAgICAgICAgICAgICAgIFRleHRTaXplID0gMTEsCiAgICAgICAgICAgICAgICAgICAgVGV4dENvbG9yID0gQ29sb3IzLmZyb21SR0IoMjAwLCAyMDAsIDIwMCksCiAgICAgICAgICAgICAgICAgICAgTGluZUhlaWdodCA9IDksCiAgICAgICAgICAgICAgICAgICAgVG9wUGFkZGluZyA9IDEKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBsb2NhbCBTRVBBUkFUT1JfQ09ORklHID0gewogICAgICAgICAgICAgICAgICAgIEhlaWdodCA9IDIsCiAgICAgICAgICAgICAgICAgICAgVG9wTWFyZ2luID0gMzAsCiAgICAgICAgICAgICAgICAgICAgQm90dG9tTWFyZ2luID0gMgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGxvY2FsIGJhc2VIZWlnaHQgPSA0MAogICAgICAgICAgICAgICAgbG9jYWwgZGVzY0hlaWdodCA9ICNEZXNjcmlwdGlvbnMgKiBERVNDX0NPTkZJRy5MaW5lSGVpZ2h0ICsgREVTQ19DT05GSUcuVG9wUGFkZGluZwogICAgICAgICAgICAgICAgbG9jYWwgdG90YWxIZWlnaHQgPSBiYXNlSGVpZ2h0ICsgZGVzY0hlaWdodAogICAgICAgICAgICAgICAgbG9jYWwgZGVzY1N0YXJ0WSA9IFNFUEFSQVRPUl9DT05GSUcuVG9wTWFyZ2luICsgU0VQQVJBVE9SX0NPTkZJRy5IZWlnaHQgKyBTRVBBUkFUT1JfQ09ORklHLkJvdHRvbU1hcmdpbgoKICAgICAgICAgICAgICAgIC0tIFVJCiAgICAgICAgICAgICAgICBsb2NhbCBmcmFtZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQogICAgICAgICAgICAgICAgZnJhbWUuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgZnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygxLCAtNSwgMCwgdG90YWxIZWlnaHQpCiAgICAgICAgICAgICAgICBmcmFtZS5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC4zCiAgICAgICAgICAgICAgICBmcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKICAgICAgICAgICAgICAgIGZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDAKICAgICAgICAgICAgICAgIGZyYW1lLkxheW91dE9yZGVyID0gbGF5b3V0T3JkZXIgb3IgNgogICAgICAgICAgICAgICAgZnJhbWUuUGFyZW50ID0gY29udGFpbmVyCgogICAgICAgICAgICAgICAgbG9jYWwgZnJhbWVDb3JuZXIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIikKICAgICAgICAgICAgICAgIGZyYW1lQ29ybmVyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGZyYW1lQ29ybmVyLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAsIDYpCiAgICAgICAgICAgICAgICBmcmFtZUNvcm5lci5QYXJlbnQgPSBmcmFtZQoKICAgICAgICAgICAgICAgIGxvY2FsIGZyYW1lU3Ryb2tlID0gSW5zdGFuY2UubmV3KCJVSVN0cm9rZSIpCiAgICAgICAgICAgICAgICBmcmFtZVN0cm9rZS5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBmcmFtZVN0cm9rZS5UaGlja25lc3MgPSAxCiAgICAgICAgICAgICAgICBmcmFtZVN0cm9rZS5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDE4MCwgMjAwLCAyMjApCiAgICAgICAgICAgICAgICBmcmFtZVN0cm9rZS5BcHBseVN0cm9rZU1vZGUgPSBFbnVtLkFwcGx5U3Ryb2tlTW9kZS5Cb3JkZXIKICAgICAgICAgICAgICAgIGZyYW1lU3Ryb2tlLlRyYW5zcGFyZW5jeSA9IDAuNAogICAgICAgICAgICAgICAgZnJhbWVTdHJva2UuUGFyZW50ID0gZnJhbWUKCiAgICAgICAgICAgICAgICBsb2NhbCBncmFkaWVudCA9IEluc3RhbmNlLm5ldygiVUlHcmFkaWVudCIpCiAgICAgICAgICAgICAgICBncmFkaWVudC5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBncmFkaWVudC5Sb3RhdGlvbiA9IDE4MAogICAgICAgICAgICAgICAgZ3JhZGllbnQuQ29sb3IgPQogICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2UubmV3KAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLCBDb2xvcjMuZnJvbVJHQigxMjAsIDgwLCAyMDApKSwKICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMuZnJvbVJHQig3MCwgNDAsIDE0MCkpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgZ3JhZGllbnQuUGFyZW50ID0gZnJhbWUKCiAgICAgICAgICAgICAgICBsb2NhbCBsYWJlbCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKICAgICAgICAgICAgICAgIGxhYmVsLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGxhYmVsLlBhcmVudCA9IGZyYW1lCiAgICAgICAgICAgICAgICBsYWJlbC5TaXplID0gVURpbTIubmV3KDAuNiwgMCwgMCwgMjApCiAgICAgICAgICAgICAgICBsYWJlbC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAxMCwgMCwgNSkKICAgICAgICAgICAgICAgIGxhYmVsLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICBsYWJlbC5UZXh0ID0gIkF1dG8gQ29sbGVjdCBNb25leSIKICAgICAgICAgICAgICAgIGxhYmVsLkZvbnQgPSBFbnVtLkZvbnQuR290aGFtQm9sZAogICAgICAgICAgICAgICAgbGFiZWwuVGV4dFNpemUgPSAxMQogICAgICAgICAgICAgICAgbGFiZWwuVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMSwgMSwgMSkKICAgICAgICAgICAgICAgIGxhYmVsLlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0CgogICAgICAgICAgICAgICAgbG9jYWwgc2VwYXJhdG9yTGluZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQogICAgICAgICAgICAgICAgc2VwYXJhdG9yTGluZS5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBzZXBhcmF0b3JMaW5lLlNpemUgPSBVRGltMi5uZXcoMSwgLTEwLCAwLCBTRVBBUkFUT1JfQ09ORklHLkhlaWdodCkKICAgICAgICAgICAgICAgIHNlcGFyYXRvckxpbmUuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgNSwgMCwgU0VQQVJBVE9SX0NPTkZJRy5Ub3BNYXJnaW4pCiAgICAgICAgICAgICAgICBzZXBhcmF0b3JMaW5lLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQogICAgICAgICAgICAgICAgc2VwYXJhdG9yTGluZS5Cb3JkZXJTaXplUGl4ZWwgPSAwCiAgICAgICAgICAgICAgICBzZXBhcmF0b3JMaW5lLlpJbmRleCA9IDEwCiAgICAgICAgICAgICAgICBzZXBhcmF0b3JMaW5lLlBhcmVudCA9IGZyYW1lCgogICAgICAgICAgICAgICAgbG9jYWwgc2VwYXJhdG9yR3JhZGllbnQgPSBJbnN0YW5jZS5uZXcoIlVJR3JhZGllbnQiKQogICAgICAgICAgICAgICAgc2VwYXJhdG9yR3JhZGllbnQuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgc2VwYXJhdG9yR3JhZGllbnQuUm90YXRpb24gPSAwCiAgICAgICAgICAgICAgICBzZXBhcmF0b3JHcmFkaWVudC5Db2xvciA9CiAgICAgICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZS5uZXcoCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAuMDAsIENvbG9yMy5mcm9tUkdCKDgwLCAxNjAsIDI1NSkpLAogICAgICAgICAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAuNDUsIENvbG9yMy5mcm9tUkdCKDE4MCwgODAsIDI1NSkpLAogICAgICAgICAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAuNTAsIENvbG9yMy5mcm9tUkdCKDIwMCwgNzAsIDI1NSkpLAogICAgICAgICAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAuNTUsIENvbG9yMy5mcm9tUkdCKDE4MCwgODAsIDI1NSkpLAogICAgICAgICAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDEuMDAsIENvbG9yMy5mcm9tUkdCKDgwLCAxNjAsIDI1NSkpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgc2VwYXJhdG9yR3JhZGllbnQuVHJhbnNwYXJlbmN5ID0KICAgICAgICAgICAgICAgICAgICBOdW1iZXJTZXF1ZW5jZS5uZXcoCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJTZXF1ZW5jZUtleXBvaW50Lm5ldygwLjAwLCAxKSwKICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyU2VxdWVuY2VLZXlwb2ludC5uZXcoMC4yNSwgMC4yKSwKICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyU2VxdWVuY2VLZXlwb2ludC5uZXcoMC40NSwgMCksCiAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclNlcXVlbmNlS2V5cG9pbnQubmV3KDAuNTUsIDApLAogICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJTZXF1ZW5jZUtleXBvaW50Lm5ldygwLjc1LCAwLjIpLAogICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJTZXF1ZW5jZUtleXBvaW50Lm5ldygxLjAwLCAxKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIHNlcGFyYXRvckdyYWRpZW50LlBhcmVudCA9IHNlcGFyYXRvckxpbmUKCiAgICAgICAgICAgICAgICBmb3IgaSwgZGVzY1RleHQgaW4gaXBhaXJzKERlc2NyaXB0aW9ucykgZG8KICAgICAgICAgICAgICAgICAgICBsb2NhbCBkZXNjTGFiZWwgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCiAgICAgICAgICAgICAgICAgICAgZGVzY0xhYmVsLk5hbWUgPSByYW5kb21OYW1lKCkgLi4gIl9EZXNjIiAuLiBpCiAgICAgICAgICAgICAgICAgICAgZGVzY0xhYmVsLlBhcmVudCA9IGZyYW1lCiAgICAgICAgICAgICAgICAgICAgZGVzY0xhYmVsLlNpemUgPSBVRGltMi5uZXcoMC45NSwgMCwgMCwgREVTQ19DT05GSUcuTGluZUhlaWdodCkKICAgICAgICAgICAgICAgICAgICBkZXNjTGFiZWwuUG9zaXRpb24gPQogICAgICAgICAgICAgICAgICAgICAgICBVRGltMi5uZXcoMCwgMTAsIDAsIGRlc2NTdGFydFkgKyBERVNDX0NPTkZJRy5Ub3BQYWRkaW5nICsgKChpIC0gMSkgKiBERVNDX0NPTkZJRy5MaW5lSGVpZ2h0KSkKICAgICAgICAgICAgICAgICAgICBkZXNjTGFiZWwuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgICAgICBkZXNjTGFiZWwuVGV4dCA9IGRlc2NUZXh0CiAgICAgICAgICAgICAgICAgICAgZGVzY0xhYmVsLkZvbnQgPSBFbnVtLkZvbnQuU291cmNlU2FucwogICAgICAgICAgICAgICAgICAgIGRlc2NMYWJlbC5UZXh0U2l6ZSA9IERFU0NfQ09ORklHLlRleHRTaXplCiAgICAgICAgICAgICAgICAgICAgZGVzY0xhYmVsLlRleHRDb2xvcjMgPSBERVNDX0NPTkZJRy5UZXh0Q29sb3IKICAgICAgICAgICAgICAgICAgICBkZXNjTGFiZWwuVGV4dFhBbGlnbm1lbnQgPSBFbnVtLlRleHRYQWxpZ25tZW50LkxlZnQKICAgICAgICAgICAgICAgICAgICBkZXNjTGFiZWwuVGV4dFdyYXBwZWQgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgZGVzY0xhYmVsLlRleHRUcmFuc3BhcmVuY3kgPSAwLjIKICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIGxvY2FsIEJ1dHRvbkJHID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCiAgICAgICAgICAgICAgICBCdXR0b25CRy5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBCdXR0b25CRy5QYXJlbnQgPSBmcmFtZQogICAgICAgICAgICAgICAgQnV0dG9uQkcuU2l6ZSA9IFVEaW0yLm5ldygwLjMsIC0xMCwgMCwgMjQpCiAgICAgICAgICAgICAgICBCdXR0b25CRy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjczLCAwLCAwLCAzKQogICAgICAgICAgICAgICAgQnV0dG9uQkcuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDM1LCAzNSwgNjApCiAgICAgICAgICAgICAgICBCdXR0b25CRy5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC4xCgogICAgICAgICAgICAgICAgbG9jYWwgYnV0dG9uQ29ybmVyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIpCiAgICAgICAgICAgICAgICBidXR0b25Db3JuZXIuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgYnV0dG9uQ29ybmVyLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAsIDYpCiAgICAgICAgICAgICAgICBidXR0b25Db3JuZXIuUGFyZW50ID0gQnV0dG9uQkcKCiAgICAgICAgICAgICAgICBsb2NhbCBidXR0b25TdHJva2UgPSBJbnN0YW5jZS5uZXcoIlVJU3Ryb2tlIikKICAgICAgICAgICAgICAgIGJ1dHRvblN0cm9rZS5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBidXR0b25TdHJva2UuVGhpY2tuZXNzID0gMQogICAgICAgICAgICAgICAgYnV0dG9uU3Ryb2tlLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMTAwLCAxMjAsIDE1MCkKICAgICAgICAgICAgICAgIGJ1dHRvblN0cm9rZS5UcmFuc3BhcmVuY3kgPSAwLjUKICAgICAgICAgICAgICAgIGJ1dHRvblN0cm9rZS5BcHBseVN0cm9rZU1vZGUgPSBFbnVtLkFwcGx5U3Ryb2tlTW9kZS5Cb3JkZXIKICAgICAgICAgICAgICAgIGJ1dHRvblN0cm9rZS5QYXJlbnQgPSBCdXR0b25CRwoKICAgICAgICAgICAgICAgIGxvY2FsIHRvZ2dsZUJ1dHRvbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24uTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlBhcmVudCA9IEJ1dHRvbkJHCiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24uU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24uVGV4dCA9ICJPRkYiCiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24uRm9udCA9IEVudW0uRm9udC5GcmVkb2thT25lCiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24uVGV4dFNpemUgPSAxMQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEsIDEsIDEpCgogICAgICAgICAgICAgICAgLS0gTVVMVEktTUVUSE9EIEJBU0UgRk9MREVSIERFVEVDVElPTgogICAgICAgICAgICAgICAgbG9jYWwgZnVuY3Rpb24gZmluZEJhc2VzRm9sZGVyKCkKICAgICAgICAgICAgICAgICAgICBsb2NhbCBwb3NzaWJsZU5hbWVzID0gewogICAgICAgICAgICAgICAgICAgICAgICAiQmFzZXNfTkVXIiwKICAgICAgICAgICAgICAgICAgICAgICAgIkJhc2VzIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlBsb3RzIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlBsYXllckJhc2VzIiwKICAgICAgICAgICAgICAgICAgICAgICAgIkJhc2VzTmV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgImJhc2VzX25ldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJiYXNlcyIKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGZvciBfLCBuYW1lIGluIGlwYWlycyhwb3NzaWJsZU5hbWVzKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBmb2xkZXIgPSB3b3Jrc3BhY2U6RmluZEZpcnN0Q2hpbGQobmFtZSkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgZm9sZGVyIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmb2xkZXIKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgIGZvciBfLCBjaGlsZCBpbiBwYWlycyh3b3Jrc3BhY2U6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgaWYgY2hpbGQ6SXNBKCJGb2xkZXIiKSBvciBjaGlsZDpJc0EoIk1vZGVsIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHN1YkNoaWxkIGluIHBhaXJzKGNoaWxkOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgc3ViQ2hpbGQuTmFtZTptYXRjaCgieyV4Ky0leCstJXgrLSV4Ky0leCt9IikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgZm9yIF8sIGNoaWxkIGluIHBhaXJzKHdvcmtzcGFjZTpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBpZiBjaGlsZDpJc0EoIkZvbGRlciIpIG9yIGNoaWxkOklzQSgiTW9kZWwiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgc3ViQ2hpbGQgaW4gcGFpcnMoY2hpbGQ6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBob2xkZXIgPSBzdWJDaGlsZDpHZXRBdHRyaWJ1dGUoIkhvbGRlciIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgaG9sZGVyIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgIHJldHVybiBuaWwKICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIC0tIEZ1bmdzaSBEZXRla3NpIEJhc2UgUGxheWVyCiAgICAgICAgICAgICAgICBsb2NhbCBmdW5jdGlvbiBmaW5kUGxheWVyQmFzZSgpCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgYmFzZXNGb2xkZXIgPSBmaW5kQmFzZXNGb2xkZXIoKQoKICAgICAgICAgICAgICAgICAgICBpZiBub3QgYmFzZXNGb2xkZXIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmlsCiAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgIGZvciBfLCBiYXNlIGluIHBhaXJzKGJhc2VzRm9sZGVyOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIGhvbGRlciA9IGJhc2U6R2V0QXR0cmlidXRlKCJIb2xkZXIiKQogICAgICAgICAgICAgICAgICAgICAgICBpZiBob2xkZXIgYW5kIGhvbGRlciA9PSBMb2NhbFBsYXllci5Vc2VySWQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJhc2UuTmFtZQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgZm9yIF8sIGJhc2UgaW4gcGFpcnMoYmFzZXNGb2xkZXI6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgcGxvdE93bmVyID0gYmFzZTpHZXRBdHRyaWJ1dGUoIlBsb3RPd25lciIpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHBsb3RPd25lciBhbmQgcGxvdE93bmVyID09IExvY2FsUGxheWVyLlVzZXJJZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmFzZS5OYW1lCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICBmb3IgXywgYmFzZSBpbiBwYWlycyhiYXNlc0ZvbGRlcjpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBvd25lciA9IGJhc2U6R2V0QXR0cmlidXRlKCJPd25lciIpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG93bmVyIGFuZCBvd25lciA9PSBMb2NhbFBsYXllci5Vc2VySWQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJhc2UuTmFtZQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgZm9yIF8sIGJhc2UgaW4gcGFpcnMoYmFzZXNGb2xkZXI6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIF8sIGNoaWxkIGluIHBhaXJzKGJhc2U6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNoaWxkOklzQSgiT2JqZWN0VmFsdWUiKSBhbmQgY2hpbGQuTmFtZSA9PSAiT3duZXIiIGFuZCBjaGlsZC5WYWx1ZSA9PSBMb2NhbFBsYXllciB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJhc2UuTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIGNoaWxkOklzQSgiSW50VmFsdWUiKSBhbmQgY2hpbGQuTmFtZSA9PSAiT3duZXIiIGFuZCBjaGlsZC5WYWx1ZSA9PSBMb2NhbFBsYXllci5Vc2VySWQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBiYXNlLk5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkOklzQSgiU3RyaW5nVmFsdWUiKSBhbmQgY2hpbGQuTmFtZSA9PSAiT3duZXIiIGFuZCBjaGlsZC5WYWx1ZSA9PSBMb2NhbFBsYXllci5OYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBiYXNlLk5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5pbAogICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgLS0gRnVuZ3NpIENvbGxlY3QgTW9uZXkKICAgICAgICAgICAgICAgIGxvY2FsIGZ1bmN0aW9uIGNvbGxlY3RNb25leShiYXNlSWQsIHNsb3QpCiAgICAgICAgICAgICAgICAgICAgdGFzay5zcGF3bigKICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGNhbGwoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZW1vdGVGdW5jdGlvbjpJbnZva2VTZXJ2ZXIoIkNvbGxlY3QgTW9uZXkiLCBiYXNlSWQsIHRvc3RyaW5nKHNsb3QpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAtLSBMb29wIENvbGxlY3QgKFNFTVVBIFNMT1QgQkVSU0FNQUFOKQogICAgICAgICAgICAgICAgbG9jYWwgZnVuY3Rpb24gY29sbGVjdExvb3AoKQogICAgICAgICAgICAgICAgICAgIHdoaWxlIGNvbGxlY3RFbmFibGVkIGRvCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIGJhc2VJZCA9IGZpbmRQbGF5ZXJCYXNlKCkKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGJhc2VJZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLSBTcGF3biBzZW11YSBjb2xsZWN0IHRhc2tzIEJFUlNBTUFBTgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHNsb3QgPSAxLCBNQVhfU0xPVFMgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBub3QgY29sbGVjdEVuYWJsZWQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3RNb25leShiYXNlSWQsIHNsb3QpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgICAgICAtLSBUdW5nZ3UgaW50ZXJ2YWwgc2ViZWx1bSBjeWNsZSBiZXJpa3V0bnlhCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNvbGxlY3RFbmFibGVkIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdChDT0xMRUNUX0lOVEVSVkFMKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIC0tIFRvZ2dsZSBIYW5kbGVyCiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24uTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdCgKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3RFbmFibGVkID0gbm90IGNvbGxlY3RFbmFibGVkCiAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5UZXh0ID0gY29sbGVjdEVuYWJsZWQgYW5kICJPTiIgb3IgIk9GRiIKCiAgICAgICAgICAgICAgICAgICAgICAgIHBjYWxsKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR3ZWVuU2VydmljZTpDcmVhdGUoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJ1dHRvbkJHLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUd2VlbkluZm8ubmV3KDAuNDApLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCYWNrZ3JvdW5kQ29sb3IzID0gY29sbGVjdEVuYWJsZWQgYW5kIENvbG9yMy5mcm9tUkdCKDcwLCAyMDAsIDkwKSBvcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbG9yMy5mcm9tUkdCKDM1LCAzNSwgNjApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApOlBsYXkoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNvbGxlY3RFbmFibGVkIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2suc3Bhd24oY29sbGVjdExvb3ApCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgICAgIC0tIENsZWFudXAKICAgICAgICAgICAgICAgIGZyYW1lLkRlc3Ryb3lpbmc6Q29ubmVjdCgKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3RFbmFibGVkID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAtLSBQYW5nZ2lsIHRvbWJvbAogICAgICAgICAgICBDcmVhdGVBdXRvQ29sbGVjdFRvZ2dsZSgxMSkKCiAgICAgICAgICAgIC0tIERJQkFXQUggSU5JIFRPTUJPTCAmIEZVTkdTSSAoQ09MTEVDVCBDT0lOIFVGTykKICAgICAgICAgICAgZnVuY3Rpb24gQ3JlYXRlQ29sbGVjdFVGT0NvaW5zVG9nZ2xlKGxheW91dE9yZGVyKQogICAgICAgICAgICAgICAgbG9jYWwgY29udGFpbmVyID0gZ2V0Z2VudigpLkZseWNlclJlZnMgYW5kIGdldGdlbnYoKS5GbHljZXJSZWZzLkJ1dHRvbkNvbnRhaW5lcgogICAgICAgICAgICAgICAgaWYgbm90IGNvbnRhaW5lciB0aGVuCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICBsb2NhbCBjb2xsZWN0RW5hYmxlZCA9IGZhbHNlCgogICAgICAgICAgICAgICAgLS0gQ29uZmlnCiAgICAgICAgICAgICAgICBsb2NhbCBDT0xMRUNUX0lOVEVSVkFMID0gMC4xCgogICAgICAgICAgICAgICAgLS0gVUkKICAgICAgICAgICAgICAgIGxvY2FsIGZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCiAgICAgICAgICAgICAgICBmcmFtZS5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBmcmFtZS5TaXplID0gVURpbTIubmV3KDEsIC01LCAwLCAzMCkKICAgICAgICAgICAgICAgIGZyYW1lLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjMKICAgICAgICAgICAgICAgIGZyYW1lLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQogICAgICAgICAgICAgICAgZnJhbWUuQm9yZGVyU2l6ZVBpeGVsID0gMAogICAgICAgICAgICAgICAgZnJhbWUuTGF5b3V0T3JkZXIgPSBsYXlvdXRPcmRlciBvciA5OQogICAgICAgICAgICAgICAgZnJhbWUuUGFyZW50ID0gY29udGFpbmVyCgogICAgICAgICAgICAgICAgbG9jYWwgY29ybmVyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIpCiAgICAgICAgICAgICAgICBjb3JuZXIuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgY29ybmVyLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAsIDYpCiAgICAgICAgICAgICAgICBjb3JuZXIuUGFyZW50ID0gZnJhbWUKCiAgICAgICAgICAgICAgICBsb2NhbCBzdHJva2UgPSBJbnN0YW5jZS5uZXcoIlVJU3Ryb2tlIikKICAgICAgICAgICAgICAgIHN0cm9rZS5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBzdHJva2UuVGhpY2tuZXNzID0gMQogICAgICAgICAgICAgICAgc3Ryb2tlLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMTgwLCAyMDAsIDIyMCkKICAgICAgICAgICAgICAgIHN0cm9rZS5BcHBseVN0cm9rZU1vZGUgPSBFbnVtLkFwcGx5U3Ryb2tlTW9kZS5Cb3JkZXIKICAgICAgICAgICAgICAgIHN0cm9rZS5UcmFuc3BhcmVuY3kgPSAwLjQKICAgICAgICAgICAgICAgIHN0cm9rZS5QYXJlbnQgPSBmcmFtZQoKICAgICAgICAgICAgICAgIGxvY2FsIGdyYWRpZW50ID0gSW5zdGFuY2UubmV3KCJVSUdyYWRpZW50IikKICAgICAgICAgICAgICAgIGdyYWRpZW50Lk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGdyYWRpZW50LlJvdGF0aW9uID0gMTgwCiAgICAgICAgICAgICAgICBncmFkaWVudC5Db2xvciA9CiAgICAgICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZS5uZXcoCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAsIENvbG9yMy5mcm9tUkdCKDEyMCwgODAsIDIwMCkpLAogICAgICAgICAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDEsIENvbG9yMy5mcm9tUkdCKDcwLCA0MCwgMTQwKSkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBncmFkaWVudC5QYXJlbnQgPSBmcmFtZQoKICAgICAgICAgICAgICAgIGxvY2FsIGxhYmVsID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQogICAgICAgICAgICAgICAgbGFiZWwuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgbGFiZWwuUGFyZW50ID0gZnJhbWUKICAgICAgICAgICAgICAgIGxhYmVsLlNpemUgPSBVRGltMi5uZXcoMC42LCAwLCAxLCAwKQogICAgICAgICAgICAgICAgbGFiZWwuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMTAsIDAsIDApCiAgICAgICAgICAgICAgICBsYWJlbC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgbGFiZWwuVGV4dCA9ICJDb2xsZWN0IFVGTyBDb2lucyIKICAgICAgICAgICAgICAgIGxhYmVsLkZvbnQgPSBFbnVtLkZvbnQuR290aGFtQm9sZAogICAgICAgICAgICAgICAgbGFiZWwuVGV4dFNpemUgPSAxMQogICAgICAgICAgICAgICAgbGFiZWwuVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMSwgMSwgMSkKICAgICAgICAgICAgICAgIGxhYmVsLlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0CgogICAgICAgICAgICAgICAgbG9jYWwgQnV0dG9uQkcgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLlBhcmVudCA9IGZyYW1lCiAgICAgICAgICAgICAgICBCdXR0b25CRy5TaXplID0gVURpbTIubmV3KDAuMywgLTEwLCAwLjgsIDApCiAgICAgICAgICAgICAgICBCdXR0b25CRy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjczLCAwLCAwLjEsIDApCiAgICAgICAgICAgICAgICBCdXR0b25CRy5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMzUsIDM1LCA2MCkKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjEKCiAgICAgICAgICAgICAgICBsb2NhbCBjb3JuZXIyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIpCiAgICAgICAgICAgICAgICBjb3JuZXIyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGNvcm5lcjIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwgNikKICAgICAgICAgICAgICAgIGNvcm5lcjIuUGFyZW50ID0gQnV0dG9uQkcKCiAgICAgICAgICAgICAgICBsb2NhbCBzdHJva2UyID0gSW5zdGFuY2UubmV3KCJVSVN0cm9rZSIpCiAgICAgICAgICAgICAgICBzdHJva2UyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIHN0cm9rZTIuVGhpY2tuZXNzID0gMQogICAgICAgICAgICAgICAgc3Ryb2tlMi5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDEwMCwgMTIwLCAxNTApCiAgICAgICAgICAgICAgICBzdHJva2UyLlRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgc3Ryb2tlMi5BcHBseVN0cm9rZU1vZGUgPSBFbnVtLkFwcGx5U3Ryb2tlTW9kZS5Cb3JkZXIKICAgICAgICAgICAgICAgIHN0cm9rZTIuUGFyZW50ID0gQnV0dG9uQkcKCiAgICAgICAgICAgICAgICBsb2NhbCB0b2dnbGVCdXR0b24gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5QYXJlbnQgPSBCdXR0b25CRwogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHQgPSAiT0ZGIgogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLkZvbnQgPSBFbnVtLkZvbnQuRnJlZG9rYU9uZQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHRTaXplID0gMTEKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxLCAxLCAxKQoKICAgICAgICAgICAgICAgIC0tIEZ1bmdzaSBDb2xsZWN0IFVGTyBDb2lucwogICAgICAgICAgICAgICAgbG9jYWwgZnVuY3Rpb24gY29sbGVjdFVGT0NvaW5zKCkKICAgICAgICAgICAgICAgICAgICBsb2NhbCBldmVudFBhcnRzID0gd29ya3NwYWNlOkZpbmRGaXJzdENoaWxkKCJVRk9FdmVudFBhcnRzIikKICAgICAgICAgICAgICAgICAgICBpZiBub3QgZXZlbnRQYXJ0cyB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICBsb2NhbCBjaGFyYWN0ZXIgPSBMb2NhbFBsYXllci5DaGFyYWN0ZXIKICAgICAgICAgICAgICAgICAgICBpZiBub3QgY2hhcmFjdGVyIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgIGxvY2FsIGh1bWFub2lkUm9vdFBhcnQgPSBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKQogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBodW1hbm9pZFJvb3RQYXJ0IHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgIGxvY2FsIHBsYXllckNGcmFtZSA9IGh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lCgogICAgICAgICAgICAgICAgICAgIHBjYWxsKAogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgZGVzY2VuZGFudCBpbiBwYWlycyhldmVudFBhcnRzOkdldERlc2NlbmRhbnRzKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgZGVzY2VuZGFudDpJc0EoIlRvdWNoVHJhbnNtaXR0ZXIiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHBhcmVudCA9IGRlc2NlbmRhbnQuUGFyZW50CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHBhcmVudCBhbmQgcGFyZW50OklzQSgiQmFzZVBhcnQiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuQ2FuQ29sbGlkZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuQ0ZyYW1lID0gcGxheWVyQ0ZyYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIC0tIExvb3AgQ29sbGVjdAogICAgICAgICAgICAgICAgbG9jYWwgZnVuY3Rpb24gY29sbGVjdExvb3AoKQogICAgICAgICAgICAgICAgICAgIHdoaWxlIGNvbGxlY3RFbmFibGVkIGRvCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3RVRk9Db2lucygpCiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdChDT0xMRUNUX0lOVEVSVkFMKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgLS0gVG9nZ2xlIEhhbmRsZXIKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5Nb3VzZUJ1dHRvbjFDbGljazpDb25uZWN0KAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdEVuYWJsZWQgPSBub3QgY29sbGVjdEVuYWJsZWQKICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHQgPSBjb2xsZWN0RW5hYmxlZCBhbmQgIk9OIiBvciAiT0ZGIgoKICAgICAgICAgICAgICAgICAgICAgICAgcGNhbGwoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHdlZW5TZXJ2aWNlOkNyZWF0ZSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQnV0dG9uQkcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR3ZWVuSW5mby5uZXcoMC40MCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJhY2tncm91bmRDb2xvcjMgPSBjb2xsZWN0RW5hYmxlZCBhbmQgQ29sb3IzLmZyb21SR0IoNzAsIDIwMCwgOTApIG9yCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3IzLmZyb21SR0IoMzUsIDM1LCA2MCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk6UGxheSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgY29sbGVjdEVuYWJsZWQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay5zcGF3bihjb2xsZWN0TG9vcCkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICApCgogICAgICAgICAgICAgICAgLS0gQ2xlYW51cAogICAgICAgICAgICAgICAgZnJhbWUuRGVzdHJveWluZzpDb25uZWN0KAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdEVuYWJsZWQgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICBlbmQKCiAgICAgICAgICAgIC0tIFBhbmdnaWwgdG9tYm9sCiAgICAgICAgICAgIENyZWF0ZUNvbGxlY3RVRk9Db2luc1RvZ2dsZSgxNCkKCiAgICAgICAgICAgIC0tIERJQkFXQUggSU5JIFRPTUJPTCAmIEZVTkdTSSAoQVVUTyBTUElOIFVGTykKICAgICAgICAgICAgZnVuY3Rpb24gQ3JlYXRlQXV0b1NwaW5VRk9Ub2dnbGUobGF5b3V0T3JkZXIpCiAgICAgICAgICAgICAgICBsb2NhbCBjb250YWluZXIgPSBnZXRnZW52KCkuRmx5Y2VyUmVmcyBhbmQgZ2V0Z2VudigpLkZseWNlclJlZnMuQnV0dG9uQ29udGFpbmVyCiAgICAgICAgICAgICAgICBpZiBub3QgY29udGFpbmVyIHRoZW4KICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIC0tIFVJCiAgICAgICAgICAgICAgICBsb2NhbCBmcmFtZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQogICAgICAgICAgICAgICAgZnJhbWUuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgZnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygxLCAtNSwgMCwgMzApCiAgICAgICAgICAgICAgICBmcmFtZS5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC4zCiAgICAgICAgICAgICAgICBmcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKICAgICAgICAgICAgICAgIGZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDAKICAgICAgICAgICAgICAgIGZyYW1lLkxheW91dE9yZGVyID0gbGF5b3V0T3JkZXIgb3IgOTkKICAgICAgICAgICAgICAgIGZyYW1lLlBhcmVudCA9IGNvbnRhaW5lcgoKICAgICAgICAgICAgICAgIGxvY2FsIGNvcm5lciA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiKQogICAgICAgICAgICAgICAgY29ybmVyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGNvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCA2KQogICAgICAgICAgICAgICAgY29ybmVyLlBhcmVudCA9IGZyYW1lCgogICAgICAgICAgICAgICAgbG9jYWwgc3Ryb2tlID0gSW5zdGFuY2UubmV3KCJVSVN0cm9rZSIpCiAgICAgICAgICAgICAgICBzdHJva2UuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgc3Ryb2tlLlRoaWNrbmVzcyA9IDEKICAgICAgICAgICAgICAgIHN0cm9rZS5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDE4MCwgMjAwLCAyMjApCiAgICAgICAgICAgICAgICBzdHJva2UuQXBwbHlTdHJva2VNb2RlID0gRW51bS5BcHBseVN0cm9rZU1vZGUuQm9yZGVyCiAgICAgICAgICAgICAgICBzdHJva2UuVHJhbnNwYXJlbmN5ID0gMC40CiAgICAgICAgICAgICAgICBzdHJva2UuUGFyZW50ID0gZnJhbWUKCiAgICAgICAgICAgICAgICBsb2NhbCBncmFkaWVudCA9IEluc3RhbmNlLm5ldygiVUlHcmFkaWVudCIpCiAgICAgICAgICAgICAgICBncmFkaWVudC5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBncmFkaWVudC5Sb3RhdGlvbiA9IDE4MAogICAgICAgICAgICAgICAgZ3JhZGllbnQuQ29sb3IgPQogICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2UubmV3KAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLCBDb2xvcjMuZnJvbVJHQigxMjAsIDgwLCAyMDApKSwKICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMuZnJvbVJHQig3MCwgNDAsIDE0MCkpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgZ3JhZGllbnQuUGFyZW50ID0gZnJhbWUKCiAgICAgICAgICAgICAgICBsb2NhbCBsYWJlbCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKICAgICAgICAgICAgICAgIGxhYmVsLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGxhYmVsLlBhcmVudCA9IGZyYW1lCiAgICAgICAgICAgICAgICBsYWJlbC5TaXplID0gVURpbTIubmV3KDAuNiwgMCwgMSwgMCkKICAgICAgICAgICAgICAgIGxhYmVsLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDEwLCAwLCAwKQogICAgICAgICAgICAgICAgbGFiZWwuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgIGxhYmVsLlRleHQgPSAiQXV0byBTcGluIFVGTyIKICAgICAgICAgICAgICAgIGxhYmVsLkZvbnQgPSBFbnVtLkZvbnQuR290aGFtQm9sZAogICAgICAgICAgICAgICAgbGFiZWwuVGV4dFNpemUgPSAxMQogICAgICAgICAgICAgICAgbGFiZWwuVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMSwgMSwgMSkKICAgICAgICAgICAgICAgIGxhYmVsLlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0CgogICAgICAgICAgICAgICAgbG9jYWwgQnV0dG9uQkcgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLlBhcmVudCA9IGZyYW1lCiAgICAgICAgICAgICAgICBCdXR0b25CRy5TaXplID0gVURpbTIubmV3KDAuMywgLTEwLCAwLjgsIDApCiAgICAgICAgICAgICAgICBCdXR0b25CRy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjczLCAwLCAwLjEsIDApCiAgICAgICAgICAgICAgICBCdXR0b25CRy5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMzUsIDM1LCA2MCkKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjEKCiAgICAgICAgICAgICAgICBsb2NhbCBjb3JuZXIyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIpCiAgICAgICAgICAgICAgICBjb3JuZXIyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGNvcm5lcjIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwgNikKICAgICAgICAgICAgICAgIGNvcm5lcjIuUGFyZW50ID0gQnV0dG9uQkcKCiAgICAgICAgICAgICAgICBsb2NhbCBzdHJva2UyID0gSW5zdGFuY2UubmV3KCJVSVN0cm9rZSIpCiAgICAgICAgICAgICAgICBzdHJva2UyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIHN0cm9rZTIuVGhpY2tuZXNzID0gMQogICAgICAgICAgICAgICAgc3Ryb2tlMi5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDEwMCwgMTIwLCAxNTApCiAgICAgICAgICAgICAgICBzdHJva2UyLlRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgc3Ryb2tlMi5BcHBseVN0cm9rZU1vZGUgPSBFbnVtLkFwcGx5U3Ryb2tlTW9kZS5Cb3JkZXIKICAgICAgICAgICAgICAgIHN0cm9rZTIuUGFyZW50ID0gQnV0dG9uQkcKCiAgICAgICAgICAgICAgICBsb2NhbCB0b2dnbGVCdXR0b24gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5QYXJlbnQgPSBCdXR0b25CRwogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHQgPSAiT0ZGIgogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLkZvbnQgPSBFbnVtLkZvbnQuRnJlZG9rYU9uZQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHRTaXplID0gMTEKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxLCAxLCAxKQoKICAgICAgICAgICAgICAgIGxvY2FsIHNwaW5FbmFibGVkID0gZmFsc2UKCiAgICAgICAgICAgICAgICAtLSBDb25maWcKICAgICAgICAgICAgICAgIGxvY2FsIFNQSU5fSU5URVJWQUwgPSAyCgogICAgICAgICAgICAgICAgLS0gRnVuZ3NpIFNwaW4gVUZPCiAgICAgICAgICAgICAgICBsb2NhbCBmdW5jdGlvbiBzcGluVUZPKCkKICAgICAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgYXJncyA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVUZPIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOldhaXRGb3JDaGlsZCgiUGFja2FnZXMiKTpXYWl0Rm9yQ2hpbGQoIk5ldCIpOldhaXRGb3JDaGlsZCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiUkYvV2hlZWxTcGluLlJvbGwiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICApOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIC0tIExvb3AgU3BpbgogICAgICAgICAgICAgICAgbG9jYWwgZnVuY3Rpb24gc3Bpbkxvb3AoKQogICAgICAgICAgICAgICAgICAgIHdoaWxlIHNwaW5FbmFibGVkIGRvCiAgICAgICAgICAgICAgICAgICAgICAgIHNwaW5VRk8oKQogICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoU1BJTl9JTlRFUlZBTCkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIC0tIFRvZ2dsZSBIYW5kbGVyCiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24uTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdCgKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgIHNwaW5FbmFibGVkID0gbm90IHNwaW5FbmFibGVkCiAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5UZXh0ID0gc3BpbkVuYWJsZWQgYW5kICJPTiIgb3IgIk9GRiIKCiAgICAgICAgICAgICAgICAgICAgICAgIHBjYWxsKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR3ZWVuU2VydmljZTpDcmVhdGUoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJ1dHRvbkJHLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUd2VlbkluZm8ubmV3KDAuNDApLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCYWNrZ3JvdW5kQ29sb3IzID0gc3BpbkVuYWJsZWQgYW5kIENvbG9yMy5mcm9tUkdCKDcwLCAyMDAsIDkwKSBvcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbG9yMy5mcm9tUkdCKDM1LCAzNSwgNjApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApOlBsYXkoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHNwaW5FbmFibGVkIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2suc3Bhd24oc3Bpbkxvb3ApCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgICAgIC0tIENsZWFudXAKICAgICAgICAgICAgICAgIGZyYW1lLkRlc3Ryb3lpbmc6Q29ubmVjdCgKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgIHNwaW5FbmFibGVkID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAtLSBQYW5nZ2lsIHRvbWJvbAogICAgICAgICAgICBDcmVhdGVBdXRvU3BpblVGT1RvZ2dsZSgxNSkKCiAgICAgICAgICAgIC0tIERJQkFXQUggSU5JIFRPTUJPTCAmIEZVTkdTSSAoQ09MTEVDVCBBTEwgUkFESU9BQ1RJVkUpCiAgICAgICAgICAgIGZ1bmN0aW9uIENyZWF0ZUNvbGxlY3RSYWRpb2FjdGl2ZVRvZ2dsZShsYXlvdXRPcmRlcikKICAgICAgICAgICAgICAgIGxvY2FsIGNvbnRhaW5lciA9IGdldGdlbnYoKS5GbHljZXJSZWZzIGFuZCBnZXRnZW52KCkuRmx5Y2VyUmVmcy5CdXR0b25Db250YWluZXIKICAgICAgICAgICAgICAgIGlmIG5vdCBjb250YWluZXIgdGhlbgogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgbG9jYWwgY29sbGVjdEVuYWJsZWQgPSBmYWxzZQoKICAgICAgICAgICAgICAgIC0tIENvbmZpZwogICAgICAgICAgICAgICAgbG9jYWwgQ09MTEVDVF9JTlRFUlZBTCA9IDAuNQoKICAgICAgICAgICAgICAgIC0tIFVJCiAgICAgICAgICAgICAgICBsb2NhbCBmcmFtZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQogICAgICAgICAgICAgICAgZnJhbWUuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgZnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygxLCAtNSwgMCwgMzApCiAgICAgICAgICAgICAgICBmcmFtZS5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC4zCiAgICAgICAgICAgICAgICBmcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKICAgICAgICAgICAgICAgIGZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDAKICAgICAgICAgICAgICAgIGZyYW1lLkxheW91dE9yZGVyID0gbGF5b3V0T3JkZXIgb3IgOTkKICAgICAgICAgICAgICAgIGZyYW1lLlBhcmVudCA9IGNvbnRhaW5lcgoKICAgICAgICAgICAgICAgIGxvY2FsIGNvcm5lciA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiKQogICAgICAgICAgICAgICAgY29ybmVyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGNvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCA2KQogICAgICAgICAgICAgICAgY29ybmVyLlBhcmVudCA9IGZyYW1lCgogICAgICAgICAgICAgICAgbG9jYWwgc3Ryb2tlID0gSW5zdGFuY2UubmV3KCJVSVN0cm9rZSIpCiAgICAgICAgICAgICAgICBzdHJva2UuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgc3Ryb2tlLlRoaWNrbmVzcyA9IDEKICAgICAgICAgICAgICAgIHN0cm9rZS5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDE4MCwgMjAwLCAyMjApCiAgICAgICAgICAgICAgICBzdHJva2UuQXBwbHlTdHJva2VNb2RlID0gRW51bS5BcHBseVN0cm9rZU1vZGUuQm9yZGVyCiAgICAgICAgICAgICAgICBzdHJva2UuVHJhbnNwYXJlbmN5ID0gMC40CiAgICAgICAgICAgICAgICBzdHJva2UuUGFyZW50ID0gZnJhbWUKCiAgICAgICAgICAgICAgICBsb2NhbCBncmFkaWVudCA9IEluc3RhbmNlLm5ldygiVUlHcmFkaWVudCIpCiAgICAgICAgICAgICAgICBncmFkaWVudC5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBncmFkaWVudC5Sb3RhdGlvbiA9IDE4MAogICAgICAgICAgICAgICAgZ3JhZGllbnQuQ29sb3IgPQogICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2UubmV3KAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLCBDb2xvcjMuZnJvbVJHQigxMjAsIDgwLCAyMDApKSwKICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMuZnJvbVJHQig3MCwgNDAsIDE0MCkpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgZ3JhZGllbnQuUGFyZW50ID0gZnJhbWUKCiAgICAgICAgICAgICAgICBsb2NhbCBsYWJlbCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKICAgICAgICAgICAgICAgIGxhYmVsLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGxhYmVsLlBhcmVudCA9IGZyYW1lCiAgICAgICAgICAgICAgICBsYWJlbC5TaXplID0gVURpbTIubmV3KDAuNiwgMCwgMSwgMCkKICAgICAgICAgICAgICAgIGxhYmVsLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDEwLCAwLCAwKQogICAgICAgICAgICAgICAgbGFiZWwuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgIGxhYmVsLlRleHQgPSAiQ29sbGVjdCBSYWRpb2FjdGl2ZSBDb2lucyIKICAgICAgICAgICAgICAgIGxhYmVsLkZvbnQgPSBFbnVtLkZvbnQuR290aGFtQm9sZAogICAgICAgICAgICAgICAgbGFiZWwuVGV4dFNpemUgPSAxMQogICAgICAgICAgICAgICAgbGFiZWwuVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMSwgMSwgMSkKICAgICAgICAgICAgICAgIGxhYmVsLlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0CgogICAgICAgICAgICAgICAgbG9jYWwgQnV0dG9uQkcgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLlBhcmVudCA9IGZyYW1lCiAgICAgICAgICAgICAgICBCdXR0b25CRy5TaXplID0gVURpbTIubmV3KDAuMywgLTEwLCAwLjgsIDApCiAgICAgICAgICAgICAgICBCdXR0b25CRy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjczLCAwLCAwLjEsIDApCiAgICAgICAgICAgICAgICBCdXR0b25CRy5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMzUsIDM1LCA2MCkKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjEKCiAgICAgICAgICAgICAgICBsb2NhbCBjb3JuZXIyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIpCiAgICAgICAgICAgICAgICBjb3JuZXIyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGNvcm5lcjIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwgNikKICAgICAgICAgICAgICAgIGNvcm5lcjIuUGFyZW50ID0gQnV0dG9uQkcKCiAgICAgICAgICAgICAgICBsb2NhbCBzdHJva2UyID0gSW5zdGFuY2UubmV3KCJVSVN0cm9rZSIpCiAgICAgICAgICAgICAgICBzdHJva2UyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIHN0cm9rZTIuVGhpY2tuZXNzID0gMQogICAgICAgICAgICAgICAgc3Ryb2tlMi5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDEwMCwgMTIwLCAxNTApCiAgICAgICAgICAgICAgICBzdHJva2UyLlRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgc3Ryb2tlMi5BcHBseVN0cm9rZU1vZGUgPSBFbnVtLkFwcGx5U3Ryb2tlTW9kZS5Cb3JkZXIKICAgICAgICAgICAgICAgIHN0cm9rZTIuUGFyZW50ID0gQnV0dG9uQkcKCiAgICAgICAgICAgICAgICBsb2NhbCB0b2dnbGVCdXR0b24gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5QYXJlbnQgPSBCdXR0b25CRwogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHQgPSAiT0ZGIgogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLkZvbnQgPSBFbnVtLkZvbnQuRnJlZG9rYU9uZQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHRTaXplID0gMTEKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxLCAxLCAxKQoKICAgICAgICAgICAgICAgIC0tIEZ1bmdzaSBDb2xsZWN0IFJhZGlvYWN0aXZlCiAgICAgICAgICAgICAgICBsb2NhbCBmdW5jdGlvbiBjb2xsZWN0UmFkaW9hY3RpdmUoKQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGV2ZW50UGFydHMgPSB3b3Jrc3BhY2U6RmluZEZpcnN0Q2hpbGQoIkV2ZW50UGFydHMiKQogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBldmVudFBhcnRzIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgIGxvY2FsIGNoYXJhY3RlciA9IExvY2FsUGxheWVyLkNoYXJhY3RlcgogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBjaGFyYWN0ZXIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgaHVtYW5vaWRSb290UGFydCA9IGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCiAgICAgICAgICAgICAgICAgICAgaWYgbm90IGh1bWFub2lkUm9vdFBhcnQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgcGxheWVyQ0ZyYW1lID0gaHVtYW5vaWRSb290UGFydC5DRnJhbWUKCiAgICAgICAgICAgICAgICAgICAgcGNhbGwoCiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCBkZXNjZW5kYW50IGluIHBhaXJzKGV2ZW50UGFydHM6R2V0RGVzY2VuZGFudHMoKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBkZXNjZW5kYW50OklzQSgiVG91Y2hUcmFuc21pdHRlciIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgcGFyZW50ID0gZGVzY2VuZGFudC5QYXJlbnQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgcGFyZW50IGFuZCBwYXJlbnQ6SXNBKCJCYXNlUGFydCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5DRnJhbWUgPSBwbGF5ZXJDRnJhbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgLS0gTG9vcCBDb2xsZWN0CiAgICAgICAgICAgICAgICBsb2NhbCBmdW5jdGlvbiBjb2xsZWN0TG9vcCgpCiAgICAgICAgICAgICAgICAgICAgd2hpbGUgY29sbGVjdEVuYWJsZWQgZG8KICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdFJhZGlvYWN0aXZlKCkKICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KENPTExFQ1RfSU5URVJWQUwpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAtLSBUb2dnbGUgSGFuZGxlcgogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0RW5hYmxlZCA9IG5vdCBjb2xsZWN0RW5hYmxlZAogICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24uVGV4dCA9IGNvbGxlY3RFbmFibGVkIGFuZCAiT04iIG9yICJPRkYiCgogICAgICAgICAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUd2VlblNlcnZpY2U6Q3JlYXRlKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCdXR0b25CRywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHdlZW5JbmZvLm5ldygwLjQwKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQmFja2dyb3VuZENvbG9yMyA9IGNvbGxlY3RFbmFibGVkIGFuZCBDb2xvcjMuZnJvbVJHQig3MCwgMjAwLCA5MCkgb3IKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb2xvcjMuZnJvbVJHQigzNSwgMzUsIDYwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTpQbGF5KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICApCgogICAgICAgICAgICAgICAgICAgICAgICBpZiBjb2xsZWN0RW5hYmxlZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLnNwYXduKGNvbGxlY3RMb29wKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICAtLSBDbGVhbnVwCiAgICAgICAgICAgICAgICBmcmFtZS5EZXN0cm95aW5nOkNvbm5lY3QoCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0RW5hYmxlZCA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgLS0gUGFuZ2dpbCB0b21ib2wKICAgICAgICAgICAgQ3JlYXRlQ29sbGVjdFJhZGlvYWN0aXZlVG9nZ2xlKDE2KQoKICAgICAgICAgICAgLS0gRElCQVdBSCBJTkkgVE9NQk9MICYgRlVOR1NJIChBVVRPIFNQSU4pCiAgICAgICAgICAgIGZ1bmN0aW9uIENyZWF0ZUF1dG9TcGluUmFkaW9hY3RpdmVUb2dnbGUobGF5b3V0T3JkZXIpCiAgICAgICAgICAgICAgICBsb2NhbCBjb250YWluZXIgPSBnZXRnZW52KCkuRmx5Y2VyUmVmcyBhbmQgZ2V0Z2VudigpLkZseWNlclJlZnMuQnV0dG9uQ29udGFpbmVyCiAgICAgICAgICAgICAgICBpZiBub3QgY29udGFpbmVyIHRoZW4KICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIGxvY2FsIHNwaW5FbmFibGVkID0gZmFsc2UKCiAgICAgICAgICAgICAgICAtLSBSZW1vdGUKICAgICAgICAgICAgICAgIGxvY2FsIFNwaW5SZW1vdGUKCiAgICAgICAgICAgICAgICAtLSBDb25maWcKICAgICAgICAgICAgICAgIGxvY2FsIFNQSU5fSU5URVJWQUwgPSAxCgogICAgICAgICAgICAgICAgLS0gR2V0IFJlbW90ZSBGdW5jdGlvbiAoU2lsZW50KQogICAgICAgICAgICAgICAgcGNhbGwoCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICBTcGluUmVtb3RlID0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcGxpY2F0ZWRTdG9yYWdlOldhaXRGb3JDaGlsZCgiUGFja2FnZXMiLCA1KTpXYWl0Rm9yQ2hpbGQoIk5ldCIsIDUpOldhaXRGb3JDaGlsZCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJSRi9XaGVlbFNwaW4uUm9sbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA1CiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICAtLSBVSQogICAgICAgICAgICAgICAgbG9jYWwgZnJhbWUgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKICAgICAgICAgICAgICAgIGZyYW1lLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGZyYW1lLlNpemUgPSBVRGltMi5uZXcoMSwgLTUsIDAsIDMwKQogICAgICAgICAgICAgICAgZnJhbWUuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAuMwogICAgICAgICAgICAgICAgZnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCiAgICAgICAgICAgICAgICBmcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAwCiAgICAgICAgICAgICAgICBmcmFtZS5MYXlvdXRPcmRlciA9IGxheW91dE9yZGVyIG9yIDk5CiAgICAgICAgICAgICAgICBmcmFtZS5QYXJlbnQgPSBjb250YWluZXIKCiAgICAgICAgICAgICAgICBsb2NhbCBjb3JuZXIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIikKICAgICAgICAgICAgICAgIGNvcm5lci5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBjb3JuZXIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwgNikKICAgICAgICAgICAgICAgIGNvcm5lci5QYXJlbnQgPSBmcmFtZQoKICAgICAgICAgICAgICAgIGxvY2FsIHN0cm9rZSA9IEluc3RhbmNlLm5ldygiVUlTdHJva2UiKQogICAgICAgICAgICAgICAgc3Ryb2tlLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIHN0cm9rZS5UaGlja25lc3MgPSAxCiAgICAgICAgICAgICAgICBzdHJva2UuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigxODAsIDIwMCwgMjIwKQogICAgICAgICAgICAgICAgc3Ryb2tlLkFwcGx5U3Ryb2tlTW9kZSA9IEVudW0uQXBwbHlTdHJva2VNb2RlLkJvcmRlcgogICAgICAgICAgICAgICAgc3Ryb2tlLlRyYW5zcGFyZW5jeSA9IDAuNAogICAgICAgICAgICAgICAgc3Ryb2tlLlBhcmVudCA9IGZyYW1lCgogICAgICAgICAgICAgICAgbG9jYWwgZ3JhZGllbnQgPSBJbnN0YW5jZS5uZXcoIlVJR3JhZGllbnQiKQogICAgICAgICAgICAgICAgZ3JhZGllbnQuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgZ3JhZGllbnQuUm90YXRpb24gPSAxODAKICAgICAgICAgICAgICAgIGdyYWRpZW50LkNvbG9yID0KICAgICAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlLm5ldygKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgQ29sb3IzLmZyb21SR0IoMTIwLCA4MCwgMjAwKSksCiAgICAgICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMSwgQ29sb3IzLmZyb21SR0IoNzAsIDQwLCAxNDApKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGdyYWRpZW50LlBhcmVudCA9IGZyYW1lCgogICAgICAgICAgICAgICAgbG9jYWwgbGFiZWwgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCiAgICAgICAgICAgICAgICBsYWJlbC5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBsYWJlbC5QYXJlbnQgPSBmcmFtZQogICAgICAgICAgICAgICAgbGFiZWwuU2l6ZSA9IFVEaW0yLm5ldygwLjYsIDAsIDEsIDApCiAgICAgICAgICAgICAgICBsYWJlbC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAxMCwgMCwgMCkKICAgICAgICAgICAgICAgIGxhYmVsLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICBsYWJlbC5UZXh0ID0gIkF1dG8gU3BpbiBSYWRpb2FjdGl2ZSIKICAgICAgICAgICAgICAgIGxhYmVsLkZvbnQgPSBFbnVtLkZvbnQuR290aGFtQm9sZAogICAgICAgICAgICAgICAgbGFiZWwuVGV4dFNpemUgPSAxMQogICAgICAgICAgICAgICAgbGFiZWwuVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMSwgMSwgMSkKICAgICAgICAgICAgICAgIGxhYmVsLlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0CgogICAgICAgICAgICAgICAgbG9jYWwgQnV0dG9uQkcgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLlBhcmVudCA9IGZyYW1lCiAgICAgICAgICAgICAgICBCdXR0b25CRy5TaXplID0gVURpbTIubmV3KDAuMywgLTEwLCAwLjgsIDApCiAgICAgICAgICAgICAgICBCdXR0b25CRy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjczLCAwLCAwLjEsIDApCiAgICAgICAgICAgICAgICBCdXR0b25CRy5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMzUsIDM1LCA2MCkKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjEKCiAgICAgICAgICAgICAgICBsb2NhbCBjb3JuZXIyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIpCiAgICAgICAgICAgICAgICBjb3JuZXIyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGNvcm5lcjIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwgNikKICAgICAgICAgICAgICAgIGNvcm5lcjIuUGFyZW50ID0gQnV0dG9uQkcKCiAgICAgICAgICAgICAgICBsb2NhbCBzdHJva2UyID0gSW5zdGFuY2UubmV3KCJVSVN0cm9rZSIpCiAgICAgICAgICAgICAgICBzdHJva2UyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIHN0cm9rZTIuVGhpY2tuZXNzID0gMQogICAgICAgICAgICAgICAgc3Ryb2tlMi5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDEwMCwgMTIwLCAxNTApCiAgICAgICAgICAgICAgICBzdHJva2UyLlRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgc3Ryb2tlMi5BcHBseVN0cm9rZU1vZGUgPSBFbnVtLkFwcGx5U3Ryb2tlTW9kZS5Cb3JkZXIKICAgICAgICAgICAgICAgIHN0cm9rZTIuUGFyZW50ID0gQnV0dG9uQkcKCiAgICAgICAgICAgICAgICBsb2NhbCB0b2dnbGVCdXR0b24gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5QYXJlbnQgPSBCdXR0b25CRwogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHQgPSAiT0ZGIgogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLkZvbnQgPSBFbnVtLkZvbnQuRnJlZG9rYU9uZQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHRTaXplID0gMTEKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxLCAxLCAxKQoKICAgICAgICAgICAgICAgIC0tIEZ1bmdzaSBTcGluCiAgICAgICAgICAgICAgICBsb2NhbCBmdW5jdGlvbiBkb1NwaW4oKQogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBTcGluUmVtb3RlIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgcGNhbGwoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3BpblJlbW90ZSA9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlcGxpY2F0ZWRTdG9yYWdlOldhaXRGb3JDaGlsZCgiUGFja2FnZXMiLCA1KTpXYWl0Rm9yQ2hpbGQoIk5ldCIsIDUpOldhaXRGb3JDaGlsZCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlJGL1doZWVsU3Bpbi5Sb2xsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgIGlmIFNwaW5SZW1vdGUgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTcGluUmVtb3RlOkludm9rZVNlcnZlcigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgLS0gTG9vcCBTcGluCiAgICAgICAgICAgICAgICBsb2NhbCBmdW5jdGlvbiBzcGluTG9vcCgpCiAgICAgICAgICAgICAgICAgICAgd2hpbGUgc3BpbkVuYWJsZWQgZG8KICAgICAgICAgICAgICAgICAgICAgICAgZG9TcGluKCkKICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KFNQSU5fSU5URVJWQUwpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAtLSBUb2dnbGUgSGFuZGxlcgogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICBzcGluRW5hYmxlZCA9IG5vdCBzcGluRW5hYmxlZAogICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24uVGV4dCA9IHNwaW5FbmFibGVkIGFuZCAiT04iIG9yICJPRkYiCgogICAgICAgICAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUd2VlblNlcnZpY2U6Q3JlYXRlKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCdXR0b25CRywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHdlZW5JbmZvLm5ldygwLjQwKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQmFja2dyb3VuZENvbG9yMyA9IHNwaW5FbmFibGVkIGFuZCBDb2xvcjMuZnJvbVJHQig3MCwgMjAwLCA5MCkgb3IKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb2xvcjMuZnJvbVJHQigzNSwgMzUsIDYwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTpQbGF5KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICApCgogICAgICAgICAgICAgICAgICAgICAgICBpZiBzcGluRW5hYmxlZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLnNwYXduKHNwaW5Mb29wKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICAtLSBDbGVhbnVwCiAgICAgICAgICAgICAgICBmcmFtZS5EZXN0cm95aW5nOkNvbm5lY3QoCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICBzcGluRW5hYmxlZCA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgLS0gUGFuZ2dpbCB0b21ib2wKICAgICAgICAgICAgQ3JlYXRlQXV0b1NwaW5SYWRpb2FjdGl2ZVRvZ2dsZSgxNykKCiAgICAgICAgICAgIC0tIERJQkFXQUggSU5JIFRPTUJPTCAmIEZVTkdTSSAoQVVUTyBVUERSQUdSRSBTUEVFRCkKICAgICAgICAgICAgZnVuY3Rpb24gQ3JlYXRlQXV0b1VwZ3JhZGVTcGVlZFRvZ2dsZShsYXlvdXRPcmRlcikKICAgICAgICAgICAgICAgIGxvY2FsIGNvbnRhaW5lciA9IGdldGdlbnYoKS5GbHljZXJSZWZzIGFuZCBnZXRnZW52KCkuRmx5Y2VyUmVmcy5CdXR0b25Db250YWluZXIKICAgICAgICAgICAgICAgIGlmIG5vdCBjb250YWluZXIgdGhlbgogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgbG9jYWwgdXBncmFkZUVuYWJsZWQgPSBmYWxzZQogICAgICAgICAgICAgICAgbG9jYWwgY29ubmVjdGlvbnMgPSB7fQogICAgICAgICAgICAgICAgbG9jYWwgZGVib3VuY2UgPSBmYWxzZQoKICAgICAgICAgICAgICAgIC0tIFJlbW90ZSBTZXR1cAogICAgICAgICAgICAgICAgbG9jYWwgUmVtb3RlRnVuY3Rpb25zID0gUmVwbGljYXRlZFN0b3JhZ2U6V2FpdEZvckNoaWxkKCJSZW1vdGVGdW5jdGlvbnMiKQogICAgICAgICAgICAgICAgbG9jYWwgVXBncmFkZVNwZWVkID0gUmVtb3RlRnVuY3Rpb25zOldhaXRGb3JDaGlsZCgiVXBncmFkZVNwZWVkIikKCiAgICAgICAgICAgICAgICAtLSBDb25maWcKICAgICAgICAgICAgICAgIGxvY2FsIENPTkZJRyA9IHsKICAgICAgICAgICAgICAgICAgICBCdXlBbW91bnQgPSAxLAogICAgICAgICAgICAgICAgICAgIERlbGF5ID0gMC4wMgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC0tIFVJCiAgICAgICAgICAgICAgICBsb2NhbCBmcmFtZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQogICAgICAgICAgICAgICAgZnJhbWUuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgZnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygxLCAtNSwgMCwgMzApCiAgICAgICAgICAgICAgICBmcmFtZS5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC4zCiAgICAgICAgICAgICAgICBmcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKICAgICAgICAgICAgICAgIGZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDAKICAgICAgICAgICAgICAgIGZyYW1lLkxheW91dE9yZGVyID0gbGF5b3V0T3JkZXIgb3IgOTkKICAgICAgICAgICAgICAgIGZyYW1lLlBhcmVudCA9IGNvbnRhaW5lcgoKICAgICAgICAgICAgICAgIGxvY2FsIGNvcm5lciA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiKQogICAgICAgICAgICAgICAgY29ybmVyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGNvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCA2KQogICAgICAgICAgICAgICAgY29ybmVyLlBhcmVudCA9IGZyYW1lCgogICAgICAgICAgICAgICAgbG9jYWwgc3Ryb2tlID0gSW5zdGFuY2UubmV3KCJVSVN0cm9rZSIpCiAgICAgICAgICAgICAgICBzdHJva2UuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgc3Ryb2tlLlRoaWNrbmVzcyA9IDEKICAgICAgICAgICAgICAgIHN0cm9rZS5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDE4MCwgMjAwLCAyMjApCiAgICAgICAgICAgICAgICBzdHJva2UuQXBwbHlTdHJva2VNb2RlID0gRW51bS5BcHBseVN0cm9rZU1vZGUuQm9yZGVyCiAgICAgICAgICAgICAgICBzdHJva2UuVHJhbnNwYXJlbmN5ID0gMC40CiAgICAgICAgICAgICAgICBzdHJva2UuUGFyZW50ID0gZnJhbWUKCiAgICAgICAgICAgICAgICBsb2NhbCBncmFkaWVudCA9IEluc3RhbmNlLm5ldygiVUlHcmFkaWVudCIpCiAgICAgICAgICAgICAgICBncmFkaWVudC5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBncmFkaWVudC5Sb3RhdGlvbiA9IDE4MAogICAgICAgICAgICAgICAgZ3JhZGllbnQuQ29sb3IgPQogICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2UubmV3KAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLCBDb2xvcjMuZnJvbVJHQigxMjAsIDgwLCAyMDApKSwKICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMuZnJvbVJHQig3MCwgNDAsIDE0MCkpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgZ3JhZGllbnQuUGFyZW50ID0gZnJhbWUKCiAgICAgICAgICAgICAgICBsb2NhbCBsYWJlbCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKICAgICAgICAgICAgICAgIGxhYmVsLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGxhYmVsLlBhcmVudCA9IGZyYW1lCiAgICAgICAgICAgICAgICBsYWJlbC5TaXplID0gVURpbTIubmV3KDAuNiwgMCwgMSwgMCkKICAgICAgICAgICAgICAgIGxhYmVsLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDEwLCAwLCAwKQogICAgICAgICAgICAgICAgbGFiZWwuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgIGxhYmVsLlRleHQgPSAiQXV0byBVcGdyYWRlIFNwZWVkIgogICAgICAgICAgICAgICAgbGFiZWwuRm9udCA9IEVudW0uRm9udC5Hb3RoYW1Cb2xkCiAgICAgICAgICAgICAgICBsYWJlbC5UZXh0U2l6ZSA9IDExCiAgICAgICAgICAgICAgICBsYWJlbC5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxLCAxLCAxKQogICAgICAgICAgICAgICAgbGFiZWwuVGV4dFhBbGlnbm1lbnQgPSBFbnVtLlRleHRYQWxpZ25tZW50LkxlZnQKCiAgICAgICAgICAgICAgICBsb2NhbCBCdXR0b25CRyA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQogICAgICAgICAgICAgICAgQnV0dG9uQkcuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgQnV0dG9uQkcuUGFyZW50ID0gZnJhbWUKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLlNpemUgPSBVRGltMi5uZXcoMC4zLCAtMTAsIDAuOCwgMCkKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNzMsIDAsIDAuMSwgMCkKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigzNSwgMzUsIDYwKQogICAgICAgICAgICAgICAgQnV0dG9uQkcuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAuMQoKICAgICAgICAgICAgICAgIGxvY2FsIGNvcm5lcjIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIikKICAgICAgICAgICAgICAgIGNvcm5lcjIuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgY29ybmVyMi5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCA2KQogICAgICAgICAgICAgICAgY29ybmVyMi5QYXJlbnQgPSBCdXR0b25CRwoKICAgICAgICAgICAgICAgIGxvY2FsIHN0cm9rZTIgPSBJbnN0YW5jZS5uZXcoIlVJU3Ryb2tlIikKICAgICAgICAgICAgICAgIHN0cm9rZTIuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgc3Ryb2tlMi5UaGlja25lc3MgPSAxCiAgICAgICAgICAgICAgICBzdHJva2UyLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMTAwLCAxMjAsIDE1MCkKICAgICAgICAgICAgICAgIHN0cm9rZTIuVHJhbnNwYXJlbmN5ID0gMC41CiAgICAgICAgICAgICAgICBzdHJva2UyLkFwcGx5U3Ryb2tlTW9kZSA9IEVudW0uQXBwbHlTdHJva2VNb2RlLkJvcmRlcgogICAgICAgICAgICAgICAgc3Ryb2tlMi5QYXJlbnQgPSBCdXR0b25CRwoKICAgICAgICAgICAgICAgIGxvY2FsIHRvZ2dsZUJ1dHRvbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24uTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlBhcmVudCA9IEJ1dHRvbkJHCiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24uU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24uVGV4dCA9ICJPRkYiCiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24uRm9udCA9IEVudW0uRm9udC5GcmVkb2thT25lCiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24uVGV4dFNpemUgPSAxMQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEsIDEsIDEpCgogICAgICAgICAgICAgICAgLS0gQ29yZSBGdW5jdGlvbiAtIEF1dG8gVXBncmFkZQogICAgICAgICAgICAgICAgbG9jYWwgZnVuY3Rpb24gcGVyZm9ybVVwZ3JhZGUoKQogICAgICAgICAgICAgICAgICAgIGlmIGRlYm91bmNlIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgIGRlYm91bmNlID0gdHJ1ZQoKICAgICAgICAgICAgICAgICAgICB0YXNrLnNwYXduKAogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVwZ3JhZGVTcGVlZDpJbnZva2VTZXJ2ZXIoQ09ORklHLkJ1eUFtb3VudCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoQ09ORklHLkRlbGF5KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVib3VuY2UgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAtLSBUb2dnbGUgSGFuZGxlcgogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICB1cGdyYWRlRW5hYmxlZCA9IG5vdCB1cGdyYWRlRW5hYmxlZAogICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24uVGV4dCA9IHVwZ3JhZGVFbmFibGVkIGFuZCAiT04iIG9yICJPRkYiCgogICAgICAgICAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUd2VlblNlcnZpY2U6Q3JlYXRlKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCdXR0b25CRywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHdlZW5JbmZvLm5ldygwLjQwKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQmFja2dyb3VuZENvbG9yMyA9IHVwZ3JhZGVFbmFibGVkIGFuZCBDb2xvcjMuZnJvbVJHQig3MCwgMjAwLCA5MCkgb3IKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb2xvcjMuZnJvbVJHQigzNSwgMzUsIDYwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTpQbGF5KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICApCgogICAgICAgICAgICAgICAgICAgICAgICBpZiB1cGdyYWRlRW5hYmxlZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLSBMb29wIHVwZ3JhZGUgbWVuZ2d1bmFrYW4gSGVhcnRiZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBoZWFydGJlYXRDb25uID0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSdW5TZXJ2aWNlLkhlYXJ0YmVhdDpDb25uZWN0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdXBncmFkZUVuYWJsZWQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyZm9ybVVwZ3JhZGUoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLmluc2VydChjb25uZWN0aW9ucywgaGVhcnRiZWF0Q29ubikKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLS0gRGlzY29ubmVjdCBzZW11YQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIF8sIGNvbm4gaW4gaXBhaXJzKGNvbm5lY3Rpb25zKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBjYWxsKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uOkRpc2Nvbm5lY3QoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zID0ge30KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYm91bmNlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICApCgogICAgICAgICAgICAgICAgLS0gQ2xlYW51cAogICAgICAgICAgICAgICAgZnJhbWUuRGVzdHJveWluZzpDb25uZWN0KAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgdXBncmFkZUVuYWJsZWQgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgY29ubiBpbiBpcGFpcnMoY29ubmVjdGlvbnMpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm46RGlzY29ubmVjdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9ucyA9IHt9CiAgICAgICAgICAgICAgICAgICAgICAgIGRlYm91bmNlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAtLSBQYW5nZ2lsIHRvbWJvbAogICAgICAgICAgICBDcmVhdGVBdXRvVXBncmFkZVNwZWVkVG9nZ2xlKDIxKQoKICAgICAgICAgICAgLS0gRElCQVdBSCBJTkkgVE9NQk9MICYgRlVOR1NJIChBVVRPIFVQR1JBREUgQlJBSU5ST1QpCiAgICAgICAgICAgIGZ1bmN0aW9uIENyZWF0ZUF1dG9VcGdyYWRlVG9nZ2xlKGxheW91dE9yZGVyKQogICAgICAgICAgICAgICAgbG9jYWwgY29udGFpbmVyID0gZ2V0Z2VudigpLkZseWNlclJlZnMgYW5kIGdldGdlbnYoKS5GbHljZXJSZWZzLkJ1dHRvbkNvbnRhaW5lcgogICAgICAgICAgICAgICAgaWYgbm90IGNvbnRhaW5lciB0aGVuCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICBsb2NhbCB1cGdyYWRlRW5hYmxlZCA9IGZhbHNlCgogICAgICAgICAgICAgICAgLS0gUmVtb3RlCiAgICAgICAgICAgICAgICBsb2NhbCBSZW1vdGVGdW5jdGlvbiA9CiAgICAgICAgICAgICAgICAgICAgUmVwbGljYXRlZFN0b3JhZ2U6V2FpdEZvckNoaWxkKCJQYWNrYWdlcyIpOldhaXRGb3JDaGlsZCgiTmV0Iik6V2FpdEZvckNoaWxkKCJSRi9QbG90LlBsb3RBY3Rpb24iKQoKICAgICAgICAgICAgICAgIC0tIENvbmZpZwogICAgICAgICAgICAgICAgbG9jYWwgTUFYX1NMT1RTID0gMzAKICAgICAgICAgICAgICAgIGxvY2FsIFVQR1JBREVfSU5URVJWQUwgPSAxCgogICAgICAgICAgICAgICAgLS0gVUkgQ09ORklHCiAgICAgICAgICAgICAgICBsb2NhbCBEZXNjcmlwdGlvbnMgPSB7CiAgICAgICAgICAgICAgICAgICAgIkVuYWJsZSB0aGlzIGZlYXR1cmUgb25seSBpbiB5b3VyIG93biBiYXNlIGFyZWEgaWYgeW91LCIsCiAgICAgICAgICAgICAgICAgICAgIkFyZSBvdXQgb2YgcmFuZ2Ugb2YgdGhlIGJhc2UsIHRoaXMgZmVhdHVyZSB3aWxsIG5vdCB3b3JrLiIKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBsb2NhbCBERVNDX0NPTkZJRyA9IHsKICAgICAgICAgICAgICAgICAgICBUZXh0U2l6ZSA9IDExLAogICAgICAgICAgICAgICAgICAgIFRleHRDb2xvciA9IENvbG9yMy5mcm9tUkdCKDIwMCwgMjAwLCAyMDApLAogICAgICAgICAgICAgICAgICAgIExpbmVIZWlnaHQgPSA5LAogICAgICAgICAgICAgICAgICAgIFRvcFBhZGRpbmcgPSAxCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgbG9jYWwgU0VQQVJBVE9SX0NPTkZJRyA9IHsKICAgICAgICAgICAgICAgICAgICBIZWlnaHQgPSAyLAogICAgICAgICAgICAgICAgICAgIFRvcE1hcmdpbiA9IDMwLAogICAgICAgICAgICAgICAgICAgIEJvdHRvbU1hcmdpbiA9IDIKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBsb2NhbCBiYXNlSGVpZ2h0ID0gNDAKICAgICAgICAgICAgICAgIGxvY2FsIGRlc2NIZWlnaHQgPSAjRGVzY3JpcHRpb25zICogREVTQ19DT05GSUcuTGluZUhlaWdodCArIERFU0NfQ09ORklHLlRvcFBhZGRpbmcKICAgICAgICAgICAgICAgIGxvY2FsIHRvdGFsSGVpZ2h0ID0gYmFzZUhlaWdodCArIGRlc2NIZWlnaHQKICAgICAgICAgICAgICAgIGxvY2FsIGRlc2NTdGFydFkgPSBTRVBBUkFUT1JfQ09ORklHLlRvcE1hcmdpbiArIFNFUEFSQVRPUl9DT05GSUcuSGVpZ2h0ICsgU0VQQVJBVE9SX0NPTkZJRy5Cb3R0b21NYXJnaW4KCiAgICAgICAgICAgICAgICAtLSBVSQogICAgICAgICAgICAgICAgbG9jYWwgZnJhbWUgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKICAgICAgICAgICAgICAgIGZyYW1lLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGZyYW1lLlNpemUgPSBVRGltMi5uZXcoMSwgLTUsIDAsIHRvdGFsSGVpZ2h0KQogICAgICAgICAgICAgICAgZnJhbWUuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAuMwogICAgICAgICAgICAgICAgZnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCiAgICAgICAgICAgICAgICBmcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAwCiAgICAgICAgICAgICAgICBmcmFtZS5MYXlvdXRPcmRlciA9IGxheW91dE9yZGVyIG9yIDYKICAgICAgICAgICAgICAgIGZyYW1lLlBhcmVudCA9IGNvbnRhaW5lcgoKICAgICAgICAgICAgICAgIGxvY2FsIGZyYW1lQ29ybmVyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIpCiAgICAgICAgICAgICAgICBmcmFtZUNvcm5lci5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBmcmFtZUNvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCA2KQogICAgICAgICAgICAgICAgZnJhbWVDb3JuZXIuUGFyZW50ID0gZnJhbWUKCiAgICAgICAgICAgICAgICBsb2NhbCBmcmFtZVN0cm9rZSA9IEluc3RhbmNlLm5ldygiVUlTdHJva2UiKQogICAgICAgICAgICAgICAgZnJhbWVTdHJva2UuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgZnJhbWVTdHJva2UuVGhpY2tuZXNzID0gMQogICAgICAgICAgICAgICAgZnJhbWVTdHJva2UuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigxODAsIDIwMCwgMjIwKQogICAgICAgICAgICAgICAgZnJhbWVTdHJva2UuQXBwbHlTdHJva2VNb2RlID0gRW51bS5BcHBseVN0cm9rZU1vZGUuQm9yZGVyCiAgICAgICAgICAgICAgICBmcmFtZVN0cm9rZS5UcmFuc3BhcmVuY3kgPSAwLjQKICAgICAgICAgICAgICAgIGZyYW1lU3Ryb2tlLlBhcmVudCA9IGZyYW1lCgogICAgICAgICAgICAgICAgbG9jYWwgZ3JhZGllbnQgPSBJbnN0YW5jZS5uZXcoIlVJR3JhZGllbnQiKQogICAgICAgICAgICAgICAgZ3JhZGllbnQuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgZ3JhZGllbnQuUm90YXRpb24gPSAxODAKICAgICAgICAgICAgICAgIGdyYWRpZW50LkNvbG9yID0KICAgICAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlLm5ldygKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgQ29sb3IzLmZyb21SR0IoMTIwLCA4MCwgMjAwKSksCiAgICAgICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMSwgQ29sb3IzLmZyb21SR0IoNzAsIDQwLCAxNDApKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGdyYWRpZW50LlBhcmVudCA9IGZyYW1lCgogICAgICAgICAgICAgICAgbG9jYWwgbGFiZWwgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCiAgICAgICAgICAgICAgICBsYWJlbC5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBsYWJlbC5QYXJlbnQgPSBmcmFtZQogICAgICAgICAgICAgICAgbGFiZWwuU2l6ZSA9IFVEaW0yLm5ldygwLjYsIDAsIDAsIDIwKQogICAgICAgICAgICAgICAgbGFiZWwuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMTAsIDAsIDUpCiAgICAgICAgICAgICAgICBsYWJlbC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgbGFiZWwuVGV4dCA9ICJBdXRvIFVwZ3JhZGUgQnJhaW5yb3QiCiAgICAgICAgICAgICAgICBsYWJlbC5Gb250ID0gRW51bS5Gb250LkdvdGhhbUJvbGQKICAgICAgICAgICAgICAgIGxhYmVsLlRleHRTaXplID0gMTEKICAgICAgICAgICAgICAgIGxhYmVsLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEsIDEsIDEpCiAgICAgICAgICAgICAgICBsYWJlbC5UZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuTGVmdAoKICAgICAgICAgICAgICAgIGxvY2FsIHNlcGFyYXRvckxpbmUgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKICAgICAgICAgICAgICAgIHNlcGFyYXRvckxpbmUuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgc2VwYXJhdG9yTGluZS5TaXplID0gVURpbTIubmV3KDEsIC0xMCwgMCwgU0VQQVJBVE9SX0NPTkZJRy5IZWlnaHQpCiAgICAgICAgICAgICAgICBzZXBhcmF0b3JMaW5lLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDUsIDAsIFNFUEFSQVRPUl9DT05GSUcuVG9wTWFyZ2luKQogICAgICAgICAgICAgICAgc2VwYXJhdG9yTGluZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKICAgICAgICAgICAgICAgIHNlcGFyYXRvckxpbmUuQm9yZGVyU2l6ZVBpeGVsID0gMAogICAgICAgICAgICAgICAgc2VwYXJhdG9yTGluZS5aSW5kZXggPSAxMAogICAgICAgICAgICAgICAgc2VwYXJhdG9yTGluZS5QYXJlbnQgPSBmcmFtZQoKICAgICAgICAgICAgICAgIGxvY2FsIHNlcGFyYXRvckdyYWRpZW50ID0gSW5zdGFuY2UubmV3KCJVSUdyYWRpZW50IikKICAgICAgICAgICAgICAgIHNlcGFyYXRvckdyYWRpZW50Lk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIHNlcGFyYXRvckdyYWRpZW50LlJvdGF0aW9uID0gMAogICAgICAgICAgICAgICAgc2VwYXJhdG9yR3JhZGllbnQuQ29sb3IgPQogICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2UubmV3KAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLjAwLCBDb2xvcjMuZnJvbVJHQig4MCwgMTYwLCAyNTUpKSwKICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLjQ1LCBDb2xvcjMuZnJvbVJHQigxODAsIDgwLCAyNTUpKSwKICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLjUwLCBDb2xvcjMuZnJvbVJHQigyMDAsIDcwLCAyNTUpKSwKICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLjU1LCBDb2xvcjMuZnJvbVJHQigxODAsIDgwLCAyNTUpKSwKICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLjAwLCBDb2xvcjMuZnJvbVJHQig4MCwgMTYwLCAyNTUpKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIHNlcGFyYXRvckdyYWRpZW50LlRyYW5zcGFyZW5jeSA9CiAgICAgICAgICAgICAgICAgICAgTnVtYmVyU2VxdWVuY2UubmV3KAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyU2VxdWVuY2VLZXlwb2ludC5uZXcoMC4wMCwgMSksCiAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclNlcXVlbmNlS2V5cG9pbnQubmV3KDAuMjUsIDAuMiksCiAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclNlcXVlbmNlS2V5cG9pbnQubmV3KDAuNDUsIDApLAogICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJTZXF1ZW5jZUtleXBvaW50Lm5ldygwLjU1LCAwKSwKICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyU2VxdWVuY2VLZXlwb2ludC5uZXcoMC43NSwgMC4yKSwKICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyU2VxdWVuY2VLZXlwb2ludC5uZXcoMS4wMCwgMSkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBzZXBhcmF0b3JHcmFkaWVudC5QYXJlbnQgPSBzZXBhcmF0b3JMaW5lCgogICAgICAgICAgICAgICAgZm9yIGksIGRlc2NUZXh0IGluIGlwYWlycyhEZXNjcmlwdGlvbnMpIGRvCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgZGVzY0xhYmVsID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQogICAgICAgICAgICAgICAgICAgIGRlc2NMYWJlbC5OYW1lID0gcmFuZG9tTmFtZSgpIC4uICJfRGVzYyIgLi4gaQogICAgICAgICAgICAgICAgICAgIGRlc2NMYWJlbC5QYXJlbnQgPSBmcmFtZQogICAgICAgICAgICAgICAgICAgIGRlc2NMYWJlbC5TaXplID0gVURpbTIubmV3KDAuOTUsIDAsIDAsIERFU0NfQ09ORklHLkxpbmVIZWlnaHQpCiAgICAgICAgICAgICAgICAgICAgZGVzY0xhYmVsLlBvc2l0aW9uID0KICAgICAgICAgICAgICAgICAgICAgICAgVURpbTIubmV3KDAsIDEwLCAwLCBkZXNjU3RhcnRZICsgREVTQ19DT05GSUcuVG9wUGFkZGluZyArICgoaSAtIDEpICogREVTQ19DT05GSUcuTGluZUhlaWdodCkpCiAgICAgICAgICAgICAgICAgICAgZGVzY0xhYmVsLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgZGVzY0xhYmVsLlRleHQgPSBkZXNjVGV4dAogICAgICAgICAgICAgICAgICAgIGRlc2NMYWJlbC5Gb250ID0gRW51bS5Gb250LlNvdXJjZVNhbnMKICAgICAgICAgICAgICAgICAgICBkZXNjTGFiZWwuVGV4dFNpemUgPSBERVNDX0NPTkZJRy5UZXh0U2l6ZQogICAgICAgICAgICAgICAgICAgIGRlc2NMYWJlbC5UZXh0Q29sb3IzID0gREVTQ19DT05GSUcuVGV4dENvbG9yCiAgICAgICAgICAgICAgICAgICAgZGVzY0xhYmVsLlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0CiAgICAgICAgICAgICAgICAgICAgZGVzY0xhYmVsLlRleHRXcmFwcGVkID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIGRlc2NMYWJlbC5UZXh0VHJhbnNwYXJlbmN5ID0gMC4yCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICBsb2NhbCBCdXR0b25CRyA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQogICAgICAgICAgICAgICAgQnV0dG9uQkcuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgQnV0dG9uQkcuUGFyZW50ID0gZnJhbWUKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLlNpemUgPSBVRGltMi5uZXcoMC4zLCAtMTAsIDAsIDI0KQogICAgICAgICAgICAgICAgQnV0dG9uQkcuUG9zaXRpb24gPSBVRGltMi5uZXcoMC43MywgMCwgMCwgMykKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigzNSwgMzUsIDYwKQogICAgICAgICAgICAgICAgQnV0dG9uQkcuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAuMQoKICAgICAgICAgICAgICAgIGxvY2FsIGJ1dHRvbkNvcm5lciA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiKQogICAgICAgICAgICAgICAgYnV0dG9uQ29ybmVyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGJ1dHRvbkNvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCA2KQogICAgICAgICAgICAgICAgYnV0dG9uQ29ybmVyLlBhcmVudCA9IEJ1dHRvbkJHCgogICAgICAgICAgICAgICAgbG9jYWwgYnV0dG9uU3Ryb2tlID0gSW5zdGFuY2UubmV3KCJVSVN0cm9rZSIpCiAgICAgICAgICAgICAgICBidXR0b25TdHJva2UuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgYnV0dG9uU3Ryb2tlLlRoaWNrbmVzcyA9IDEKICAgICAgICAgICAgICAgIGJ1dHRvblN0cm9rZS5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDEwMCwgMTIwLCAxNTApCiAgICAgICAgICAgICAgICBidXR0b25TdHJva2UuVHJhbnNwYXJlbmN5ID0gMC41CiAgICAgICAgICAgICAgICBidXR0b25TdHJva2UuQXBwbHlTdHJva2VNb2RlID0gRW51bS5BcHBseVN0cm9rZU1vZGUuQm9yZGVyCiAgICAgICAgICAgICAgICBidXR0b25TdHJva2UuUGFyZW50ID0gQnV0dG9uQkcKCiAgICAgICAgICAgICAgICBsb2NhbCB0b2dnbGVCdXR0b24gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5QYXJlbnQgPSBCdXR0b25CRwogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHQgPSAiT0ZGIgogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLkZvbnQgPSBFbnVtLkZvbnQuRnJlZG9rYU9uZQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHRTaXplID0gMTEKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxLCAxLCAxKQoKICAgICAgICAgICAgICAgIC0tIE1VTFRJLU1FVEhPRCBCQVNFIEZPTERFUiBERVRFQ1RJT04KICAgICAgICAgICAgICAgIGxvY2FsIGZ1bmN0aW9uIGZpbmRCYXNlc0ZvbGRlcigpCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgcG9zc2libGVOYW1lcyA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgIkJhc2VzX05FVyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJCYXNlcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJQbG90cyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJQbGF5ZXJCYXNlcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJCYXNlc05ldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJiYXNlc19uZXciLAogICAgICAgICAgICAgICAgICAgICAgICAiYmFzZXMiCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBmb3IgXywgbmFtZSBpbiBpcGFpcnMocG9zc2libGVOYW1lcykgZG8KICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgZm9sZGVyID0gd29ya3NwYWNlOkZpbmRGaXJzdENoaWxkKG5hbWUpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGZvbGRlciB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm9sZGVyCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICBmb3IgXywgY2hpbGQgaW4gcGFpcnMod29ya3NwYWNlOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNoaWxkOklzQSgiRm9sZGVyIikgb3IgY2hpbGQ6SXNBKCJNb2RlbCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCBzdWJDaGlsZCBpbiBwYWlycyhjaGlsZDpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHN1YkNoaWxkLk5hbWU6bWF0Y2goInsleCstJXgrLSV4Ky0leCstJXgrfSIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgIGZvciBfLCBjaGlsZCBpbiBwYWlycyh3b3Jrc3BhY2U6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgaWYgY2hpbGQ6SXNBKCJGb2xkZXIiKSBvciBjaGlsZDpJc0EoIk1vZGVsIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHN1YkNoaWxkIGluIHBhaXJzKGNoaWxkOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgaG9sZGVyID0gc3ViQ2hpbGQ6R2V0QXR0cmlidXRlKCJIb2xkZXIiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGhvbGRlciB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmlsCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAtLSBGdW5nc2kgRGV0ZWtzaSBCYXNlIFBsYXllcgogICAgICAgICAgICAgICAgbG9jYWwgZnVuY3Rpb24gZmluZFBsYXllckJhc2UoKQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGJhc2VzRm9sZGVyID0gZmluZEJhc2VzRm9sZGVyKCkKCiAgICAgICAgICAgICAgICAgICAgaWYgbm90IGJhc2VzRm9sZGVyIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5pbAogICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICBmb3IgXywgYmFzZSBpbiBwYWlycyhiYXNlc0ZvbGRlcjpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBob2xkZXIgPSBiYXNlOkdldEF0dHJpYnV0ZSgiSG9sZGVyIikKICAgICAgICAgICAgICAgICAgICAgICAgaWYgaG9sZGVyIGFuZCBob2xkZXIgPT0gTG9jYWxQbGF5ZXIuVXNlcklkIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBiYXNlLk5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgIGZvciBfLCBiYXNlIGluIHBhaXJzKGJhc2VzRm9sZGVyOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHBsb3RPd25lciA9IGJhc2U6R2V0QXR0cmlidXRlKCJQbG90T3duZXIiKQogICAgICAgICAgICAgICAgICAgICAgICBpZiBwbG90T3duZXIgYW5kIHBsb3RPd25lciA9PSBMb2NhbFBsYXllci5Vc2VySWQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJhc2UuTmFtZQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgZm9yIF8sIGJhc2UgaW4gcGFpcnMoYmFzZXNGb2xkZXI6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgb3duZXIgPSBiYXNlOkdldEF0dHJpYnV0ZSgiT3duZXIiKQogICAgICAgICAgICAgICAgICAgICAgICBpZiBvd25lciBhbmQgb3duZXIgPT0gTG9jYWxQbGF5ZXIuVXNlcklkIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBiYXNlLk5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgIGZvciBfLCBiYXNlIGluIHBhaXJzKGJhc2VzRm9sZGVyOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCBjaGlsZCBpbiBwYWlycyhiYXNlOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBjaGlsZDpJc0EoIk9iamVjdFZhbHVlIikgYW5kIGNoaWxkLk5hbWUgPT0gIk93bmVyIiBhbmQgY2hpbGQuVmFsdWUgPT0gTG9jYWxQbGF5ZXIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBiYXNlLk5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiBjaGlsZDpJc0EoIkludFZhbHVlIikgYW5kIGNoaWxkLk5hbWUgPT0gIk93bmVyIiBhbmQgY2hpbGQuVmFsdWUgPT0gTG9jYWxQbGF5ZXIuVXNlcklkIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmFzZS5OYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZDpJc0EoIlN0cmluZ1ZhbHVlIikgYW5kIGNoaWxkLk5hbWUgPT0gIk93bmVyIiBhbmQgY2hpbGQuVmFsdWUgPT0gTG9jYWxQbGF5ZXIuTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmFzZS5OYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgIHJldHVybiBuaWwKICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIC0tIEZ1bmdzaSBVcGdyYWRlIEJyYWlucm90CiAgICAgICAgICAgICAgICBsb2NhbCBmdW5jdGlvbiB1cGdyYWRlQnJhaW5yb3QoYmFzZUlkLCBzbG90KQogICAgICAgICAgICAgICAgICAgIHRhc2suc3Bhd24oCiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBjYWxsKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVtb3RlRnVuY3Rpb246SW52b2tlU2VydmVyKCJVcGdyYWRlIEJyYWlucm90IiwgYmFzZUlkLCB0b3N0cmluZyhzbG90KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgLS0gTG9vcCBVcGdyYWRlIChTRU1VQSBTTE9UIEJFUlNBTUFBTikKICAgICAgICAgICAgICAgIGxvY2FsIGZ1bmN0aW9uIHVwZ3JhZGVMb29wKCkKICAgICAgICAgICAgICAgICAgICB3aGlsZSB1cGdyYWRlRW5hYmxlZCBkbwogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBiYXNlSWQgPSBmaW5kUGxheWVyQmFzZSgpCgogICAgICAgICAgICAgICAgICAgICAgICBpZiBiYXNlSWQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgLS0gU3Bhd24gc2VtdWEgdXBncmFkZSB0YXNrcyBCRVJTQU1BQU4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBzbG90ID0gMSwgTUFYX1NMT1RTIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbm90IHVwZ3JhZGVFbmFibGVkIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGdyYWRlQnJhaW5yb3QoYmFzZUlkLCBzbG90KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICAgICAgLS0gVHVuZ2d1IGludGVydmFsIHNlYmVsdW0gY3ljbGUgYmVyaWt1dG55YQogICAgICAgICAgICAgICAgICAgICAgICBpZiB1cGdyYWRlRW5hYmxlZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoVVBHUkFERV9JTlRFUlZBTCkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAtLSBUb2dnbGUgSGFuZGxlcgogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICB1cGdyYWRlRW5hYmxlZCA9IG5vdCB1cGdyYWRlRW5hYmxlZAogICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24uVGV4dCA9IHVwZ3JhZGVFbmFibGVkIGFuZCAiT04iIG9yICJPRkYiCgogICAgICAgICAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUd2VlblNlcnZpY2U6Q3JlYXRlKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCdXR0b25CRywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHdlZW5JbmZvLm5ldygwLjQwKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQmFja2dyb3VuZENvbG9yMyA9IHVwZ3JhZGVFbmFibGVkIGFuZCBDb2xvcjMuZnJvbVJHQig3MCwgMjAwLCA5MCkgb3IKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb2xvcjMuZnJvbVJHQigzNSwgMzUsIDYwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTpQbGF5KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICApCgogICAgICAgICAgICAgICAgICAgICAgICBpZiB1cGdyYWRlRW5hYmxlZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLnNwYXduKHVwZ3JhZGVMb29wKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICAtLSBDbGVhbnVwCiAgICAgICAgICAgICAgICBmcmFtZS5EZXN0cm95aW5nOkNvbm5lY3QoCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICB1cGdyYWRlRW5hYmxlZCA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgLS0gUGFuZ2dpbCB0b21ib2wKICAgICAgICAgICAgQ3JlYXRlQXV0b1VwZ3JhZGVUb2dnbGUoMjIpCgogICAgICAgICAgICAtLSBESUJBV0FIIElOSSBUT01CT0wgJiBGVU5HU0kgKEFVVE8gUkVCSVJUSCkKICAgICAgICAgICAgLS0gQVVUTyBSRUJJUlRIIENPTkZJRwogICAgICAgICAgICBsb2NhbCBBdXRvUmViaXJ0aENvbmZpZyA9IHsKICAgICAgICAgICAgICAgIFJlYmlydGhJbnRlcnZhbCA9IDIsCiAgICAgICAgICAgICAgICBFbmFibGVFcnJvckhhbmRsaW5nID0gdHJ1ZSwKICAgICAgICAgICAgICAgIE1heFJldHJpZXMgPSAzLAogICAgICAgICAgICAgICAgUmV0cnlEZWxheSA9IDAuNQogICAgICAgICAgICB9CgogICAgICAgICAgICAtLSBNQUlOIEZVTkNUSU9OCiAgICAgICAgICAgIGZ1bmN0aW9uIENyZWF0ZUF1dG9SZWJpcnRoVG9nZ2xlKGxheW91dE9yZGVyKQogICAgICAgICAgICAgICAgbG9jYWwgY29udGFpbmVyID0gZ2V0Z2VudigpLkZseWNlclJlZnMgYW5kIGdldGdlbnYoKS5GbHljZXJSZWZzLkJ1dHRvbkNvbnRhaW5lcgogICAgICAgICAgICAgICAgaWYgbm90IGNvbnRhaW5lciB0aGVuCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAtLSBTdGF0ZQogICAgICAgICAgICAgICAgbG9jYWwgYXV0b1JlYmlydGhFbmFibGVkID0gZmFsc2UKICAgICAgICAgICAgICAgIGxvY2FsIGNvbm5lY3Rpb25zID0ge30KICAgICAgICAgICAgICAgIGxvY2FsIGRlYm91bmNlID0gZmFsc2UKICAgICAgICAgICAgICAgIGxvY2FsIGxhc3RSZWJpcnRoVGltZSA9IDAKCiAgICAgICAgICAgICAgICAtLSBVSQogICAgICAgICAgICAgICAgbG9jYWwgZnJhbWUgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKICAgICAgICAgICAgICAgIGZyYW1lLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGZyYW1lLlNpemUgPSBVRGltMi5uZXcoMSwgLTUsIDAsIDMwKQogICAgICAgICAgICAgICAgZnJhbWUuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAuMwogICAgICAgICAgICAgICAgZnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCiAgICAgICAgICAgICAgICBmcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAwCiAgICAgICAgICAgICAgICBmcmFtZS5MYXlvdXRPcmRlciA9IGxheW91dE9yZGVyIG9yIDk5CiAgICAgICAgICAgICAgICBmcmFtZS5QYXJlbnQgPSBjb250YWluZXIKCiAgICAgICAgICAgICAgICBsb2NhbCBjb3JuZXIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIikKICAgICAgICAgICAgICAgIGNvcm5lci5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBjb3JuZXIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwgNikKICAgICAgICAgICAgICAgIGNvcm5lci5QYXJlbnQgPSBmcmFtZQoKICAgICAgICAgICAgICAgIGxvY2FsIHN0cm9rZSA9IEluc3RhbmNlLm5ldygiVUlTdHJva2UiKQogICAgICAgICAgICAgICAgc3Ryb2tlLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIHN0cm9rZS5UaGlja25lc3MgPSAxCiAgICAgICAgICAgICAgICBzdHJva2UuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigxODAsIDIwMCwgMjIwKQogICAgICAgICAgICAgICAgc3Ryb2tlLkFwcGx5U3Ryb2tlTW9kZSA9IEVudW0uQXBwbHlTdHJva2VNb2RlLkJvcmRlcgogICAgICAgICAgICAgICAgc3Ryb2tlLlRyYW5zcGFyZW5jeSA9IDAuNAogICAgICAgICAgICAgICAgc3Ryb2tlLlBhcmVudCA9IGZyYW1lCgogICAgICAgICAgICAgICAgbG9jYWwgZ3JhZGllbnQgPSBJbnN0YW5jZS5uZXcoIlVJR3JhZGllbnQiKQogICAgICAgICAgICAgICAgZ3JhZGllbnQuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgZ3JhZGllbnQuUm90YXRpb24gPSAxODAKICAgICAgICAgICAgICAgIGdyYWRpZW50LkNvbG9yID0KICAgICAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlLm5ldygKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgQ29sb3IzLmZyb21SR0IoMTIwLCA4MCwgMjAwKSksCiAgICAgICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMSwgQ29sb3IzLmZyb21SR0IoNzAsIDQwLCAxNDApKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGdyYWRpZW50LlBhcmVudCA9IGZyYW1lCgogICAgICAgICAgICAgICAgbG9jYWwgbGFiZWwgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCiAgICAgICAgICAgICAgICBsYWJlbC5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBsYWJlbC5QYXJlbnQgPSBmcmFtZQogICAgICAgICAgICAgICAgbGFiZWwuU2l6ZSA9IFVEaW0yLm5ldygwLjYsIDAsIDEsIDApCiAgICAgICAgICAgICAgICBsYWJlbC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAxMCwgMCwgMCkKICAgICAgICAgICAgICAgIGxhYmVsLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICBsYWJlbC5UZXh0ID0gIkF1dG8gUmViaXJ0aCIKICAgICAgICAgICAgICAgIGxhYmVsLkZvbnQgPSBFbnVtLkZvbnQuR290aGFtQm9sZAogICAgICAgICAgICAgICAgbGFiZWwuVGV4dFNpemUgPSAxMQogICAgICAgICAgICAgICAgbGFiZWwuVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMSwgMSwgMSkKICAgICAgICAgICAgICAgIGxhYmVsLlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0CgogICAgICAgICAgICAgICAgbG9jYWwgQnV0dG9uQkcgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLlBhcmVudCA9IGZyYW1lCiAgICAgICAgICAgICAgICBCdXR0b25CRy5TaXplID0gVURpbTIubmV3KDAuMywgLTEwLCAwLjgsIDApCiAgICAgICAgICAgICAgICBCdXR0b25CRy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjczLCAwLCAwLjEsIDApCiAgICAgICAgICAgICAgICBCdXR0b25CRy5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMzUsIDM1LCA2MCkKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjEKCiAgICAgICAgICAgICAgICBsb2NhbCBjb3JuZXIyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIpCiAgICAgICAgICAgICAgICBjb3JuZXIyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGNvcm5lcjIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwgNikKICAgICAgICAgICAgICAgIGNvcm5lcjIuUGFyZW50ID0gQnV0dG9uQkcKCiAgICAgICAgICAgICAgICBsb2NhbCBzdHJva2UyID0gSW5zdGFuY2UubmV3KCJVSVN0cm9rZSIpCiAgICAgICAgICAgICAgICBzdHJva2UyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIHN0cm9rZTIuVGhpY2tuZXNzID0gMQogICAgICAgICAgICAgICAgc3Ryb2tlMi5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDEwMCwgMTIwLCAxNTApCiAgICAgICAgICAgICAgICBzdHJva2UyLlRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgc3Ryb2tlMi5BcHBseVN0cm9rZU1vZGUgPSBFbnVtLkFwcGx5U3Ryb2tlTW9kZS5Cb3JkZXIKICAgICAgICAgICAgICAgIHN0cm9rZTIuUGFyZW50ID0gQnV0dG9uQkcKCiAgICAgICAgICAgICAgICBsb2NhbCB0b2dnbGVCdXR0b24gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5QYXJlbnQgPSBCdXR0b25CRwogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHQgPSAiT0ZGIgogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLkZvbnQgPSBFbnVtLkZvbnQuRnJlZG9rYU9uZQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHRTaXplID0gMTEKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxLCAxLCAxKQoKICAgICAgICAgICAgICAgIC0tIEhFTFBFUiBGVU5DVElPTlMKICAgICAgICAgICAgICAgIGxvY2FsIGZ1bmN0aW9uIGdldFJlYmlydGhSZW1vdGUoKQogICAgICAgICAgICAgICAgICAgIGxvY2FsIHN1Y2Nlc3MsIHJlc3VsdCA9CiAgICAgICAgICAgICAgICAgICAgICAgIHBjYWxsKAogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCByZW1vdGVGdW5jdGlvbnMgPSBSZXBsaWNhdGVkU3RvcmFnZTpGaW5kRmlyc3RDaGlsZCgiUmVtb3RlRnVuY3Rpb25zIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCByZW1vdGVGdW5jdGlvbnMgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuaWwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHJlYmlydGhSZW1vdGUgPSByZW1vdGVGdW5jdGlvbnM6RmluZEZpcnN0Q2hpbGQoIlJlYmlydGgiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgcmViaXJ0aFJlbW90ZSBhbmQgcmViaXJ0aFJlbW90ZTpJc0EoIlJlbW90ZUZ1bmN0aW9uIikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWJpcnRoUmVtb3RlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmlsCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICAgICAgaWYgc3VjY2VzcyB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmlsCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAtLSBDT1JFIEZVTkNUSU9OCiAgICAgICAgICAgICAgICBsb2NhbCBmdW5jdGlvbiBwZXJmb3JtUmViaXJ0aCgpCiAgICAgICAgICAgICAgICAgICAgaWYgZGVib3VuY2Ugb3Igbm90IGF1dG9SZWJpcnRoRW5hYmxlZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICBsb2NhbCBjdXJyZW50VGltZSA9IHRpY2soKQoKICAgICAgICAgICAgICAgICAgICBpZiBjdXJyZW50VGltZSAtIGxhc3RSZWJpcnRoVGltZSA8IEF1dG9SZWJpcnRoQ29uZmlnLlJlYmlydGhJbnRlcnZhbCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICBkZWJvdW5jZSA9IHRydWUKCiAgICAgICAgICAgICAgICAgICAgdGFzay5zcGF3bigKICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgcmVtb3RlID0gZ2V0UmViaXJ0aFJlbW90ZSgpCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbm90IHJlbW90ZSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVib3VuY2UgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgYXR0ZW1wdHMgPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBtYXhBdHRlbXB0cyA9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0b1JlYmlydGhDb25maWcuRW5hYmxlRXJyb3JIYW5kbGluZyBhbmQgQXV0b1JlYmlydGhDb25maWcuTWF4UmV0cmllcyBvciAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBzdWNjZXNzID0gZmFsc2UKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSBhdHRlbXB0cyA8IG1heEF0dGVtcHRzIGFuZCBub3Qgc3VjY2VzcyBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dGVtcHRzID0gYXR0ZW1wdHMgKyAxCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIGludm9rZVN1Y2Nlc3MgPQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlOkludm9rZVNlcnZlcigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgaW52b2tlU3VjY2VzcyB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RSZWJpcnRoVGltZSA9IGN1cnJlbnRUaW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBhdHRlbXB0cyA8IG1heEF0dGVtcHRzIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdChBdXRvUmViaXJ0aENvbmZpZy5SZXRyeURlbGF5KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYm91bmNlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgLS0gVE9HR0xFIEhBTkRMRVIKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5Nb3VzZUJ1dHRvbjFDbGljazpDb25uZWN0KAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgYXV0b1JlYmlydGhFbmFibGVkID0gbm90IGF1dG9SZWJpcnRoRW5hYmxlZAogICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24uVGV4dCA9IGF1dG9SZWJpcnRoRW5hYmxlZCBhbmQgIk9OIiBvciAiT0ZGIgoKICAgICAgICAgICAgICAgICAgICAgICAgcGNhbGwoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHdlZW5TZXJ2aWNlOkNyZWF0ZSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQnV0dG9uQkcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR3ZWVuSW5mby5uZXcoMC40MCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJhY2tncm91bmRDb2xvcjMgPSBhdXRvUmViaXJ0aEVuYWJsZWQgYW5kIENvbG9yMy5mcm9tUkdCKDcwLCAyMDAsIDkwKSBvcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbG9yMy5mcm9tUkdCKDM1LCAzNSwgNjApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApOlBsYXkoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGF1dG9SZWJpcnRoRW5hYmxlZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0UmViaXJ0aFRpbWUgPSAwCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgaGVhcnRiZWF0Q29ubiA9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUnVuU2VydmljZS5IZWFydGJlYXQ6Q29ubmVjdCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGF1dG9SZWJpcnRoRW5hYmxlZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJmb3JtUmViaXJ0aCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUuaW5zZXJ0KGNvbm5lY3Rpb25zLCBoZWFydGJlYXRDb25uKQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgY29ubiBpbiBpcGFpcnMoY29ubmVjdGlvbnMpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGNhbGwoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm46RGlzY29ubmVjdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbnMgPSB7fQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVib3VuY2UgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICAtLSBDTEVBTlVQCiAgICAgICAgICAgICAgICBmcmFtZS5EZXN0cm95aW5nOkNvbm5lY3QoCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICBhdXRvUmViaXJ0aEVuYWJsZWQgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgY29ubiBpbiBpcGFpcnMoY29ubmVjdGlvbnMpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm46RGlzY29ubmVjdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9ucyA9IHt9CiAgICAgICAgICAgICAgICAgICAgICAgIGRlYm91bmNlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgZW5kCgogICAgICAgICAgICBDcmVhdGVBdXRvUmViaXJ0aFRvZ2dsZSgyMykKCiAgICAgICAgICAgIC0tIERJQkFXQUggSU5JIFRPTUJPTCAmIEZVTkdTSSAoTUVOVSBFU1ApCiAgICAgICAgICAgIGZ1bmN0aW9uIENyZWF0ZUJyYWlucm90RVNQVG9nZ2xlKGxheW91dE9yZGVyKQogICAgICAgICAgICAgICAgbG9jYWwgY29udGFpbmVyID0gZ2V0Z2VudigpLkZseWNlclJlZnMgYW5kIGdldGdlbnYoKS5GbHljZXJSZWZzLkJ1dHRvbkNvbnRhaW5lcgogICAgICAgICAgICAgICAgaWYgbm90IGNvbnRhaW5lciB0aGVuCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICBsb2NhbCBlc3BFbmFibGVkID0gZmFsc2UKICAgICAgICAgICAgICAgIGxvY2FsIGVzcE9iamVjdHMgPSB7fQogICAgICAgICAgICAgICAgbG9jYWwgc2VsZWN0ZWRSYXJpdGllcyA9IHt9CgogICAgICAgICAgICAgICAgLS0gQ29uZmlnCiAgICAgICAgICAgICAgICBsb2NhbCBFU1BfVEVYVF9TSVpFID0gOQogICAgICAgICAgICAgICAgbG9jYWwgRVNQX0RJU1RBTkNFX1NJWkUgPSA4CiAgICAgICAgICAgICAgICBsb2NhbCBFU1BfTUFYX0RJU1RBTkNFID0gMTAwMAoKICAgICAgICAgICAgICAgIC0tIFJhcml0eSBDb2xvcnMKICAgICAgICAgICAgICAgIGxvY2FsIFJBUklUWV9DT0xPUlMgPSB7CiAgICAgICAgICAgICAgICAgICAgWyJDb21tb24iXSA9IENvbG9yMy5mcm9tUkdCKDE4MCwgMTgwLCAxODApLAogICAgICAgICAgICAgICAgICAgIFsiVW5jb21tb24iXSA9IENvbG9yMy5mcm9tUkdCKDEwMCwgMjU1LCAxMDApLAogICAgICAgICAgICAgICAgICAgIFsiUmFyZSJdID0gQ29sb3IzLmZyb21SR0IoMTAwLCAxNTAsIDI1NSksCiAgICAgICAgICAgICAgICAgICAgWyJFcGljIl0gPSBDb2xvcjMuZnJvbVJHQigyMDAsIDEwMCwgMjU1KSwKICAgICAgICAgICAgICAgICAgICBbIkxlZ2VuZGFyeSJdID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyMDAsIDUwKSwKICAgICAgICAgICAgICAgICAgICBbIk15dGhpY2FsIl0gPSBDb2xvcjMuZnJvbVJHQigyNTUsIDEwMCwgMTUwKSwKICAgICAgICAgICAgICAgICAgICBbIlNlY3JldCJdID0gQ29sb3IzLmZyb21SR0IoNTAsIDI1NSwgMjU1KSwKICAgICAgICAgICAgICAgICAgICBbIkNvc21pYyJdID0gQ29sb3IzLmZyb21SR0IoMTUwLCA1MCwgMjU1KSwKICAgICAgICAgICAgICAgICAgICBbIkNlbGVzdGlhbCJdID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBsb2NhbCBSQVJJVElFUyA9IHsKICAgICAgICAgICAgICAgICAgICAiQ29tbW9uIiwKICAgICAgICAgICAgICAgICAgICAiVW5jb21tb24iLAogICAgICAgICAgICAgICAgICAgICJSYXJlIiwKICAgICAgICAgICAgICAgICAgICAiRXBpYyIsCiAgICAgICAgICAgICAgICAgICAgIkxlZ2VuZGFyeSIsCiAgICAgICAgICAgICAgICAgICAgIk15dGhpY2FsIiwKICAgICAgICAgICAgICAgICAgICAiU2VjcmV0IiwKICAgICAgICAgICAgICAgICAgICAiQ29zbWljIiwKICAgICAgICAgICAgICAgICAgICAiQ2VsZXN0aWFsIgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC0tIE1haW4gRnJhbWUKICAgICAgICAgICAgICAgIGxvY2FsIGZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCiAgICAgICAgICAgICAgICBmcmFtZS5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBmcmFtZS5TaXplID0gVURpbTIubmV3KDEsIC01LCAwLCAxNjApCiAgICAgICAgICAgICAgICBmcmFtZS5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC4zCiAgICAgICAgICAgICAgICBmcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKICAgICAgICAgICAgICAgIGZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDAKICAgICAgICAgICAgICAgIGZyYW1lLkxheW91dE9yZGVyID0gbGF5b3V0T3JkZXIgb3IgMjQKICAgICAgICAgICAgICAgIGZyYW1lLlBhcmVudCA9IGNvbnRhaW5lcgoKICAgICAgICAgICAgICAgIGxvY2FsIGNvcm5lciA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiKQogICAgICAgICAgICAgICAgY29ybmVyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGNvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCA2KQogICAgICAgICAgICAgICAgY29ybmVyLlBhcmVudCA9IGZyYW1lCgogICAgICAgICAgICAgICAgbG9jYWwgc3Ryb2tlID0gSW5zdGFuY2UubmV3KCJVSVN0cm9rZSIpCiAgICAgICAgICAgICAgICBzdHJva2UuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgc3Ryb2tlLlRoaWNrbmVzcyA9IDEKICAgICAgICAgICAgICAgIHN0cm9rZS5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDE4MCwgMjAwLCAyMjApCiAgICAgICAgICAgICAgICBzdHJva2UuQXBwbHlTdHJva2VNb2RlID0gRW51bS5BcHBseVN0cm9rZU1vZGUuQm9yZGVyCiAgICAgICAgICAgICAgICBzdHJva2UuVHJhbnNwYXJlbmN5ID0gMC40CiAgICAgICAgICAgICAgICBzdHJva2UuUGFyZW50ID0gZnJhbWUKCiAgICAgICAgICAgICAgICBsb2NhbCBncmFkaWVudCA9IEluc3RhbmNlLm5ldygiVUlHcmFkaWVudCIpCiAgICAgICAgICAgICAgICBncmFkaWVudC5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBncmFkaWVudC5Sb3RhdGlvbiA9IDE4MAogICAgICAgICAgICAgICAgZ3JhZGllbnQuQ29sb3IgPQogICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2UubmV3KAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLCBDb2xvcjMuZnJvbVJHQigxMjAsIDgwLCAyMDApKSwKICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMuZnJvbVJHQig3MCwgNDAsIDE0MCkpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgZ3JhZGllbnQuUGFyZW50ID0gZnJhbWUKCiAgICAgICAgICAgICAgICBsb2NhbCBsYWJlbCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKICAgICAgICAgICAgICAgIGxhYmVsLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGxhYmVsLlBhcmVudCA9IGZyYW1lCiAgICAgICAgICAgICAgICBsYWJlbC5TaXplID0gVURpbTIubmV3KDAuNiwgMCwgMCwgMzApCiAgICAgICAgICAgICAgICBsYWJlbC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAxMCwgMCwgMCkKICAgICAgICAgICAgICAgIGxhYmVsLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICBsYWJlbC5UZXh0ID0gIlNob3cgQnJhaW5yb3QgUmFyaXR5IgogICAgICAgICAgICAgICAgbGFiZWwuRm9udCA9IEVudW0uRm9udC5Hb3RoYW1Cb2xkCiAgICAgICAgICAgICAgICBsYWJlbC5UZXh0U2l6ZSA9IDExCiAgICAgICAgICAgICAgICBsYWJlbC5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxLCAxLCAxKQogICAgICAgICAgICAgICAgbGFiZWwuVGV4dFhBbGlnbm1lbnQgPSBFbnVtLlRleHRYQWxpZ25tZW50LkxlZnQKCiAgICAgICAgICAgICAgICAtLSBTY3JvbGwgV3JhcHBlcgogICAgICAgICAgICAgICAgbG9jYWwgc2Nyb2xsV3JhcHBlciA9IEluc3RhbmNlLm5ldygiRnJhbWUiLCBmcmFtZSkKICAgICAgICAgICAgICAgIHNjcm9sbFdyYXBwZXIuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgc2Nyb2xsV3JhcHBlci5TaXplID0gVURpbTIubmV3KDEsIC0xMCwgMCwgMTIwKQogICAgICAgICAgICAgICAgc2Nyb2xsV3JhcHBlci5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCA1LCAwLCAzNSkKICAgICAgICAgICAgICAgIHNjcm9sbFdyYXBwZXIuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgIHNjcm9sbFdyYXBwZXIuQm9yZGVyU2l6ZVBpeGVsID0gMAogICAgICAgICAgICAgICAgc2Nyb2xsV3JhcHBlci5aSW5kZXggPSAyCiAgICAgICAgICAgICAgICBzY3JvbGxXcmFwcGVyLlZpc2libGUgPSB0cnVlCiAgICAgICAgICAgICAgICBzY3JvbGxXcmFwcGVyLkNsaXBzRGVzY2VuZGFudHMgPSB0cnVlCgogICAgICAgICAgICAgICAgbG9jYWwgc2Nyb2xsQ29ybmVyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIpCiAgICAgICAgICAgICAgICBzY3JvbGxDb3JuZXIuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgc2Nyb2xsQ29ybmVyLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAsIDYpCiAgICAgICAgICAgICAgICBzY3JvbGxDb3JuZXIuUGFyZW50ID0gc2Nyb2xsV3JhcHBlcgoKICAgICAgICAgICAgICAgIGxvY2FsIHNjcm9sbFN0cm9rZSA9IEluc3RhbmNlLm5ldygiVUlTdHJva2UiKQogICAgICAgICAgICAgICAgc2Nyb2xsU3Ryb2tlLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIHNjcm9sbFN0cm9rZS5UaGlja25lc3MgPSAxLjMKICAgICAgICAgICAgICAgIHNjcm9sbFN0cm9rZS5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDE4MCwgMjAwLCAyMjApCiAgICAgICAgICAgICAgICBzY3JvbGxTdHJva2UuQXBwbHlTdHJva2VNb2RlID0gRW51bS5BcHBseVN0cm9rZU1vZGUuQm9yZGVyCiAgICAgICAgICAgICAgICBzY3JvbGxTdHJva2UuVHJhbnNwYXJlbmN5ID0gMC42CiAgICAgICAgICAgICAgICBzY3JvbGxTdHJva2UuUGFyZW50ID0gc2Nyb2xsV3JhcHBlcgoKICAgICAgICAgICAgICAgIC0tIFNjcm9sbCBIb2xkZXIKICAgICAgICAgICAgICAgIGxvY2FsIHNjcm9sbEhvbGRlciA9IEluc3RhbmNlLm5ldygiRnJhbWUiLCBzY3JvbGxXcmFwcGVyKQogICAgICAgICAgICAgICAgc2Nyb2xsSG9sZGVyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIHNjcm9sbEhvbGRlci5TaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApCiAgICAgICAgICAgICAgICBzY3JvbGxIb2xkZXIuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkKICAgICAgICAgICAgICAgIHNjcm9sbEhvbGRlci5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMzAsIDMwLCA1MCkKICAgICAgICAgICAgICAgIHNjcm9sbEhvbGRlci5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC4yCiAgICAgICAgICAgICAgICBzY3JvbGxIb2xkZXIuQm9yZGVyU2l6ZVBpeGVsID0gMAogICAgICAgICAgICAgICAgc2Nyb2xsSG9sZGVyLkNsaXBzRGVzY2VuZGFudHMgPSB0cnVlCiAgICAgICAgICAgICAgICBzY3JvbGxIb2xkZXIuWkluZGV4ID0gMgoKICAgICAgICAgICAgICAgIGxvY2FsIGhvbGRlckNvcm5lciA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiKQogICAgICAgICAgICAgICAgaG9sZGVyQ29ybmVyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGhvbGRlckNvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCA2KQogICAgICAgICAgICAgICAgaG9sZGVyQ29ybmVyLlBhcmVudCA9IHNjcm9sbEhvbGRlcgoKICAgICAgICAgICAgICAgIGxvY2FsIGhvbGRlclN0cm9rZSA9IEluc3RhbmNlLm5ldygiVUlTdHJva2UiKQogICAgICAgICAgICAgICAgaG9sZGVyU3Ryb2tlLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGhvbGRlclN0cm9rZS5UaGlja25lc3MgPSAxCiAgICAgICAgICAgICAgICBob2xkZXJTdHJva2UuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigxODAsIDIwMCwgMjIwKQogICAgICAgICAgICAgICAgaG9sZGVyU3Ryb2tlLkFwcGx5U3Ryb2tlTW9kZSA9IEVudW0uQXBwbHlTdHJva2VNb2RlLkJvcmRlcgogICAgICAgICAgICAgICAgaG9sZGVyU3Ryb2tlLlRyYW5zcGFyZW5jeSA9IDAuNgogICAgICAgICAgICAgICAgaG9sZGVyU3Ryb2tlLlBhcmVudCA9IHNjcm9sbEhvbGRlcgoKICAgICAgICAgICAgICAgIC0tIFNjcm9sbCBGcmFtZQogICAgICAgICAgICAgICAgbG9jYWwgc2Nyb2xsID0gSW5zdGFuY2UubmV3KCJTY3JvbGxpbmdGcmFtZSIsIHNjcm9sbEhvbGRlcikKICAgICAgICAgICAgICAgIHNjcm9sbC5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBzY3JvbGwuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAtNCkKICAgICAgICAgICAgICAgIHNjcm9sbC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAzLCAwLCAyKQogICAgICAgICAgICAgICAgc2Nyb2xsLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQogICAgICAgICAgICAgICAgc2Nyb2xsLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICBzY3JvbGwuQm9yZGVyU2l6ZVBpeGVsID0gMAogICAgICAgICAgICAgICAgc2Nyb2xsLkF1dG9tYXRpY0NhbnZhc1NpemUgPSBFbnVtLkF1dG9tYXRpY1NpemUuWQogICAgICAgICAgICAgICAgc2Nyb2xsLkNhbnZhc1NpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkKICAgICAgICAgICAgICAgIHNjcm9sbC5TY3JvbGxCYXJUaGlja25lc3MgPSAwCiAgICAgICAgICAgICAgICBzY3JvbGwuU2Nyb2xsaW5nRGlyZWN0aW9uID0gRW51bS5TY3JvbGxpbmdEaXJlY3Rpb24uWQogICAgICAgICAgICAgICAgc2Nyb2xsLlpJbmRleCA9IDMKICAgICAgICAgICAgICAgIHNjcm9sbC5DbGlwc0Rlc2NlbmRhbnRzID0gdHJ1ZQoKICAgICAgICAgICAgICAgIGxvY2FsIHNjcm9sbElubmVyQ29ybmVyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIpCiAgICAgICAgICAgICAgICBzY3JvbGxJbm5lckNvcm5lci5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBzY3JvbGxJbm5lckNvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCA2KQogICAgICAgICAgICAgICAgc2Nyb2xsSW5uZXJDb3JuZXIuUGFyZW50ID0gc2Nyb2xsCgogICAgICAgICAgICAgICAgbG9jYWwgZ3JpZCA9IEluc3RhbmNlLm5ldygiVUlHcmlkTGF5b3V0Iiwgc2Nyb2xsKQogICAgICAgICAgICAgICAgZ3JpZC5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBncmlkLkNlbGxTaXplID0gVURpbTIubmV3KDAuNDgsIDAsIDAsIDIyKQogICAgICAgICAgICAgICAgZ3JpZC5DZWxsUGFkZGluZyA9IFVEaW0yLm5ldygwLCAyLCAwLCAyKQogICAgICAgICAgICAgICAgZ3JpZC5GaWxsRGlyZWN0aW9uTWF4Q2VsbHMgPSAyCiAgICAgICAgICAgICAgICBncmlkLkZpbGxEaXJlY3Rpb24gPSBFbnVtLkZpbGxEaXJlY3Rpb24uSG9yaXpvbnRhbAogICAgICAgICAgICAgICAgZ3JpZC5Tb3J0T3JkZXIgPSBFbnVtLlNvcnRPcmRlci5MYXlvdXRPcmRlcgoKICAgICAgICAgICAgICAgIC0tIFRvZ2dsZSBCdXR0b24KICAgICAgICAgICAgICAgIGxvY2FsIHRvZ2dsZUJ0biA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIsIGZyYW1lKQogICAgICAgICAgICAgICAgdG9nZ2xlQnRuLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIHRvZ2dsZUJ0bi5TaXplID0gVURpbTIubmV3KDAuMywgLTEwLCAwLCAyNSkKICAgICAgICAgICAgICAgIHRvZ2dsZUJ0bi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjczLCAwLCAwLCAzKQogICAgICAgICAgICAgICAgdG9nZ2xlQnRuLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigzNSwgMzUsIDYwKQogICAgICAgICAgICAgICAgdG9nZ2xlQnRuLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjEKICAgICAgICAgICAgICAgIHRvZ2dsZUJ0bi5UZXh0ID0gIk9GRiIKICAgICAgICAgICAgICAgIHRvZ2dsZUJ0bi5Gb250ID0gRW51bS5Gb250LkZyZWRva2FPbmUKICAgICAgICAgICAgICAgIHRvZ2dsZUJ0bi5UZXh0U2l6ZSA9IDExCiAgICAgICAgICAgICAgICB0b2dnbGVCdG4uVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMSwgMSwgMSkKICAgICAgICAgICAgICAgIHRvZ2dsZUJ0bi5aSW5kZXggPSAyCiAgICAgICAgICAgICAgICB0b2dnbGVCdG4uQXV0b0J1dHRvbkNvbG9yID0gZmFsc2UKCiAgICAgICAgICAgICAgICBsb2NhbCB0b2dnbGVDb3JuZXIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIikKICAgICAgICAgICAgICAgIHRvZ2dsZUNvcm5lci5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICB0b2dnbGVDb3JuZXIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwgNikKICAgICAgICAgICAgICAgIHRvZ2dsZUNvcm5lci5QYXJlbnQgPSB0b2dnbGVCdG4KCiAgICAgICAgICAgICAgICBsb2NhbCB0b2dnbGVTdHJva2UgPSBJbnN0YW5jZS5uZXcoIlVJU3Ryb2tlIikKICAgICAgICAgICAgICAgIHRvZ2dsZVN0cm9rZS5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICB0b2dnbGVTdHJva2UuVGhpY2tuZXNzID0gMQogICAgICAgICAgICAgICAgdG9nZ2xlU3Ryb2tlLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMTAwLCAxMjAsIDE1MCkKICAgICAgICAgICAgICAgIHRvZ2dsZVN0cm9rZS5UcmFuc3BhcmVuY3kgPSAwLjUKICAgICAgICAgICAgICAgIHRvZ2dsZVN0cm9rZS5BcHBseVN0cm9rZU1vZGUgPSBFbnVtLkFwcGx5U3Ryb2tlTW9kZS5Cb3JkZXIKICAgICAgICAgICAgICAgIHRvZ2dsZVN0cm9rZS5QYXJlbnQgPSB0b2dnbGVCdG4KCiAgICAgICAgICAgICAgICAtLSBDcmVhdGUgUmFyaXR5IEJ1dHRvbnMKICAgICAgICAgICAgICAgIGxvY2FsIGNoZWNrYm94QnV0dG9ucyA9IHt9CgogICAgICAgICAgICAgICAgLS0gU2VsZWN0IEFsbCBCdXR0b24KICAgICAgICAgICAgICAgIGxvY2FsIHNlbGVjdEFsbEJ0biA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIsIHNjcm9sbCkKICAgICAgICAgICAgICAgIHNlbGVjdEFsbEJ0bi5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBzZWxlY3RBbGxCdG4uVGV4dCA9ICJTZWxlY3QgQWxsIgogICAgICAgICAgICAgICAgc2VsZWN0QWxsQnRuLkZvbnQgPSBFbnVtLkZvbnQuRnJlZG9rYU9uZQogICAgICAgICAgICAgICAgc2VsZWN0QWxsQnRuLlRleHRTaXplID0gMTEKICAgICAgICAgICAgICAgIHNlbGVjdEFsbEJ0bi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoNjAsIDEwMCwgMTQwKQogICAgICAgICAgICAgICAgc2VsZWN0QWxsQnRuLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEsIDEsIDEpCiAgICAgICAgICAgICAgICBzZWxlY3RBbGxCdG4uU2l6ZSA9IFVEaW0yLm5ldygwLCAxMDAsIDAsIDIyKQogICAgICAgICAgICAgICAgc2VsZWN0QWxsQnRuLkF1dG9CdXR0b25Db2xvciA9IGZhbHNlCiAgICAgICAgICAgICAgICBzZWxlY3RBbGxCdG4uWkluZGV4ID0gMwogICAgICAgICAgICAgICAgc2VsZWN0QWxsQnRuLkxheW91dE9yZGVyID0gMAoKICAgICAgICAgICAgICAgIGxvY2FsIHNlbGVjdEFsbENvcm5lciA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiKQogICAgICAgICAgICAgICAgc2VsZWN0QWxsQ29ybmVyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIHNlbGVjdEFsbENvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCA0KQogICAgICAgICAgICAgICAgc2VsZWN0QWxsQ29ybmVyLlBhcmVudCA9IHNlbGVjdEFsbEJ0bgoKICAgICAgICAgICAgICAgIC0tIERlc2VsZWN0IEFsbCBCdXR0b24KICAgICAgICAgICAgICAgIGxvY2FsIGRlc2VsZWN0QWxsQnRuID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiwgc2Nyb2xsKQogICAgICAgICAgICAgICAgZGVzZWxlY3RBbGxCdG4uTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgZGVzZWxlY3RBbGxCdG4uVGV4dCA9ICJEZXNlbGVjdCBBbGwiCiAgICAgICAgICAgICAgICBkZXNlbGVjdEFsbEJ0bi5Gb250ID0gRW51bS5Gb250LkZyZWRva2FPbmUKICAgICAgICAgICAgICAgIGRlc2VsZWN0QWxsQnRuLlRleHRTaXplID0gMTEKICAgICAgICAgICAgICAgIGRlc2VsZWN0QWxsQnRuLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxNDAsIDYwLCA2MCkKICAgICAgICAgICAgICAgIGRlc2VsZWN0QWxsQnRuLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEsIDEsIDEpCiAgICAgICAgICAgICAgICBkZXNlbGVjdEFsbEJ0bi5TaXplID0gVURpbTIubmV3KDAsIDEwMCwgMCwgMjIpCiAgICAgICAgICAgICAgICBkZXNlbGVjdEFsbEJ0bi5BdXRvQnV0dG9uQ29sb3IgPSBmYWxzZQogICAgICAgICAgICAgICAgZGVzZWxlY3RBbGxCdG4uWkluZGV4ID0gMwogICAgICAgICAgICAgICAgZGVzZWxlY3RBbGxCdG4uTGF5b3V0T3JkZXIgPSAxCgogICAgICAgICAgICAgICAgbG9jYWwgZGVzZWxlY3RBbGxDb3JuZXIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIikKICAgICAgICAgICAgICAgIGRlc2VsZWN0QWxsQ29ybmVyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGRlc2VsZWN0QWxsQ29ybmVyLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAsIDQpCiAgICAgICAgICAgICAgICBkZXNlbGVjdEFsbENvcm5lci5QYXJlbnQgPSBkZXNlbGVjdEFsbEJ0bgoKICAgICAgICAgICAgICAgIC0tIENyZWF0ZSBSYXJpdHkgQ2hlY2tib3hlcwogICAgICAgICAgICAgICAgZm9yIGksIHJhcml0eSBpbiBpcGFpcnMoUkFSSVRJRVMpIGRvCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgYnRuID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiwgc2Nyb2xsKQogICAgICAgICAgICAgICAgICAgIGJ0bi5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICAgICAgYnRuLlRleHQgPSByYXJpdHkKICAgICAgICAgICAgICAgICAgICBidG4uRm9udCA9IEVudW0uRm9udC5GcmVkb2thT25lCiAgICAgICAgICAgICAgICAgICAgYnRuLlRleHRTaXplID0gMTEKICAgICAgICAgICAgICAgICAgICBidG4uQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDQ1LCA0NSwgNzApCiAgICAgICAgICAgICAgICAgICAgYnRuLlRleHRDb2xvcjMgPSBSQVJJVFlfQ09MT1JTW3Jhcml0eV0KICAgICAgICAgICAgICAgICAgICBidG4uU2l6ZSA9IFVEaW0yLm5ldygwLCAxMDAsIDAsIDIyKQogICAgICAgICAgICAgICAgICAgIGJ0bi5BdXRvQnV0dG9uQ29sb3IgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIGJ0bi5aSW5kZXggPSAzCiAgICAgICAgICAgICAgICAgICAgYnRuLkxheW91dE9yZGVyID0gaSArIDEKCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgYnRuQ29ybmVyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIpCiAgICAgICAgICAgICAgICAgICAgYnRuQ29ybmVyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgICAgICBidG5Db3JuZXIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwgNCkKICAgICAgICAgICAgICAgICAgICBidG5Db3JuZXIuUGFyZW50ID0gYnRuCgogICAgICAgICAgICAgICAgICAgIGxvY2FsIGNoZWNrbWFyayA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKICAgICAgICAgICAgICAgICAgICBjaGVja21hcmsuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgICAgIGNoZWNrbWFyay5TaXplID0gVURpbTIubmV3KDAsIDE1LCAwLCAxNSkKICAgICAgICAgICAgICAgICAgICBjaGVja21hcmsuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMywgMC41LCAtNy41KQogICAgICAgICAgICAgICAgICAgIGNoZWNrbWFyay5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgICAgIGNoZWNrbWFyay5UZXh0ID0gIiIKICAgICAgICAgICAgICAgICAgICBjaGVja21hcmsuRm9udCA9IEVudW0uRm9udC5Hb3RoYW1Cb2xkCiAgICAgICAgICAgICAgICAgICAgY2hlY2ttYXJrLlRleHRTaXplID0gMTIKICAgICAgICAgICAgICAgICAgICBjaGVja21hcmsuVGV4dENvbG9yMyA9IFJBUklUWV9DT0xPUlNbcmFyaXR5XQogICAgICAgICAgICAgICAgICAgIGNoZWNrbWFyay5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICBjaGVja21hcmsuWkluZGV4ID0gNAogICAgICAgICAgICAgICAgICAgIGNoZWNrbWFyay5QYXJlbnQgPSBidG4KCiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hCdXR0b25zW3Jhcml0eV0gPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbiA9IGJ0biwKICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2ttYXJrID0gY2hlY2ttYXJrLAogICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZCA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBidG4uTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdCgKICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hCdXR0b25zW3Jhcml0eV0uc2VsZWN0ZWQgPSBub3QgY2hlY2tib3hCdXR0b25zW3Jhcml0eV0uc2VsZWN0ZWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrbWFyay5WaXNpYmxlID0gY2hlY2tib3hCdXR0b25zW3Jhcml0eV0uc2VsZWN0ZWQKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBjaGVja2JveEJ1dHRvbnNbcmFyaXR5XS5zZWxlY3RlZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRSYXJpdGllc1tyYXJpdHldID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0bi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoODAsIDIwMCwgMTIwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUmFyaXRpZXNbcmFyaXR5XSA9IG5pbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0bi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoNDUsIDQ1LCA3MCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGVzcEVuYWJsZWQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2suc3Bhd24oCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyQWxsRVNQKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUFsbEVTUCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAtLSBTZWxlY3QgQWxsIEZ1bmN0aW9uCiAgICAgICAgICAgICAgICBzZWxlY3RBbGxCdG4uTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdCgKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCByYXJpdHkgaW4gaXBhaXJzKFJBUklUSUVTKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbm90IGNoZWNrYm94QnV0dG9uc1tyYXJpdHldLnNlbGVjdGVkIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveEJ1dHRvbnNbcmFyaXR5XS5zZWxlY3RlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveEJ1dHRvbnNbcmFyaXR5XS5jaGVja21hcmsuVmlzaWJsZSA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFJhcml0aWVzW3Jhcml0eV0gPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hCdXR0b25zW3Jhcml0eV0uYnV0dG9uLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig4MCwgMjAwLCAxMjApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgICAgICBpZiBlc3BFbmFibGVkIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2suc3Bhd24oCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckFsbEVTUCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUFsbEVTUCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgICAgIC0tIERlc2VsZWN0IEFsbCBGdW5jdGlvbgogICAgICAgICAgICAgICAgZGVzZWxlY3RBbGxCdG4uTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdCgKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCByYXJpdHkgaW4gaXBhaXJzKFJBUklUSUVTKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgY2hlY2tib3hCdXR0b25zW3Jhcml0eV0uc2VsZWN0ZWQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94QnV0dG9uc1tyYXJpdHldLnNlbGVjdGVkID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveEJ1dHRvbnNbcmFyaXR5XS5jaGVja21hcmsuVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRSYXJpdGllc1tyYXJpdHldID0gbmlsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hCdXR0b25zW3Jhcml0eV0uYnV0dG9uLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig0NSwgNDUsIDcwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgZXNwRW5hYmxlZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckFsbEVTUCgpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgICAgIC0tIEVTUCBGdW5jdGlvbnMgKEhhbnlhIFJhcml0eSArIERpc3RhbmNlKQogICAgICAgICAgICAgICAgbG9jYWwgZnVuY3Rpb24gY3JlYXRlRVNQKG9iamVjdCwgcmFyaXR5KQogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBvYmplY3QgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmlsCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgaWYgbm90IG9iamVjdDpJc0EoIkJhc2VQYXJ0IikgYW5kIG5vdCBvYmplY3Q6SXNBKCJNb2RlbCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5pbAogICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICBsb2NhbCBjb2xvciA9IFJBUklUWV9DT0xPUlNbcmFyaXR5XSBvciBDb2xvcjMubmV3KDEsIDEsIDEpCgogICAgICAgICAgICAgICAgICAgIGxvY2FsIGFkb3JuZWVQYXJ0ID0gbmlsCiAgICAgICAgICAgICAgICAgICAgaWYgb2JqZWN0OklzQSgiTW9kZWwiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGFkb3JuZWVQYXJ0ID0gb2JqZWN0LlByaW1hcnlQYXJ0IG9yIG9iamVjdDpGaW5kRmlyc3RDaGlsZFdoaWNoSXNBKCJCYXNlUGFydCIpCiAgICAgICAgICAgICAgICAgICAgZWxzZWlmIG9iamVjdDpJc0EoIkJhc2VQYXJ0IikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBhZG9ybmVlUGFydCA9IG9iamVjdAogICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICBpZiBub3QgYWRvcm5lZVBhcnQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmlsCiAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgIGxvY2FsIGJpbGxib2FyZEd1aSA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIikKICAgICAgICAgICAgICAgICAgICBiaWxsYm9hcmRHdWkuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgICAgIGJpbGxib2FyZEd1aS5BbHdheXNPblRvcCA9IHRydWUKICAgICAgICAgICAgICAgICAgICBiaWxsYm9hcmRHdWkuU2l6ZSA9IFVEaW0yLm5ldygwLCAxNTAsIDAsIDM1KQogICAgICAgICAgICAgICAgICAgIGJpbGxib2FyZEd1aS5TdHVkc09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDIsIDApCiAgICAgICAgICAgICAgICAgICAgYmlsbGJvYXJkR3VpLkFkb3JuZWUgPSBhZG9ybmVlUGFydAogICAgICAgICAgICAgICAgICAgIGJpbGxib2FyZEd1aS5NYXhEaXN0YW5jZSA9IEVTUF9NQVhfRElTVEFOQ0UKCiAgICAgICAgICAgICAgICAgICAgLS0gTGFiZWwgUmFyaXR5CiAgICAgICAgICAgICAgICAgICAgbG9jYWwgcmFyaXR5TGFiZWwgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCiAgICAgICAgICAgICAgICAgICAgcmFyaXR5TGFiZWwuTmFtZSA9ICJSYXJpdHlMYWJlbCIKICAgICAgICAgICAgICAgICAgICByYXJpdHlMYWJlbC5QYXJlbnQgPSBiaWxsYm9hcmRHdWkKICAgICAgICAgICAgICAgICAgICByYXJpdHlMYWJlbC5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuNTUsIDApCiAgICAgICAgICAgICAgICAgICAgcmFyaXR5TGFiZWwuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgICAgICByYXJpdHlMYWJlbC5UZXh0ID0gcmFyaXR5CiAgICAgICAgICAgICAgICAgICAgcmFyaXR5TGFiZWwuRm9udCA9IEVudW0uRm9udC5Hb3RoYW1Cb2xkCiAgICAgICAgICAgICAgICAgICAgcmFyaXR5TGFiZWwuVGV4dFNpemUgPSBFU1BfVEVYVF9TSVpFCiAgICAgICAgICAgICAgICAgICAgcmFyaXR5TGFiZWwuVGV4dENvbG9yMyA9IGNvbG9yCiAgICAgICAgICAgICAgICAgICAgcmFyaXR5TGFiZWwuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuMwogICAgICAgICAgICAgICAgICAgIHJhcml0eUxhYmVsLlRleHRTdHJva2VDb2xvcjMgPSBDb2xvcjMubmV3KDAsIDAsIDApCgogICAgICAgICAgICAgICAgICAgIC0tIExhYmVsIEphcmFrCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgZGlzdGFuY2VMYWJlbCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZUxhYmVsLk5hbWUgPSAiRGlzdGFuY2VMYWJlbCIKICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZUxhYmVsLlBhcmVudCA9IGJpbGxib2FyZEd1aQogICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlTGFiZWwuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjQ1LCAwKQogICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlTGFiZWwuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMC41NSwgMCkKICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZUxhYmVsLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2VMYWJlbC5UZXh0ID0gIjBtIgogICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlTGFiZWwuRm9udCA9IEVudW0uRm9udC5Hb3RoYW0KICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZUxhYmVsLlRleHRTaXplID0gRVNQX0RJU1RBTkNFX1NJWkUKICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZUxhYmVsLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyMjAsIDIyMCwgMjIwKQogICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlTGFiZWwuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlTGFiZWwuVGV4dFN0cm9rZUNvbG9yMyA9IENvbG9yMy5uZXcoMCwgMCwgMCkKCiAgICAgICAgICAgICAgICAgICAgYmlsbGJvYXJkR3VpLlBhcmVudCA9IGFkb3JuZWVQYXJ0CgogICAgICAgICAgICAgICAgICAgIHJldHVybiBiaWxsYm9hcmRHdWkKICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIGxvY2FsIGZ1bmN0aW9uIHVwZGF0ZURpc3RhbmNlKCkKICAgICAgICAgICAgICAgICAgICBsb2NhbCBjaGFyYWN0ZXIgPSBMb2NhbFBsYXllci5DaGFyYWN0ZXIKICAgICAgICAgICAgICAgICAgICBpZiBub3QgY2hhcmFjdGVyIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgIGxvY2FsIHJvb3RQYXJ0ID0gY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKICAgICAgICAgICAgICAgICAgICBpZiBub3Qgcm9vdFBhcnQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgZm9yIG9iaiwgZGF0YSBpbiBwYWlycyhlc3BPYmplY3RzKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBpZiBvYmogYW5kIG9iai5QYXJlbnQgYW5kIGRhdGEuZ3VpIGFuZCBkYXRhLmd1aS5QYXJlbnQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdGFyZ2V0UG9zCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgb2JqOklzQSgiTW9kZWwiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgcGFydCA9IG9iai5QcmltYXJ5UGFydCBvciBvYmo6RmluZEZpcnN0Q2hpbGRXaGljaElzQSgiQmFzZVBhcnQiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHBhcnQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRQb3MgPSBwYXJ0LlBvc2l0aW9uCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgb2JqOklzQSgiQmFzZVBhcnQiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0UG9zID0gb2JqLlBvc2l0aW9uCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB0YXJnZXRQb3MgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIGRpc3RhbmNlID0gKHJvb3RQYXJ0LlBvc2l0aW9uIC0gdGFyZ2V0UG9zKS5NYWduaXR1ZGUKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgZGlzdExhYmVsID0gZGF0YS5ndWk6RmluZEZpcnN0Q2hpbGQoIkRpc3RhbmNlTGFiZWwiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGRpc3RMYWJlbCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3RMYWJlbC5UZXh0ID0gc3RyaW5nLmZvcm1hdCgiJS4wZm0iLCBkaXN0YW5jZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBkYXRhLmd1aSBhbmQgZGF0YS5ndWkuUGFyZW50IHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmd1aTpEZXN0cm95KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXNwT2JqZWN0c1tvYmpdID0gbmlsCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgZnVuY3Rpb24gY2xlYXJBbGxFU1AoKQogICAgICAgICAgICAgICAgICAgIGZvciBvYmosIGRhdGEgaW4gcGFpcnMoZXNwT2JqZWN0cykgZG8KICAgICAgICAgICAgICAgICAgICAgICAgaWYgZGF0YS5ndWkgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGNhbGwoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmd1aTpEZXN0cm95KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZXNwT2JqZWN0cyA9IHt9CiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVBbGxFU1AoKQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGFjdGl2ZUJyYWlucm90cyA9IHdvcmtzcGFjZTpGaW5kRmlyc3RDaGlsZCgiQWN0aXZlQnJhaW5yb3RzIikKICAgICAgICAgICAgICAgICAgICBpZiBub3QgYWN0aXZlQnJhaW5yb3RzIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgIGZvciByYXJpdHksIF8gaW4gcGFpcnMoc2VsZWN0ZWRSYXJpdGllcykgZG8KICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgcmFyaXR5Rm9sZGVyID0gYWN0aXZlQnJhaW5yb3RzOkZpbmRGaXJzdENoaWxkKHJhcml0eSkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgcmFyaXR5Rm9sZGVyIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCBvYmogaW4gcGFpcnMocmFyaXR5Rm9sZGVyOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbm90IGVzcE9iamVjdHNbb2JqXSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIGVzcCA9IGNyZWF0ZUVTUChvYmosIHJhcml0eSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgZXNwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVzcE9iamVjdHNbb2JqXSA9IHtndWkgPSBlc3AsIHJhcml0eSA9IHJhcml0eX0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAtLSBDb25uZWN0aW9uIHZhcmlhYmxlcwogICAgICAgICAgICAgICAgbG9jYWwgdXBkYXRlQ29ubmVjdGlvbgogICAgICAgICAgICAgICAgbG9jYWwgY2hpbGRBZGRlZENvbm5lY3Rpb25zID0ge30KICAgICAgICAgICAgICAgIGxvY2FsIGNoaWxkUmVtb3ZlZENvbm5lY3Rpb25zID0ge30KICAgICAgICAgICAgICAgIGxvY2FsIGZvbGRlckFkZGVkQ29ubmVjdGlvbgogICAgICAgICAgICAgICAgbG9jYWwgZm9sZGVyUmVtb3ZlZENvbm5lY3Rpb24KICAgICAgICAgICAgICAgIGxvY2FsIHdvcmtzcGFjZUNvbm5lY3Rpb24KCiAgICAgICAgICAgICAgICBsb2NhbCBmdW5jdGlvbiBzZXR1cFJhcml0eUZvbGRlcihyYXJpdHksIHJhcml0eUZvbGRlcikKICAgICAgICAgICAgICAgICAgICBpZiBjaGlsZEFkZGVkQ29ubmVjdGlvbnNbcmFyaXR5XSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkQWRkZWRDb25uZWN0aW9uc1tyYXJpdHldOkRpc2Nvbm5lY3QoKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGlmIGNoaWxkUmVtb3ZlZENvbm5lY3Rpb25zW3Jhcml0eV0gdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBjaGlsZFJlbW92ZWRDb25uZWN0aW9uc1tyYXJpdHldOkRpc2Nvbm5lY3QoKQogICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICBjaGlsZEFkZGVkQ29ubmVjdGlvbnNbcmFyaXR5XSA9CiAgICAgICAgICAgICAgICAgICAgICAgIHJhcml0eUZvbGRlci5DaGlsZEFkZGVkOkNvbm5lY3QoCiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGNoaWxkKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgZXNwRW5hYmxlZCBhbmQgc2VsZWN0ZWRSYXJpdGllc1tyYXJpdHldIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLmRlZmVyKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoMC4xNSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNoaWxkIGFuZCBjaGlsZC5QYXJlbnQgYW5kIG5vdCBlc3BPYmplY3RzW2NoaWxkXSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgZXNwID0gY3JlYXRlRVNQKGNoaWxkLCByYXJpdHkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgZXNwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXNwT2JqZWN0c1tjaGlsZF0gPSB7Z3VpID0gZXNwLCByYXJpdHkgPSByYXJpdHl9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICAgICAgY2hpbGRSZW1vdmVkQ29ubmVjdGlvbnNbcmFyaXR5XSA9CiAgICAgICAgICAgICAgICAgICAgICAgIHJhcml0eUZvbGRlci5DaGlsZFJlbW92ZWQ6Q29ubmVjdCgKICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oY2hpbGQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBlc3BPYmplY3RzW2NoaWxkXSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGNhbGwoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGVzcE9iamVjdHNbY2hpbGRdLmd1aSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXNwT2JqZWN0c1tjaGlsZF0uZ3VpOkRlc3Ryb3koKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlc3BPYmplY3RzW2NoaWxkXSA9IG5pbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIGxvY2FsIGZ1bmN0aW9uIHN0YXJ0RVNQVXBkYXRlKCkKICAgICAgICAgICAgICAgICAgICBsb2NhbCBhY3RpdmVCcmFpbnJvdHMgPSB3b3Jrc3BhY2U6RmluZEZpcnN0Q2hpbGQoIkFjdGl2ZUJyYWlucm90cyIpCgogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBhY3RpdmVCcmFpbnJvdHMgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBpZiB3b3Jrc3BhY2VDb25uZWN0aW9uIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtzcGFjZUNvbm5lY3Rpb246RGlzY29ubmVjdCgpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICB3b3Jrc3BhY2VDb25uZWN0aW9uID0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtzcGFjZS5DaGlsZEFkZGVkOkNvbm5lY3QoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihjaGlsZCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBjaGlsZC5OYW1lID09ICJBY3RpdmVCcmFpbnJvdHMiIGFuZCBlc3BFbmFibGVkIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ya3NwYWNlQ29ubmVjdGlvbjpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ya3NwYWNlQ29ubmVjdGlvbiA9IG5pbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoMC4xKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydEVTUFVwZGF0ZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUFsbEVTUCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHJhcml0eSBpbiBpcGFpcnMoUkFSSVRJRVMpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHJhcml0eUZvbGRlciA9IGFjdGl2ZUJyYWlucm90czpGaW5kRmlyc3RDaGlsZChyYXJpdHkpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHJhcml0eUZvbGRlciB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR1cFJhcml0eUZvbGRlcihyYXJpdHksIHJhcml0eUZvbGRlcikKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgIGlmIGZvbGRlckFkZGVkQ29ubmVjdGlvbiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGZvbGRlckFkZGVkQ29ubmVjdGlvbjpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBmb2xkZXJBZGRlZENvbm5lY3Rpb24gPQogICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVCcmFpbnJvdHMuQ2hpbGRBZGRlZDpDb25uZWN0KAogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihmb2xkZXIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgcmFyaXR5IGluIGlwYWlycyhSQVJJVElFUykgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBmb2xkZXIuTmFtZSA9PSByYXJpdHkgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR1cFJhcml0eUZvbGRlcihyYXJpdHksIGZvbGRlcikKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGVzcEVuYWJsZWQgYW5kIHNlbGVjdGVkUmFyaXRpZXNbcmFyaXR5XSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLmRlZmVyKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KDAuMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIF8sIG9iaiBpbiBwYWlycyhmb2xkZXI6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCBlc3BPYmplY3RzW29ial0gdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIGVzcCA9IGNyZWF0ZUVTUChvYmosIHJhcml0eSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBlc3AgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlc3BPYmplY3RzW29ial0gPSB7Z3VpID0gZXNwLCByYXJpdHkgPSByYXJpdHl9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICAgICAgaWYgZm9sZGVyUmVtb3ZlZENvbm5lY3Rpb24gdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBmb2xkZXJSZW1vdmVkQ29ubmVjdGlvbjpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBmb2xkZXJSZW1vdmVkQ29ubmVjdGlvbiA9CiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUJyYWlucm90cy5DaGlsZFJlbW92ZWQ6Q29ubmVjdCgKICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oZm9sZGVyKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIF8sIHJhcml0eSBpbiBpcGFpcnMoUkFSSVRJRVMpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgZm9sZGVyLk5hbWUgPT0gcmFyaXR5IHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIG9iaiwgZGF0YSBpbiBwYWlycyhlc3BPYmplY3RzKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgZGF0YS5yYXJpdHkgPT0gcmFyaXR5IHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgZGF0YS5ndWkgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZ3VpOkRlc3Ryb3koKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlc3BPYmplY3RzW29ial0gPSBuaWwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNoaWxkQWRkZWRDb25uZWN0aW9uc1tyYXJpdHldIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkQWRkZWRDb25uZWN0aW9uc1tyYXJpdHldOkRpc2Nvbm5lY3QoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRBZGRlZENvbm5lY3Rpb25zW3Jhcml0eV0gPSBuaWwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNoaWxkUmVtb3ZlZENvbm5lY3Rpb25zW3Jhcml0eV0gdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRSZW1vdmVkQ29ubmVjdGlvbnNbcmFyaXR5XTpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkUmVtb3ZlZENvbm5lY3Rpb25zW3Jhcml0eV0gPSBuaWwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgICAgICAgICBpZiB1cGRhdGVDb25uZWN0aW9uIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ29ubmVjdGlvbjpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICB1cGRhdGVDb25uZWN0aW9uID0KICAgICAgICAgICAgICAgICAgICAgICAgUnVuU2VydmljZS5SZW5kZXJTdGVwcGVkOkNvbm5lY3QoCiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGVzcEVuYWJsZWQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZURpc3RhbmNlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICBsb2NhbCBmdW5jdGlvbiBzdG9wRVNQVXBkYXRlKCkKICAgICAgICAgICAgICAgICAgICBpZiB1cGRhdGVDb25uZWN0aW9uIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ29ubmVjdGlvbjpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ29ubmVjdGlvbiA9IG5pbAogICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICBpZiB3b3Jrc3BhY2VDb25uZWN0aW9uIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgd29ya3NwYWNlQ29ubmVjdGlvbjpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgICAgICAgICAgd29ya3NwYWNlQ29ubmVjdGlvbiA9IG5pbAogICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICBpZiBmb2xkZXJBZGRlZENvbm5lY3Rpb24gdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBmb2xkZXJBZGRlZENvbm5lY3Rpb246RGlzY29ubmVjdCgpCiAgICAgICAgICAgICAgICAgICAgICAgIGZvbGRlckFkZGVkQ29ubmVjdGlvbiA9IG5pbAogICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICBpZiBmb2xkZXJSZW1vdmVkQ29ubmVjdGlvbiB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGZvbGRlclJlbW92ZWRDb25uZWN0aW9uOkRpc2Nvbm5lY3QoKQogICAgICAgICAgICAgICAgICAgICAgICBmb2xkZXJSZW1vdmVkQ29ubmVjdGlvbiA9IG5pbAogICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICBmb3IgcmFyaXR5LCBjb25uIGluIHBhaXJzKGNoaWxkQWRkZWRDb25uZWN0aW9ucykgZG8KICAgICAgICAgICAgICAgICAgICAgICAgY29ubjpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBjaGlsZEFkZGVkQ29ubmVjdGlvbnMgPSB7fQoKICAgICAgICAgICAgICAgICAgICBmb3IgcmFyaXR5LCBjb25uIGluIHBhaXJzKGNoaWxkUmVtb3ZlZENvbm5lY3Rpb25zKSBkbwogICAgICAgICAgICAgICAgICAgICAgICBjb25uOkRpc2Nvbm5lY3QoKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGNoaWxkUmVtb3ZlZENvbm5lY3Rpb25zID0ge30KICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIC0tIFRvZ2dsZSBIYW5kbGVyCiAgICAgICAgICAgICAgICB0b2dnbGVCdG4uTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdCgKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgIGVzcEVuYWJsZWQgPSBub3QgZXNwRW5hYmxlZAogICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVCdG4uVGV4dCA9IGVzcEVuYWJsZWQgYW5kICJPTiIgb3IgIk9GRiIKCiAgICAgICAgICAgICAgICAgICAgICAgIHBjYWxsKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR3ZWVuU2VydmljZTpDcmVhdGUoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZUJ0biwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHdlZW5JbmZvLm5ldygwLjQwKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQmFja2dyb3VuZENvbG9yMyA9IGVzcEVuYWJsZWQgYW5kIENvbG9yMy5mcm9tUkdCKDcwLCAyMDAsIDkwKSBvcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbG9yMy5mcm9tUkdCKDM1LCAzNSwgNjApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApOlBsYXkoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGVzcEVuYWJsZWQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRFU1BVcGRhdGUoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlQWxsRVNQKCkKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJBbGxFU1AoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcEVTUFVwZGF0ZSgpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgICAgIC0tIENsZWFudXAKICAgICAgICAgICAgICAgIGZyYW1lLkRlc3Ryb3lpbmc6Q29ubmVjdCgKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgIGVzcEVuYWJsZWQgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICBjbGVhckFsbEVTUCgpCiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BFU1BVcGRhdGUoKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICBlbmQKCiAgICAgICAgICAgIENyZWF0ZUJyYWlucm90RVNQVG9nZ2xlKDMxKQoKICAgICAgICAgICAgLS0gRElCQVdBSCBJTkkgVE9NQk9MICYgRlVOR1NJIChBVVRPIEFUVEFDSykKICAgICAgICAgICAgZnVuY3Rpb24gQ3JlYXRlQXV0b0hpdFRvZ2dsZShsYXlvdXRPcmRlcikKICAgICAgICAgICAgICAgIGxvY2FsIGNvbnRhaW5lciA9IGdldGdlbnYoKS5GbHljZXJSZWZzIGFuZCBnZXRnZW52KCkuRmx5Y2VyUmVmcy5CdXR0b25Db250YWluZXIKICAgICAgICAgICAgICAgIGlmIG5vdCBjb250YWluZXIgdGhlbgogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgbG9jYWwgYXV0b0hpdEVuYWJsZWQgPSBmYWxzZQogICAgICAgICAgICAgICAgbG9jYWwgY29ubmVjdGlvbnMgPSB7fQogICAgICAgICAgICAgICAgbG9jYWwgZGVib3VuY2UgPSBmYWxzZQogICAgICAgICAgICAgICAgbG9jYWwgQmFzaWNCYXQgPSBuaWwKCiAgICAgICAgICAgICAgICAtLSBDaGFyYWN0ZXIgU2V0dXAKICAgICAgICAgICAgICAgIGxvY2FsIENoYXJhY3RlciA9IExvY2FsUGxheWVyLkNoYXJhY3RlciBvciBMb2NhbFBsYXllci5DaGFyYWN0ZXJBZGRlZDpXYWl0KCkKICAgICAgICAgICAgICAgIGxvY2FsIEJhY2twYWNrID0gTG9jYWxQbGF5ZXIuQmFja3BhY2sKCiAgICAgICAgICAgICAgICAtLSBDb25maWcKICAgICAgICAgICAgICAgIGxvY2FsIENPTkZJRyA9IHsKICAgICAgICAgICAgICAgICAgICBBdHRhY2tEZWxheSA9IDAuMQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC0tIFVJCiAgICAgICAgICAgICAgICBsb2NhbCBmcmFtZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQogICAgICAgICAgICAgICAgZnJhbWUuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgZnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygxLCAtNSwgMCwgMzApCiAgICAgICAgICAgICAgICBmcmFtZS5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC4zCiAgICAgICAgICAgICAgICBmcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKICAgICAgICAgICAgICAgIGZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDAKICAgICAgICAgICAgICAgIGZyYW1lLkxheW91dE9yZGVyID0gbGF5b3V0T3JkZXIgb3IgOTkKICAgICAgICAgICAgICAgIGZyYW1lLlBhcmVudCA9IGNvbnRhaW5lcgoKICAgICAgICAgICAgICAgIGxvY2FsIGNvcm5lciA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiKQogICAgICAgICAgICAgICAgY29ybmVyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGNvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCA2KQogICAgICAgICAgICAgICAgY29ybmVyLlBhcmVudCA9IGZyYW1lCgogICAgICAgICAgICAgICAgbG9jYWwgc3Ryb2tlID0gSW5zdGFuY2UubmV3KCJVSVN0cm9rZSIpCiAgICAgICAgICAgICAgICBzdHJva2UuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgc3Ryb2tlLlRoaWNrbmVzcyA9IDEKICAgICAgICAgICAgICAgIHN0cm9rZS5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDE4MCwgMjAwLCAyMjApCiAgICAgICAgICAgICAgICBzdHJva2UuQXBwbHlTdHJva2VNb2RlID0gRW51bS5BcHBseVN0cm9rZU1vZGUuQm9yZGVyCiAgICAgICAgICAgICAgICBzdHJva2UuVHJhbnNwYXJlbmN5ID0gMC40CiAgICAgICAgICAgICAgICBzdHJva2UuUGFyZW50ID0gZnJhbWUKCiAgICAgICAgICAgICAgICBsb2NhbCBncmFkaWVudCA9IEluc3RhbmNlLm5ldygiVUlHcmFkaWVudCIpCiAgICAgICAgICAgICAgICBncmFkaWVudC5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBncmFkaWVudC5Sb3RhdGlvbiA9IDE4MAogICAgICAgICAgICAgICAgZ3JhZGllbnQuQ29sb3IgPQogICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2UubmV3KAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLCBDb2xvcjMuZnJvbVJHQigxMjAsIDgwLCAyMDApKSwKICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMuZnJvbVJHQig3MCwgNDAsIDE0MCkpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgZ3JhZGllbnQuUGFyZW50ID0gZnJhbWUKCiAgICAgICAgICAgICAgICBsb2NhbCBsYWJlbCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKICAgICAgICAgICAgICAgIGxhYmVsLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGxhYmVsLlBhcmVudCA9IGZyYW1lCiAgICAgICAgICAgICAgICBsYWJlbC5TaXplID0gVURpbTIubmV3KDAuNiwgMCwgMSwgMCkKICAgICAgICAgICAgICAgIGxhYmVsLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDEwLCAwLCAwKQogICAgICAgICAgICAgICAgbGFiZWwuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgIGxhYmVsLlRleHQgPSAiQXV0byBBdHRhY2sgQmF0IgogICAgICAgICAgICAgICAgbGFiZWwuRm9udCA9IEVudW0uRm9udC5Hb3RoYW1Cb2xkCiAgICAgICAgICAgICAgICBsYWJlbC5UZXh0U2l6ZSA9IDExCiAgICAgICAgICAgICAgICBsYWJlbC5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxLCAxLCAxKQogICAgICAgICAgICAgICAgbGFiZWwuVGV4dFhBbGlnbm1lbnQgPSBFbnVtLlRleHRYQWxpZ25tZW50LkxlZnQKCiAgICAgICAgICAgICAgICBsb2NhbCBCdXR0b25CRyA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQogICAgICAgICAgICAgICAgQnV0dG9uQkcuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgQnV0dG9uQkcuUGFyZW50ID0gZnJhbWUKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLlNpemUgPSBVRGltMi5uZXcoMC4zLCAtMTAsIDAuOCwgMCkKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNzMsIDAsIDAuMSwgMCkKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigzNSwgMzUsIDYwKQogICAgICAgICAgICAgICAgQnV0dG9uQkcuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAuMQoKICAgICAgICAgICAgICAgIGxvY2FsIGNvcm5lcjIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIikKICAgICAgICAgICAgICAgIGNvcm5lcjIuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgY29ybmVyMi5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCA2KQogICAgICAgICAgICAgICAgY29ybmVyMi5QYXJlbnQgPSBCdXR0b25CRwoKICAgICAgICAgICAgICAgIGxvY2FsIHN0cm9rZTIgPSBJbnN0YW5jZS5uZXcoIlVJU3Ryb2tlIikKICAgICAgICAgICAgICAgIHN0cm9rZTIuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgc3Ryb2tlMi5UaGlja25lc3MgPSAxCiAgICAgICAgICAgICAgICBzdHJva2UyLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMTAwLCAxMjAsIDE1MCkKICAgICAgICAgICAgICAgIHN0cm9rZTIuVHJhbnNwYXJlbmN5ID0gMC41CiAgICAgICAgICAgICAgICBzdHJva2UyLkFwcGx5U3Ryb2tlTW9kZSA9IEVudW0uQXBwbHlTdHJva2VNb2RlLkJvcmRlcgogICAgICAgICAgICAgICAgc3Ryb2tlMi5QYXJlbnQgPSBCdXR0b25CRwoKICAgICAgICAgICAgICAgIGxvY2FsIHRvZ2dsZUJ1dHRvbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24uTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlBhcmVudCA9IEJ1dHRvbkJHCiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24uU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24uVGV4dCA9ICJPRkYiCiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24uRm9udCA9IEVudW0uRm9udC5GcmVkb2thT25lCiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24uVGV4dFNpemUgPSAxMQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEsIDEsIDEpCgogICAgICAgICAgICAgICAgLS0gRmluZCBCYXNpYyBCYXQKICAgICAgICAgICAgICAgIGxvY2FsIGZ1bmN0aW9uIGZpbmRCYXNpY0JhdCgpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJhY2twYWNrOkZpbmRGaXJzdENoaWxkKCJCYXNpYyBCYXQiKSBvciBDaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkJhc2ljIEJhdCIpCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAtLSBDb3JlIEZ1bmN0aW9uIC0gQXR0YWNrCiAgICAgICAgICAgICAgICBsb2NhbCBmdW5jdGlvbiBwZXJmb3JtQXR0YWNrKCkKICAgICAgICAgICAgICAgICAgICBpZiBkZWJvdW5jZSBvciBub3QgYXV0b0hpdEVuYWJsZWQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgQmFzaWNCYXQgPSBmaW5kQmFzaWNCYXQoKQogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBCYXNpY0JhdCBvciBCYXNpY0JhdC5QYXJlbnQgfj0gQ2hhcmFjdGVyIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgIGRlYm91bmNlID0gdHJ1ZQoKICAgICAgICAgICAgICAgICAgICB0YXNrLnNwYXduKAogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJhc2ljQmF0OkFjdGl2YXRlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIEJhc2ljQmF0OkZpbmRGaXJzdENoaWxkKCJSZW1vdGVFdmVudCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJhc2ljQmF0LlJlbW90ZUV2ZW50OkZpcmVTZXJ2ZXIoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoQ09ORklHLkF0dGFja0RlbGF5KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVib3VuY2UgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAtLSBTZXR1cCBCYXNpYyBCYXQgRXZlbnRzCiAgICAgICAgICAgICAgICBsb2NhbCBmdW5jdGlvbiBzZXR1cEJhc2ljQmF0KCkKICAgICAgICAgICAgICAgICAgICBCYXNpY0JhdCA9IGZpbmRCYXNpY0JhdCgpCgogICAgICAgICAgICAgICAgICAgIGlmIEJhc2ljQmF0IHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgZXF1aXBwZWRDb25uID0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJhc2ljQmF0LkVxdWlwcGVkOkNvbm5lY3QoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgYXV0b0hpdEVuYWJsZWQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoMC4wNSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICApCgogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB1bmVxdWlwcGVkQ29ubiA9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCYXNpY0JhdC5VbmVxdWlwcGVkOkNvbm5lY3QoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVib3VuY2UgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLmluc2VydChjb25uZWN0aW9ucywgZXF1aXBwZWRDb25uKQogICAgICAgICAgICAgICAgICAgICAgICB0YWJsZS5pbnNlcnQoY29ubmVjdGlvbnMsIHVuZXF1aXBwZWRDb25uKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgLS0gTW9uaXRvciBCYWNrcGFjawogICAgICAgICAgICAgICAgbG9jYWwgYmFja3BhY2tDb25uID0KICAgICAgICAgICAgICAgICAgICBCYWNrcGFjay5DaGlsZEFkZGVkOkNvbm5lY3QoCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oY2hpbGQpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNoaWxkLk5hbWUgPT0gIkJhc2ljIEJhdCIgYW5kIGNoaWxkOklzQSgiVG9vbCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgwLjEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR1cEJhc2ljQmF0KCkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICB0YWJsZS5pbnNlcnQoY29ubmVjdGlvbnMsIGJhY2twYWNrQ29ubikKCiAgICAgICAgICAgICAgICAtLSBDaGFyYWN0ZXIgUmVzcGF3biBIYW5kbGVyCiAgICAgICAgICAgICAgICBsb2NhbCBjaGFyYWN0ZXJDb25uID0KICAgICAgICAgICAgICAgICAgICBMb2NhbFBsYXllci5DaGFyYWN0ZXJBZGRlZDpDb25uZWN0KAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKG5ld0NoYXJhY3RlcikKICAgICAgICAgICAgICAgICAgICAgICAgQ2hhcmFjdGVyID0gbmV3Q2hhcmFjdGVyCiAgICAgICAgICAgICAgICAgICAgICAgIEJhY2twYWNrID0gTG9jYWxQbGF5ZXIuQmFja3BhY2sKICAgICAgICAgICAgICAgICAgICAgICAgQmFzaWNCYXQgPSBuaWwKICAgICAgICAgICAgICAgICAgICAgICAgZGVib3VuY2UgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoMSkKICAgICAgICAgICAgICAgICAgICAgICAgc2V0dXBCYXNpY0JhdCgpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICB0YWJsZS5pbnNlcnQoY29ubmVjdGlvbnMsIGNoYXJhY3RlckNvbm4pCgogICAgICAgICAgICAgICAgLS0gVG9nZ2xlIEhhbmRsZXIKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5Nb3VzZUJ1dHRvbjFDbGljazpDb25uZWN0KAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0hpdEVuYWJsZWQgPSBub3QgYXV0b0hpdEVuYWJsZWQKICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHQgPSBhdXRvSGl0RW5hYmxlZCBhbmQgIk9OIiBvciAiT0ZGIgoKICAgICAgICAgICAgICAgICAgICAgICAgcGNhbGwoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHdlZW5TZXJ2aWNlOkNyZWF0ZSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQnV0dG9uQkcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR3ZWVuSW5mby5uZXcoMC40MCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJhY2tncm91bmRDb2xvcjMgPSBhdXRvSGl0RW5hYmxlZCBhbmQgQ29sb3IzLmZyb21SR0IoNzAsIDIwMCwgOTApIG9yCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3IzLmZyb21SR0IoMzUsIDM1LCA2MCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk6UGxheSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgYXV0b0hpdEVuYWJsZWQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dXBCYXNpY0JhdCgpCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgLS0gTG9vcCBhdHRhY2sgbWVuZ2d1bmFrYW4gSGVhcnRiZWF0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBoZWFydGJlYXRDb25uID0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSdW5TZXJ2aWNlLkhlYXJ0YmVhdDpDb25uZWN0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgYXV0b0hpdEVuYWJsZWQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyZm9ybUF0dGFjaygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUuaW5zZXJ0KGNvbm5lY3Rpb25zLCBoZWFydGJlYXRDb25uKQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLSBEaXNjb25uZWN0IGF0dGFjayBsb29wCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgaSA9ICNjb25uZWN0aW9ucywgMSwgLTEgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBjb25uZWN0aW9uc1tpXSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBjYWxsKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zW2ldOkRpc2Nvbm5lY3QoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGkgPiAzIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLnJlbW92ZShjb25uZWN0aW9ucywgaSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYm91bmNlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICApCgogICAgICAgICAgICAgICAgLS0gQ2xlYW51cAogICAgICAgICAgICAgICAgZnJhbWUuRGVzdHJveWluZzpDb25uZWN0KAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0hpdEVuYWJsZWQgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgY29ubiBpbiBpcGFpcnMoY29ubmVjdGlvbnMpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm46RGlzY29ubmVjdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9ucyA9IHt9CiAgICAgICAgICAgICAgICAgICAgICAgIGRlYm91bmNlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgQmFzaWNCYXQgPSBuaWwKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAtLSBQYW5nZ2lsIHRvbWJvbAogICAgICAgICAgICBDcmVhdGVBdXRvSGl0VG9nZ2xlKDUxKQoKICAgICAgICAgICAgLS0gRElCQVdBSCBJTkkgVE9NQk9MICYgRlVOR1NJIChISVRCT1gpCiAgICAgICAgICAgIGZ1bmN0aW9uIENyZWF0ZUhpdGJveEV4cGFuZGVyVG9nZ2xlKGxheW91dE9yZGVyKQogICAgICAgICAgICAgICAgbG9jYWwgY29udGFpbmVyID0gZ2V0Z2VudigpLkZseWNlclJlZnMgYW5kIGdldGdlbnYoKS5GbHljZXJSZWZzLkJ1dHRvbkNvbnRhaW5lcgogICAgICAgICAgICAgICAgaWYgbm90IGNvbnRhaW5lciB0aGVuCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAtLSBDT05GSUcgLSBVQkFIIFNFU1VLQSBIQVRJCiAgICAgICAgICAgICAgICBsb2NhbCBDT05GSUcgPSB7CiAgICAgICAgICAgICAgICAgICAgLS0gVWt1cmFuIEhpdGJveAogICAgICAgICAgICAgICAgICAgIE1pblNpemUgPSAxLAogICAgICAgICAgICAgICAgICAgIE1heFNpemUgPSA1MCwKICAgICAgICAgICAgICAgICAgICBEZWZhdWx0U2l6ZSA9IDMwLAogICAgICAgICAgICAgICAgICAgIC0tIFZpc3VhbCBIaXRib3ggKHNhYXQgT04pCiAgICAgICAgICAgICAgICAgICAgSGl0Ym94VHJhbnNwYXJlbmN5ID0gMC44LAogICAgICAgICAgICAgICAgICAgIEhpdGJveENvbG9yID0gQ29sb3IzLmZyb21SR0IoMjU1LCAwLCAwKSwKICAgICAgICAgICAgICAgICAgICBIaXRib3hNYXRlcmlhbCA9IEVudW0uTWF0ZXJpYWwuTmVvbiwKICAgICAgICAgICAgICAgICAgICBTaG93SGl0Ym94ID0gdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAtLSBSZXN0b3JlIFNldHRpbmdzCiAgICAgICAgICAgICAgICAgICAgT3JpZ2luYWxTaXplID0gVmVjdG9yMy5uZXcoMiwgMiwgMSksCiAgICAgICAgICAgICAgICAgICAgT3JpZ2luYWxUcmFuc3BhcmVuY3kgPSAxLAogICAgICAgICAgICAgICAgICAgIE9yaWdpbmFsQ29sb3IgPSBCcmlja0NvbG9yLm5ldygiTWVkaXVtIHN0b25lIGdyZXkiKSwKICAgICAgICAgICAgICAgICAgICBPcmlnaW5hbE1hdGVyaWFsID0gRW51bS5NYXRlcmlhbC5QbGFzdGljLAogICAgICAgICAgICAgICAgICAgIC0tIFBlcmZvcm1hbmNlCiAgICAgICAgICAgICAgICAgICAgVXBkYXRlUmF0ZSA9ICJSZW5kZXJTdGVwcGVkIgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC0tIFZhcmlhYmxlcwogICAgICAgICAgICAgICAgbG9jYWwgaGl0Ym94RW5hYmxlZCA9IGZhbHNlCiAgICAgICAgICAgICAgICBsb2NhbCBjb25uZWN0aW9ucyA9IHt9CiAgICAgICAgICAgICAgICBsb2NhbCBjdXJyZW50U2l6ZSA9IENPTkZJRy5EZWZhdWx0U2l6ZQoKICAgICAgICAgICAgICAgIC0tIFVJIENSRUFUSU9OCiAgICAgICAgICAgICAgICBsb2NhbCBmcmFtZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQogICAgICAgICAgICAgICAgZnJhbWUuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgZnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygxLCAtNSwgMCwgMzApCiAgICAgICAgICAgICAgICBmcmFtZS5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC4zCiAgICAgICAgICAgICAgICBmcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKICAgICAgICAgICAgICAgIGZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDAKICAgICAgICAgICAgICAgIGZyYW1lLkxheW91dE9yZGVyID0gbGF5b3V0T3JkZXIgb3IgOTkKICAgICAgICAgICAgICAgIGZyYW1lLlBhcmVudCA9IGNvbnRhaW5lcgoKICAgICAgICAgICAgICAgIGxvY2FsIGZyYW1lQ29ybmVyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIpCiAgICAgICAgICAgICAgICBmcmFtZUNvcm5lci5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBmcmFtZUNvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCA2KQogICAgICAgICAgICAgICAgZnJhbWVDb3JuZXIuUGFyZW50ID0gZnJhbWUKCiAgICAgICAgICAgICAgICBsb2NhbCBmcmFtZVN0cm9rZSA9IEluc3RhbmNlLm5ldygiVUlTdHJva2UiKQogICAgICAgICAgICAgICAgZnJhbWVTdHJva2UuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgZnJhbWVTdHJva2UuVGhpY2tuZXNzID0gMQogICAgICAgICAgICAgICAgZnJhbWVTdHJva2UuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigxODAsIDIwMCwgMjIwKQogICAgICAgICAgICAgICAgZnJhbWVTdHJva2UuQXBwbHlTdHJva2VNb2RlID0gRW51bS5BcHBseVN0cm9rZU1vZGUuQm9yZGVyCiAgICAgICAgICAgICAgICBmcmFtZVN0cm9rZS5UcmFuc3BhcmVuY3kgPSAwLjQKICAgICAgICAgICAgICAgIGZyYW1lU3Ryb2tlLlBhcmVudCA9IGZyYW1lCgogICAgICAgICAgICAgICAgbG9jYWwgZ3JhZGllbnQgPSBJbnN0YW5jZS5uZXcoIlVJR3JhZGllbnQiKQogICAgICAgICAgICAgICAgZ3JhZGllbnQuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgZ3JhZGllbnQuUm90YXRpb24gPSAxODAKICAgICAgICAgICAgICAgIGdyYWRpZW50LkNvbG9yID0KICAgICAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlLm5ldygKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgQ29sb3IzLmZyb21SR0IoMTIwLCA4MCwgMjAwKSksCiAgICAgICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMSwgQ29sb3IzLmZyb21SR0IoNzAsIDQwLCAxNDApKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGdyYWRpZW50LlBhcmVudCA9IGZyYW1lCgogICAgICAgICAgICAgICAgLS0gTGFiZWwKICAgICAgICAgICAgICAgIGxvY2FsIGxhYmVsID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQogICAgICAgICAgICAgICAgbGFiZWwuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgbGFiZWwuUGFyZW50ID0gZnJhbWUKICAgICAgICAgICAgICAgIGxhYmVsLlNpemUgPSBVRGltMi5uZXcoMC40LCAwLCAxLCAwKQogICAgICAgICAgICAgICAgbGFiZWwuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMTAsIDAsIDApCiAgICAgICAgICAgICAgICBsYWJlbC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgbGFiZWwuVGV4dCA9ICJIaXRib3ggRXhwYW5kZXIiCiAgICAgICAgICAgICAgICBsYWJlbC5Gb250ID0gRW51bS5Gb250LkdvdGhhbUJvbGQKICAgICAgICAgICAgICAgIGxhYmVsLlRleHRTaXplID0gMTEKICAgICAgICAgICAgICAgIGxhYmVsLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEsIDEsIDEpCiAgICAgICAgICAgICAgICBsYWJlbC5UZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuTGVmdAoKICAgICAgICAgICAgICAgIC0tIElucHV0IEJveAogICAgICAgICAgICAgICAgbG9jYWwgaW5wdXRCb3ggPSBJbnN0YW5jZS5uZXcoIlRleHRCb3giKQogICAgICAgICAgICAgICAgaW5wdXRCb3guTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgaW5wdXRCb3guUGFyZW50ID0gZnJhbWUKICAgICAgICAgICAgICAgIGlucHV0Qm94LlNpemUgPSBVRGltMi5uZXcoMC4yLCAtNSwgMC44LCAwKQogICAgICAgICAgICAgICAgaW5wdXRCb3guUG9zaXRpb24gPSBVRGltMi5uZXcoMC41NCwgMCwgMC4xLCAwKQogICAgICAgICAgICAgICAgaW5wdXRCb3guQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDM1LCAzNSwgNjApCiAgICAgICAgICAgICAgICBpbnB1dEJveC5UZXh0ID0gdG9zdHJpbmcoQ09ORklHLkRlZmF1bHRTaXplKQogICAgICAgICAgICAgICAgaW5wdXRCb3guRm9udCA9IEVudW0uRm9udC5Hb3RoYW1Cb2xkCiAgICAgICAgICAgICAgICBpbnB1dEJveC5UZXh0U2l6ZSA9IDExCiAgICAgICAgICAgICAgICBpbnB1dEJveC5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxLCAxLCAxKQogICAgICAgICAgICAgICAgaW5wdXRCb3guUGxhY2Vob2xkZXJUZXh0ID0gIlNpemUiCiAgICAgICAgICAgICAgICBpbnB1dEJveC5DbGVhclRleHRPbkZvY3VzID0gZmFsc2UKCiAgICAgICAgICAgICAgICBsb2NhbCBpbnB1dENvcm5lciA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiKQogICAgICAgICAgICAgICAgaW5wdXRDb3JuZXIuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgaW5wdXRDb3JuZXIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwgNikKICAgICAgICAgICAgICAgIGlucHV0Q29ybmVyLlBhcmVudCA9IGlucHV0Qm94CgogICAgICAgICAgICAgICAgbG9jYWwgaW5wdXRTdHJva2UgPSBJbnN0YW5jZS5uZXcoIlVJU3Ryb2tlIikKICAgICAgICAgICAgICAgIGlucHV0U3Ryb2tlLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGlucHV0U3Ryb2tlLlRoaWNrbmVzcyA9IDEKICAgICAgICAgICAgICAgIGlucHV0U3Ryb2tlLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMTAwLCAxMjAsIDE1MCkKICAgICAgICAgICAgICAgIGlucHV0U3Ryb2tlLlRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgaW5wdXRTdHJva2UuQXBwbHlTdHJva2VNb2RlID0gRW51bS5BcHBseVN0cm9rZU1vZGUuQm9yZGVyCiAgICAgICAgICAgICAgICBpbnB1dFN0cm9rZS5QYXJlbnQgPSBpbnB1dEJveAoKICAgICAgICAgICAgICAgIGxvY2FsIGlucHV0UGFkZGluZyA9IEluc3RhbmNlLm5ldygiVUlQYWRkaW5nIikKICAgICAgICAgICAgICAgIGlucHV0UGFkZGluZy5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBpbnB1dFBhZGRpbmcuUGFkZGluZ0xlZnQgPSBVRGltLm5ldygwLCA1KQogICAgICAgICAgICAgICAgaW5wdXRQYWRkaW5nLlBhZGRpbmdSaWdodCA9IFVEaW0ubmV3KDAsIDUpCiAgICAgICAgICAgICAgICBpbnB1dFBhZGRpbmcuUGFyZW50ID0gaW5wdXRCb3gKCiAgICAgICAgICAgICAgICAtLSBUb2dnbGUgQnV0dG9uCiAgICAgICAgICAgICAgICBsb2NhbCBidXR0b25CRyA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQogICAgICAgICAgICAgICAgYnV0dG9uQkcuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgYnV0dG9uQkcuUGFyZW50ID0gZnJhbWUKICAgICAgICAgICAgICAgIGJ1dHRvbkJHLlNpemUgPSBVRGltMi5uZXcoMC4zLCAtMTAsIDAuOCwgMCkKICAgICAgICAgICAgICAgIGJ1dHRvbkJHLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNzMsIDAsIDAuMSwgMCkKICAgICAgICAgICAgICAgIGJ1dHRvbkJHLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigzNSwgMzUsIDYwKQoKICAgICAgICAgICAgICAgIGxvY2FsIGJ1dHRvbkNvcm5lciA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiKQogICAgICAgICAgICAgICAgYnV0dG9uQ29ybmVyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGJ1dHRvbkNvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCA2KQogICAgICAgICAgICAgICAgYnV0dG9uQ29ybmVyLlBhcmVudCA9IGJ1dHRvbkJHCgogICAgICAgICAgICAgICAgbG9jYWwgYnV0dG9uU3Ryb2tlID0gSW5zdGFuY2UubmV3KCJVSVN0cm9rZSIpCiAgICAgICAgICAgICAgICBidXR0b25TdHJva2UuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgYnV0dG9uU3Ryb2tlLlRoaWNrbmVzcyA9IDEKICAgICAgICAgICAgICAgIGJ1dHRvblN0cm9rZS5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDEyMCwgMTAwLCAxODApCiAgICAgICAgICAgICAgICBidXR0b25TdHJva2UuVHJhbnNwYXJlbmN5ID0gMC41CiAgICAgICAgICAgICAgICBidXR0b25TdHJva2UuQXBwbHlTdHJva2VNb2RlID0gRW51bS5BcHBseVN0cm9rZU1vZGUuQm9yZGVyCiAgICAgICAgICAgICAgICBidXR0b25TdHJva2UuUGFyZW50ID0gYnV0dG9uQkcKCiAgICAgICAgICAgICAgICBsb2NhbCB0b2dnbGVCdXR0b24gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5QYXJlbnQgPSBidXR0b25CRwogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHQgPSAiT0ZGIgogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLkZvbnQgPSBFbnVtLkZvbnQuRnJlZG9rYU9uZQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHRTaXplID0gMTEKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxLCAxLCAxKQoKICAgICAgICAgICAgICAgIC0tIEFwcGx5IGhpdGJveCBrZSBzZW11YSBwbGF5ZXIKICAgICAgICAgICAgICAgIGxvY2FsIGZ1bmN0aW9uIGFwcGx5SGl0Ym94KCkKICAgICAgICAgICAgICAgICAgICBmb3IgXywgcGxheWVyIGluIGlwYWlycyhQbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgaWYgcGxheWVyIH49IExvY2FsUGxheWVyIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIGNoYXJhY3RlciA9IHBsYXllci5DaGFyYWN0ZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNoYXJhY3RlciB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgaHJwID0gY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgaHJwIGFuZCBocnA6SXNBKCJCYXNlUGFydCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGNhbGwoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHJwLlNpemUgPSBWZWN0b3IzLm5ldyhjdXJyZW50U2l6ZSwgY3VycmVudFNpemUsIGN1cnJlbnRTaXplKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhycC5DYW5Db2xsaWRlID0gZmFsc2UKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLS0gVmlzdWFsIHNldHRpbmdzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgQ09ORklHLlNob3dIaXRib3ggdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBocnAuVHJhbnNwYXJlbmN5ID0gQ09ORklHLkhpdGJveFRyYW5zcGFyZW5jeQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBocnAuQ29sb3IgPSBDT05GSUcuSGl0Ym94Q29sb3IKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHJwLk1hdGVyaWFsID0gQ09ORklHLkhpdGJveE1hdGVyaWFsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBocnAuVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIC0tIFJlc3RvcmUgaGl0Ym94IG9yaWdpbmFsCiAgICAgICAgICAgICAgICBsb2NhbCBmdW5jdGlvbiByZXN0b3JlQWxsSGl0Ym94KCkKICAgICAgICAgICAgICAgICAgICBmb3IgXywgcGxheWVyIGluIGlwYWlycyhQbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgaWYgcGxheWVyIH49IExvY2FsUGxheWVyIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIGNoYXJhY3RlciA9IHBsYXllci5DaGFyYWN0ZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNoYXJhY3RlciB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgaHJwID0gY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBocnAgYW5kIGhycDpJc0EoIkJhc2VQYXJ0IikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBocnAuU2l6ZSA9IENPTkZJRy5PcmlnaW5hbFNpemUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBocnAuVHJhbnNwYXJlbmN5ID0gQ09ORklHLk9yaWdpbmFsVHJhbnNwYXJlbmN5CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHJwLkJyaWNrQ29sb3IgPSBDT05GSUcuT3JpZ2luYWxDb2xvcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhycC5NYXRlcmlhbCA9IENPTkZJRy5PcmlnaW5hbE1hdGVyaWFsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHJwLkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIC0tIFVQREFURSBMT09QICgxIENvbm5lY3Rpb24gUGVyc2lzdGVudCAtIElOSSBQRVJCQUlLQU5OWUEhKQogICAgICAgICAgICAgICAgbG9jYWwgdXBkYXRlRXZlbnQgPSBSdW5TZXJ2aWNlW0NPTkZJRy5VcGRhdGVSYXRlXSBvciBSdW5TZXJ2aWNlLlJlbmRlclN0ZXBwZWQKCiAgICAgICAgICAgICAgICBsb2NhbCByZW5kZXJDb25uZWN0aW9uID0KICAgICAgICAgICAgICAgICAgICB1cGRhdGVFdmVudDpDb25uZWN0KAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgaGl0Ym94RW5hYmxlZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseUhpdGJveCgpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgICAgIHRhYmxlLmluc2VydChjb25uZWN0aW9ucywgcmVuZGVyQ29ubmVjdGlvbikKCiAgICAgICAgICAgICAgICAtLSBJTlBVVCBCT1ggTE9HSUMKICAgICAgICAgICAgICAgIGxvY2FsIGZvY3VzQ29ubiA9CiAgICAgICAgICAgICAgICAgICAgaW5wdXRCb3guRm9jdXNlZDpDb25uZWN0KAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRCb3guVGV4dCA9ICIiCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICB0YWJsZS5pbnNlcnQoY29ubmVjdGlvbnMsIGZvY3VzQ29ubikKCiAgICAgICAgICAgICAgICBsb2NhbCBmb2N1c0xvc3RDb25uID0KICAgICAgICAgICAgICAgICAgICBpbnB1dEJveC5Gb2N1c0xvc3Q6Q29ubmVjdCgKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihlbnRlclByZXNzZWQpCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHZhbCA9IHRvbnVtYmVyKGlucHV0Qm94LlRleHQpCgogICAgICAgICAgICAgICAgICAgICAgICBpZiB2YWwgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gbWF0aC5jbGFtcCh2YWwsIENPTkZJRy5NaW5TaXplLCBDT05GSUcuTWF4U2l6ZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IG1hdGguZmxvb3IodmFsICsgMC41KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNpemUgPSB2YWwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0Qm94LlRleHQgPSB0b3N0cmluZyhjdXJyZW50U2l6ZSkKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLSBVcGRhdGUgaGl0Ym94IGxhbmdzdW5nIGppa2Egc2VkYW5nIE9OCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBoaXRib3hFbmFibGVkIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseUhpdGJveCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRCb3guVGV4dCA9IHRvc3RyaW5nKGN1cnJlbnRTaXplKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIHRhYmxlLmluc2VydChjb25uZWN0aW9ucywgZm9jdXNMb3N0Q29ubikKCiAgICAgICAgICAgICAgICAtLSBUT0dHTEUgSEFORExFUgogICAgICAgICAgICAgICAgbG9jYWwgdG9nZ2xlQ29ubiA9CiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICBoaXRib3hFbmFibGVkID0gbm90IGhpdGJveEVuYWJsZWQKICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHQgPSBoaXRib3hFbmFibGVkIGFuZCAiT04iIG9yICJPRkYiCgogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBnb2FsQ29sb3IgPSBoaXRib3hFbmFibGVkIGFuZCBDb2xvcjMuZnJvbVJHQig3MCwgMjAwLCA5MCkgb3IgQ29sb3IzLmZyb21SR0IoMzUsIDM1LCA2MCkKCiAgICAgICAgICAgICAgICAgICAgICAgIHBjYWxsKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR3ZWVuU2VydmljZTpDcmVhdGUoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbkJHLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUd2VlbkluZm8ubmV3KDAuNDAsIEVudW0uRWFzaW5nU3R5bGUuUXVhZCwgRW51bS5FYXNpbmdEaXJlY3Rpb24uT3V0KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0JhY2tncm91bmRDb2xvcjMgPSBnb2FsQ29sb3J9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTpQbGF5KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICApCgogICAgICAgICAgICAgICAgICAgICAgICAtLSBSZXN0b3JlIHNhYXQgT0ZGCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCBoaXRib3hFbmFibGVkIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RvcmVBbGxIaXRib3goKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIHRhYmxlLmluc2VydChjb25uZWN0aW9ucywgdG9nZ2xlQ29ubikKCiAgICAgICAgICAgICAgICAtLSBDTEVBTlVQCiAgICAgICAgICAgICAgICBmcmFtZS5EZXN0cm95aW5nOkNvbm5lY3QoCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICBoaXRib3hFbmFibGVkID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdG9yZUFsbEhpdGJveCgpCgogICAgICAgICAgICAgICAgICAgICAgICBmb3IgXywgY29ubiBpbiBpcGFpcnMoY29ubmVjdGlvbnMpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm46RGlzY29ubmVjdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICB0YWJsZS5jbGVhcihjb25uZWN0aW9ucykKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICByZXR1cm4gZnJhbWUKICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAtLSBQYW5nZ2lsIGZ1bmdzaQogICAgICAgICAgICBDcmVhdGVIaXRib3hFeHBhbmRlclRvZ2dsZSg1MykKCiAgICAgICAgICAgIC0tIERJQkFXQUggSU5JIFRPTUJPTCAmIEZVTkdTSSAoSW5zdGFudCBJbnRlcmFjdCkKICAgICAgICAgICAgZnVuY3Rpb24gQ3JlYXRlSW5zdGFudFByb21wdFRvZ2dsZShsYXlvdXRPcmRlcikKICAgICAgICAgICAgICAgIGxvY2FsIGNvbnRhaW5lciA9IGdldGdlbnYoKS5GbHljZXJSZWZzIGFuZCBnZXRnZW52KCkuRmx5Y2VyUmVmcy5CdXR0b25Db250YWluZXIKICAgICAgICAgICAgICAgIGlmIG5vdCBjb250YWluZXIgdGhlbgogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgbG9jYWwgcHJvbXB0RW5hYmxlZCA9IGZhbHNlCiAgICAgICAgICAgICAgICBsb2NhbCBjb25uZWN0aW9ucyA9IHt9CiAgICAgICAgICAgICAgICBsb2NhbCBkZWJvdW5jZSA9IHt9CgogICAgICAgICAgICAgICAgLS0gVUkKICAgICAgICAgICAgICAgIGxvY2FsIGZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCiAgICAgICAgICAgICAgICBmcmFtZS5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBmcmFtZS5TaXplID0gVURpbTIubmV3KDEsIC01LCAwLCAzMCkKICAgICAgICAgICAgICAgIGZyYW1lLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjMKICAgICAgICAgICAgICAgIGZyYW1lLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQogICAgICAgICAgICAgICAgZnJhbWUuQm9yZGVyU2l6ZVBpeGVsID0gMAogICAgICAgICAgICAgICAgZnJhbWUuTGF5b3V0T3JkZXIgPSBsYXlvdXRPcmRlciBvciA5OQogICAgICAgICAgICAgICAgZnJhbWUuUGFyZW50ID0gY29udGFpbmVyCgogICAgICAgICAgICAgICAgbG9jYWwgY29ybmVyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIpCiAgICAgICAgICAgICAgICBjb3JuZXIuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgY29ybmVyLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAsIDYpCiAgICAgICAgICAgICAgICBjb3JuZXIuUGFyZW50ID0gZnJhbWUKCiAgICAgICAgICAgICAgICBsb2NhbCBzdHJva2UgPSBJbnN0YW5jZS5uZXcoIlVJU3Ryb2tlIikKICAgICAgICAgICAgICAgIHN0cm9rZS5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBzdHJva2UuVGhpY2tuZXNzID0gMQogICAgICAgICAgICAgICAgc3Ryb2tlLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMTgwLCAyMDAsIDIyMCkKICAgICAgICAgICAgICAgIHN0cm9rZS5BcHBseVN0cm9rZU1vZGUgPSBFbnVtLkFwcGx5U3Ryb2tlTW9kZS5Cb3JkZXIKICAgICAgICAgICAgICAgIHN0cm9rZS5UcmFuc3BhcmVuY3kgPSAwLjQKICAgICAgICAgICAgICAgIHN0cm9rZS5QYXJlbnQgPSBmcmFtZQoKICAgICAgICAgICAgICAgIGxvY2FsIGdyYWRpZW50ID0gSW5zdGFuY2UubmV3KCJVSUdyYWRpZW50IikKICAgICAgICAgICAgICAgIGdyYWRpZW50Lk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGdyYWRpZW50LlJvdGF0aW9uID0gMTgwCiAgICAgICAgICAgICAgICBncmFkaWVudC5Db2xvciA9CiAgICAgICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZS5uZXcoCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAsIENvbG9yMy5mcm9tUkdCKDEyMCwgODAsIDIwMCkpLAogICAgICAgICAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDEsIENvbG9yMy5mcm9tUkdCKDcwLCA0MCwgMTQwKSkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBncmFkaWVudC5QYXJlbnQgPSBmcmFtZQoKICAgICAgICAgICAgICAgIGxvY2FsIGxhYmVsID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQogICAgICAgICAgICAgICAgbGFiZWwuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgbGFiZWwuUGFyZW50ID0gZnJhbWUKICAgICAgICAgICAgICAgIGxhYmVsLlNpemUgPSBVRGltMi5uZXcoMC42LCAwLCAxLCAwKQogICAgICAgICAgICAgICAgbGFiZWwuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMTAsIDAsIDApCiAgICAgICAgICAgICAgICBsYWJlbC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgbGFiZWwuVGV4dCA9ICJJbnN0YW50IEludGVyYWN0IgogICAgICAgICAgICAgICAgbGFiZWwuRm9udCA9IEVudW0uRm9udC5Hb3RoYW1Cb2xkCiAgICAgICAgICAgICAgICBsYWJlbC5UZXh0U2l6ZSA9IDExCiAgICAgICAgICAgICAgICBsYWJlbC5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxLCAxLCAxKQogICAgICAgICAgICAgICAgbGFiZWwuVGV4dFhBbGlnbm1lbnQgPSBFbnVtLlRleHRYQWxpZ25tZW50LkxlZnQKCiAgICAgICAgICAgICAgICBsb2NhbCBCdXR0b25CRyA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQogICAgICAgICAgICAgICAgQnV0dG9uQkcuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgQnV0dG9uQkcuUGFyZW50ID0gZnJhbWUKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLlNpemUgPSBVRGltMi5uZXcoMC4zLCAtMTAsIDAuOCwgMCkKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNzMsIDAsIDAuMSwgMCkKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigzNSwgMzUsIDYwKQogICAgICAgICAgICAgICAgQnV0dG9uQkcuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAuMQoKICAgICAgICAgICAgICAgIGxvY2FsIGNvcm5lcjIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIikKICAgICAgICAgICAgICAgIGNvcm5lcjIuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgY29ybmVyMi5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCA2KQogICAgICAgICAgICAgICAgY29ybmVyMi5QYXJlbnQgPSBCdXR0b25CRwoKICAgICAgICAgICAgICAgIGxvY2FsIHN0cm9rZTIgPSBJbnN0YW5jZS5uZXcoIlVJU3Ryb2tlIikKICAgICAgICAgICAgICAgIHN0cm9rZTIuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgc3Ryb2tlMi5UaGlja25lc3MgPSAxCiAgICAgICAgICAgICAgICBzdHJva2UyLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMTAwLCAxMjAsIDE1MCkKICAgICAgICAgICAgICAgIHN0cm9rZTIuVHJhbnNwYXJlbmN5ID0gMC41CiAgICAgICAgICAgICAgICBzdHJva2UyLkFwcGx5U3Ryb2tlTW9kZSA9IEVudW0uQXBwbHlTdHJva2VNb2RlLkJvcmRlcgogICAgICAgICAgICAgICAgc3Ryb2tlMi5QYXJlbnQgPSBCdXR0b25CRwoKICAgICAgICAgICAgICAgIGxvY2FsIHRvZ2dsZUJ1dHRvbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24uTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlBhcmVudCA9IEJ1dHRvbkJHCiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24uU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24uVGV4dCA9ICJPRkYiCiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24uRm9udCA9IEVudW0uRm9udC5GcmVkb2thT25lCiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24uVGV4dFNpemUgPSAxMQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEsIDEsIDEpCgogICAgICAgICAgICAgICAgLS0gQ29yZSBGdW5jdGlvbiAtIFRpZGFrIG1lbmd1YmFoIHByb3BlcnR5IGFwYXB1bgogICAgICAgICAgICAgICAgbG9jYWwgZnVuY3Rpb24gdHJpZ2dlclByb21wdChwcm9tcHQpCiAgICAgICAgICAgICAgICAgICAgaWYgbm90IHByb21wdCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGlmIGRlYm91bmNlW3Byb21wdF0gdGhlbgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgZGVib3VuY2VbcHJvbXB0XSA9IHRydWUKCiAgICAgICAgICAgICAgICAgICAgdGFzay5zcGF3bigKICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGNhbGwoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBmaXJlcHJveGltaXR5cHJvbXB0IHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcmVwcm94aW1pdHlwcm9tcHQocHJvbXB0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoMC41KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVib3VuY2VbcHJvbXB0XSA9IG5pbAogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAtLSBUb2dnbGUgSGFuZGxlcgogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICBwcm9tcHRFbmFibGVkID0gbm90IHByb21wdEVuYWJsZWQKICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHQgPSBwcm9tcHRFbmFibGVkIGFuZCAiT04iIG9yICJPRkYiCgogICAgICAgICAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUd2VlblNlcnZpY2U6Q3JlYXRlKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCdXR0b25CRywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHdlZW5JbmZvLm5ldygwLjQwKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQmFja2dyb3VuZENvbG9yMyA9IHByb21wdEVuYWJsZWQgYW5kIENvbG9yMy5mcm9tUkdCKDcwLCAyMDAsIDkwKSBvcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbG9yMy5mcm9tUkdCKDM1LCAzNSwgNjApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApOlBsYXkoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHByb21wdEVuYWJsZWQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgLS0gSGFueWEgbGlzdGVuIGtlIGV2ZW50LCB0aWRhayB1YmFoIHByb3BlcnR5IGFwYXB1bgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgaG9sZEJlZ2FuQ29ubiA9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJveGltaXR5UHJvbXB0U2VydmljZS5Qcm9tcHRCdXR0b25Ib2xkQmVnYW46Q29ubmVjdCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihwcm9tcHQsIHBsYXllcldob1RyaWdnZXJlZCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgcHJvbXB0RW5hYmxlZCBhbmQgcGxheWVyV2hvVHJpZ2dlcmVkID09IExvY2FsUGxheWVyIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXJQcm9tcHQocHJvbXB0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLmluc2VydChjb25uZWN0aW9ucywgaG9sZEJlZ2FuQ29ubikKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLS0gRGlzY29ubmVjdCBzZW11YQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIF8sIGNvbm4gaW4gaXBhaXJzKGNvbm5lY3Rpb25zKSBkbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBjYWxsKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uOkRpc2Nvbm5lY3QoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zID0ge30KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYm91bmNlID0ge30KICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICApCgogICAgICAgICAgICAgICAgLS0gQ2xlYW51cAogICAgICAgICAgICAgICAgZnJhbWUuRGVzdHJveWluZzpDb25uZWN0KAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgcHJvbXB0RW5hYmxlZCA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCBjb25uIGluIGlwYWlycyhjb25uZWN0aW9ucykgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBjYWxsKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubjpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zID0ge30KICAgICAgICAgICAgICAgICAgICAgICAgZGVib3VuY2UgPSB7fQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICBlbmQKCiAgICAgICAgICAgIC0tIFBhbmdnaWwgdG9tYm9sCiAgICAgICAgICAgIENyZWF0ZUluc3RhbnRQcm9tcHRUb2dnbGUoNTQpCgogICAgICAgICAgICAtLSBEaWJhd2FoIGluaSB0b21ib2wgJiBmdW5nc2kgKFRoaXJkIFBlcnNvbiBWaWV3KQogICAgICAgICAgICBmdW5jdGlvbiBDcmVhdGVUaGlyZFBlcnNvblRvZ2dsZShsYXlvdXRPcmRlcikKICAgICAgICAgICAgICAgIGxvY2FsIGNvbnRhaW5lciA9IGdldGdlbnYoKS5GbHljZXJSZWZzIGFuZCBnZXRnZW52KCkuRmx5Y2VyUmVmcy5CdXR0b25Db250YWluZXIKICAgICAgICAgICAgICAgIGlmIG5vdCBjb250YWluZXIgdGhlbgogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgLS0gQ09ORklHIFNFVFRJTkdTCiAgICAgICAgICAgICAgICBsb2NhbCBUaGlyZFBlcnNvbkNvbmZpZyA9IHsKICAgICAgICAgICAgICAgICAgICBNYXhab29tRGlzdGFuY2UgPSAyMDAsIC0tIEphcmFrIHpvb20gbWFrc2ltdW0gc2FhdCBUaGlyZCBQZXJzb24gT04KICAgICAgICAgICAgICAgICAgICBEZWZhdWx0TWF4Wm9vbSA9IDEyOCAtLSBKYXJhayB6b29tIGRlZmF1bHQgc2FhdCBPRkYKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAtLSBTVEFURQogICAgICAgICAgICAgICAgbG9jYWwgZW5hYmxlZCA9IGZhbHNlCiAgICAgICAgICAgICAgICBsb2NhbCBzYXZlZFN0YXRlID0gewogICAgICAgICAgICAgICAgICAgIE1heFpvb20gPSBuaWwsCiAgICAgICAgICAgICAgICAgICAgQ2FtZXJhTW9kZSA9IG5pbAogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC0tIFVJCiAgICAgICAgICAgICAgICBsb2NhbCBmcmFtZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQogICAgICAgICAgICAgICAgZnJhbWUuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgZnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygxLCAtNSwgMCwgMzApCiAgICAgICAgICAgICAgICBmcmFtZS5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC4zCiAgICAgICAgICAgICAgICBmcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKICAgICAgICAgICAgICAgIGZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDAKICAgICAgICAgICAgICAgIGZyYW1lLkxheW91dE9yZGVyID0gbGF5b3V0T3JkZXIgb3IgOTkKICAgICAgICAgICAgICAgIGZyYW1lLlBhcmVudCA9IGNvbnRhaW5lcgoKICAgICAgICAgICAgICAgIGxvY2FsIGNvcm5lciA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiKQogICAgICAgICAgICAgICAgY29ybmVyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGNvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCA2KQogICAgICAgICAgICAgICAgY29ybmVyLlBhcmVudCA9IGZyYW1lCgogICAgICAgICAgICAgICAgbG9jYWwgc3Ryb2tlID0gSW5zdGFuY2UubmV3KCJVSVN0cm9rZSIpCiAgICAgICAgICAgICAgICBzdHJva2UuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgc3Ryb2tlLlRoaWNrbmVzcyA9IDEKICAgICAgICAgICAgICAgIHN0cm9rZS5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDE4MCwgMjAwLCAyMjApCiAgICAgICAgICAgICAgICBzdHJva2UuQXBwbHlTdHJva2VNb2RlID0gRW51bS5BcHBseVN0cm9rZU1vZGUuQm9yZGVyCiAgICAgICAgICAgICAgICBzdHJva2UuVHJhbnNwYXJlbmN5ID0gMC40CiAgICAgICAgICAgICAgICBzdHJva2UuUGFyZW50ID0gZnJhbWUKCiAgICAgICAgICAgICAgICBsb2NhbCBncmFkaWVudCA9IEluc3RhbmNlLm5ldygiVUlHcmFkaWVudCIpCiAgICAgICAgICAgICAgICBncmFkaWVudC5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBncmFkaWVudC5Sb3RhdGlvbiA9IDE4MAogICAgICAgICAgICAgICAgZ3JhZGllbnQuQ29sb3IgPQogICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2UubmV3KAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLCBDb2xvcjMuZnJvbVJHQigxMjAsIDgwLCAyMDApKSwKICAgICAgICAgICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMuZnJvbVJHQig3MCwgNDAsIDE0MCkpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgZ3JhZGllbnQuUGFyZW50ID0gZnJhbWUKCiAgICAgICAgICAgICAgICBsb2NhbCBsYWJlbCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKICAgICAgICAgICAgICAgIGxhYmVsLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGxhYmVsLlBhcmVudCA9IGZyYW1lCiAgICAgICAgICAgICAgICBsYWJlbC5TaXplID0gVURpbTIubmV3KDAuNiwgMCwgMSwgMCkKICAgICAgICAgICAgICAgIGxhYmVsLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDEwLCAwLCAwKQogICAgICAgICAgICAgICAgbGFiZWwuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICAgICAgICAgIGxhYmVsLlRleHQgPSAiTm8gWm9vbSBMaW1pdCIKICAgICAgICAgICAgICAgIGxhYmVsLkZvbnQgPSBFbnVtLkZvbnQuR290aGFtQm9sZAogICAgICAgICAgICAgICAgbGFiZWwuVGV4dFNpemUgPSAxMQogICAgICAgICAgICAgICAgbGFiZWwuVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMSwgMSwgMSkKICAgICAgICAgICAgICAgIGxhYmVsLlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0CgogICAgICAgICAgICAgICAgbG9jYWwgQnV0dG9uQkcgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLlBhcmVudCA9IGZyYW1lCiAgICAgICAgICAgICAgICBCdXR0b25CRy5TaXplID0gVURpbTIubmV3KDAuMywgLTEwLCAwLjgsIDApCiAgICAgICAgICAgICAgICBCdXR0b25CRy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjczLCAwLCAwLjEsIDApCiAgICAgICAgICAgICAgICBCdXR0b25CRy5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMzUsIDM1LCA2MCkKICAgICAgICAgICAgICAgIEJ1dHRvbkJHLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjEKCiAgICAgICAgICAgICAgICBsb2NhbCBjb3JuZXIyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIpCiAgICAgICAgICAgICAgICBjb3JuZXIyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGNvcm5lcjIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwgNikKICAgICAgICAgICAgICAgIGNvcm5lcjIuUGFyZW50ID0gQnV0dG9uQkcKCiAgICAgICAgICAgICAgICBsb2NhbCBzdHJva2UyID0gSW5zdGFuY2UubmV3KCJVSVN0cm9rZSIpCiAgICAgICAgICAgICAgICBzdHJva2UyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIHN0cm9rZTIuVGhpY2tuZXNzID0gMQogICAgICAgICAgICAgICAgc3Ryb2tlMi5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDEyMCwgMTAwLCAxODApCiAgICAgICAgICAgICAgICBzdHJva2UyLlRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgc3Ryb2tlMi5BcHBseVN0cm9rZU1vZGUgPSBFbnVtLkFwcGx5U3Ryb2tlTW9kZS5Cb3JkZXIKICAgICAgICAgICAgICAgIHN0cm9rZTIuUGFyZW50ID0gQnV0dG9uQkcKCiAgICAgICAgICAgICAgICBsb2NhbCB0b2dnbGVCdXR0b24gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5QYXJlbnQgPSBCdXR0b25CRwogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHQgPSAiT0ZGIgogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLkZvbnQgPSBFbnVtLkZvbnQuRnJlZG9rYU9uZQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHRTaXplID0gMTEKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxLCAxLCAxKQoKICAgICAgICAgICAgICAgIC0tIEVOQUJMRSAvIERJU0FCTEUgRlVOQ1RJT05TCiAgICAgICAgICAgICAgICBsb2NhbCBmdW5jdGlvbiBlbmFibGVUaGlyZFBlcnNvbigpCiAgICAgICAgICAgICAgICAgICAgaWYgbm90IHNhdmVkU3RhdGUuTWF4Wm9vbSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVkU3RhdGUuTWF4Wm9vbSA9IExvY2FsUGxheWVyLkNhbWVyYU1heFpvb21EaXN0YW5jZQogICAgICAgICAgICAgICAgICAgICAgICBzYXZlZFN0YXRlLkNhbWVyYU1vZGUgPSBMb2NhbFBsYXllci5DYW1lcmFNb2RlCiAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgIHBjYWxsKAogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2NhbFBsYXllci5DYW1lcmFNb2RlID0gRW51bS5DYW1lcmFNb2RlLkNsYXNzaWMKICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvY2FsUGxheWVyLkNhbWVyYU1heFpvb21EaXN0YW5jZSA9IFRoaXJkUGVyc29uQ29uZmlnLk1heFpvb21EaXN0YW5jZQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICBsb2NhbCBmdW5jdGlvbiBkaXNhYmxlVGhpcmRQZXJzb24oKQogICAgICAgICAgICAgICAgICAgIHBjYWxsKAogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2NhbFBsYXllci5DYW1lcmFNYXhab29tRGlzdGFuY2UgPSBzYXZlZFN0YXRlLk1heFpvb20gb3IgVGhpcmRQZXJzb25Db25maWcuRGVmYXVsdE1heFpvb20KICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvY2FsUGxheWVyLkNhbWVyYU1vZGUgPSBzYXZlZFN0YXRlLkNhbWVyYU1vZGUgb3IgRW51bS5DYW1lcmFNb2RlLkNsYXNzaWMKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgLS0gVE9HR0xFIEhBTkRMRVIKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5Nb3VzZUJ1dHRvbjFDbGljazpDb25uZWN0KAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlZCA9IG5vdCBlbmFibGVkCiAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5UZXh0ID0gZW5hYmxlZCBhbmQgIk9OIiBvciAiT0ZGIgoKICAgICAgICAgICAgICAgICAgICAgICAgVHdlZW5TZXJ2aWNlOkNyZWF0ZSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJ1dHRvbkJHLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgVHdlZW5JbmZvLm5ldygwLjQwKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtCYWNrZ3JvdW5kQ29sb3IzID0gZW5hYmxlZCBhbmQgQ29sb3IzLmZyb21SR0IoNzAsIDIwMCwgOTApIG9yIENvbG9yMy5mcm9tUkdCKDM1LCAzNSwgNjApfQogICAgICAgICAgICAgICAgICAgICAgICApOlBsYXkoKQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgZW5hYmxlZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVUaGlyZFBlcnNvbigpCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVUaGlyZFBlcnNvbigpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICBlbmQKCiAgICAgICAgICAgIC0tIElOSVQKICAgICAgICAgICAgQ3JlYXRlVGhpcmRQZXJzb25Ub2dnbGUoNTUpCgogICAgICAgICAgICAtLSBESUJBV0FIIElOSSBUT01CT0wgJiBGVU5HU0kgKFNwZWVkIEJvb3N0KQogICAgICAgICAgICAtLSBDT05GSUcgU0VUVElOR1MgKEVESVQgREkgU0lOSSkKICAgICAgICAgICAgbG9jYWwgU3BlZWRCb29zdENvbmZpZyA9IHsKICAgICAgICAgICAgICAgIC0tIE11bHRpcGxpZXIgU2V0dGluZ3MKICAgICAgICAgICAgICAgIERlZmF1bHRNdWx0aXBsaWVyID0gMSwKICAgICAgICAgICAgICAgIE1pbk11bHRpcGxpZXIgPSAxLAogICAgICAgICAgICAgICAgTWF4TXVsdGlwbGllciA9IDEwMDAsCiAgICAgICAgICAgICAgICAtLSBTcGVlZCBMaW1pdCBTZXR0aW5ncwogICAgICAgICAgICAgICAgTWF4Qm9udXNTcGVlZCA9IDEyNiwKICAgICAgICAgICAgICAgIE1heFRvdGFsU3BlZWQgPSAxNDgsCiAgICAgICAgICAgICAgICAtLSBNb3ZlbWVudCBTZXR0aW5ncwogICAgICAgICAgICAgICAgU21vb3RoRmFjdG9yID0gMC45LAogICAgICAgICAgICAgICAgLS0gU2FmZXR5IFNldHRpbmdzCiAgICAgICAgICAgICAgICBFbmFibGVTcGVlZENhcCA9IHRydWUKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLS0gU1BFRUQgQk9PU1RFUiBGVU5DVElPTgogICAgICAgICAgICBmdW5jdGlvbiBDcmVhdGVCb29zdFNwZWVkVG9nZ2xlKGxheW91dE9yZGVyKQogICAgICAgICAgICAgICAgbG9jYWwgY29udGFpbmVyID0gZ2V0Z2VudigpLkZseWNlclJlZnMgYW5kIGdldGdlbnYoKS5GbHljZXJSZWZzLkJ1dHRvbkNvbnRhaW5lcgogICAgICAgICAgICAgICAgaWYgbm90IGNvbnRhaW5lciB0aGVuCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAtLSBTdGF0ZSBWYXJpYWJsZXMKICAgICAgICAgICAgICAgIGxvY2FsIEJvb3N0U3BlZWQgPSBmYWxzZQogICAgICAgICAgICAgICAgbG9jYWwgZ2FtZURlZmF1bHRTcGVlZCA9IG5pbAogICAgICAgICAgICAgICAgbG9jYWwgYm9vc3RNdWx0aXBsaWVyID0gU3BlZWRCb29zdENvbmZpZy5EZWZhdWx0TXVsdGlwbGllcgogICAgICAgICAgICAgICAgbG9jYWwgY29ubmVjdGlvbnMgPSB7fQogICAgICAgICAgICAgICAgbG9jYWwgaXNEZXRlY3RlZCA9IGZhbHNlCiAgICAgICAgICAgICAgICBsb2NhbCBsYXN0UG9zaXRpb24gPSBuaWwKCiAgICAgICAgICAgICAgICAtLSBVSSBGUkFNRQogICAgICAgICAgICAgICAgbG9jYWwgZnJhbWUgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKICAgICAgICAgICAgICAgIGZyYW1lLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGZyYW1lLlNpemUgPSBVRGltMi5uZXcoMSwgLTUsIDAsIDMwKQogICAgICAgICAgICAgICAgZnJhbWUuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAuMwogICAgICAgICAgICAgICAgZnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCiAgICAgICAgICAgICAgICBmcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAwCiAgICAgICAgICAgICAgICBmcmFtZS5MYXlvdXRPcmRlciA9IGxheW91dE9yZGVyIG9yIDcKICAgICAgICAgICAgICAgIGZyYW1lLlBhcmVudCA9IGNvbnRhaW5lcgoKICAgICAgICAgICAgICAgIGxvY2FsIGZyYW1lQ29ybmVyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIpCiAgICAgICAgICAgICAgICBmcmFtZUNvcm5lci5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBmcmFtZUNvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCA2KQogICAgICAgICAgICAgICAgZnJhbWVDb3JuZXIuUGFyZW50ID0gZnJhbWUKCiAgICAgICAgICAgICAgICBsb2NhbCBmcmFtZVN0cm9rZSA9IEluc3RhbmNlLm5ldygiVUlTdHJva2UiKQogICAgICAgICAgICAgICAgZnJhbWVTdHJva2UuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgZnJhbWVTdHJva2UuVGhpY2tuZXNzID0gMQogICAgICAgICAgICAgICAgZnJhbWVTdHJva2UuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigxODAsIDIwMCwgMjIwKQogICAgICAgICAgICAgICAgZnJhbWVTdHJva2UuQXBwbHlTdHJva2VNb2RlID0gRW51bS5BcHBseVN0cm9rZU1vZGUuQm9yZGVyCiAgICAgICAgICAgICAgICBmcmFtZVN0cm9rZS5UcmFuc3BhcmVuY3kgPSAwLjQKICAgICAgICAgICAgICAgIGZyYW1lU3Ryb2tlLlBhcmVudCA9IGZyYW1lCgogICAgICAgICAgICAgICAgbG9jYWwgZ3JhZGllbnQgPSBJbnN0YW5jZS5uZXcoIlVJR3JhZGllbnQiKQogICAgICAgICAgICAgICAgZ3JhZGllbnQuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgZ3JhZGllbnQuUm90YXRpb24gPSAxODAKICAgICAgICAgICAgICAgIGdyYWRpZW50LkNvbG9yID0KICAgICAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlLm5ldygKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgQ29sb3IzLmZyb21SR0IoMTIwLCA4MCwgMjAwKSksCiAgICAgICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMSwgQ29sb3IzLmZyb21SR0IoNzAsIDQwLCAxNDApKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGdyYWRpZW50LlBhcmVudCA9IGZyYW1lCgogICAgICAgICAgICAgICAgbG9jYWwgbGFiZWwgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCiAgICAgICAgICAgICAgICBsYWJlbC5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBsYWJlbC5QYXJlbnQgPSBmcmFtZQogICAgICAgICAgICAgICAgbGFiZWwuU2l6ZSA9IFVEaW0yLm5ldygwLjQsIDAsIDEsIDApCiAgICAgICAgICAgICAgICBsYWJlbC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAxMCwgMCwgMCkKICAgICAgICAgICAgICAgIGxhYmVsLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICBsYWJlbC5UZXh0ID0gIlNwZWVkIEJvb3N0ZXIiCiAgICAgICAgICAgICAgICBsYWJlbC5Gb250ID0gRW51bS5Gb250LkdvdGhhbUJvbGQKICAgICAgICAgICAgICAgIGxhYmVsLlRleHRTaXplID0gMTEKICAgICAgICAgICAgICAgIGxhYmVsLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEsIDEsIDEpCiAgICAgICAgICAgICAgICBsYWJlbC5UZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuTGVmdAoKICAgICAgICAgICAgICAgIGxvY2FsIGlucHV0Qm94ID0gSW5zdGFuY2UubmV3KCJUZXh0Qm94IikKICAgICAgICAgICAgICAgIGlucHV0Qm94Lk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGlucHV0Qm94LlBhcmVudCA9IGZyYW1lCiAgICAgICAgICAgICAgICBpbnB1dEJveC5TaXplID0gVURpbTIubmV3KDAuMiwgLTUsIDAuOCwgMCkKICAgICAgICAgICAgICAgIGlucHV0Qm94LlBvc2l0aW9uID0gVURpbTIubmV3KDAuNTQsIDAsIDAuMSwgMCkKICAgICAgICAgICAgICAgIGlucHV0Qm94LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigzNSwgMzUsIDYwKQogICAgICAgICAgICAgICAgaW5wdXRCb3guVGV4dCA9IHRvc3RyaW5nKFNwZWVkQm9vc3RDb25maWcuRGVmYXVsdE11bHRpcGxpZXIpCiAgICAgICAgICAgICAgICBpbnB1dEJveC5Gb250ID0gRW51bS5Gb250LkdvdGhhbUJvbGQKICAgICAgICAgICAgICAgIGlucHV0Qm94LlRleHRTaXplID0gMTEKICAgICAgICAgICAgICAgIGlucHV0Qm94LlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEsIDEsIDEpCiAgICAgICAgICAgICAgICBpbnB1dEJveC5QbGFjZWhvbGRlclRleHQgPSAiTXVsdGkiCiAgICAgICAgICAgICAgICBpbnB1dEJveC5DbGVhclRleHRPbkZvY3VzID0gZmFsc2UKCiAgICAgICAgICAgICAgICBsb2NhbCBpbnB1dENvcm5lciA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiKQogICAgICAgICAgICAgICAgaW5wdXRDb3JuZXIuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgaW5wdXRDb3JuZXIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwgNikKICAgICAgICAgICAgICAgIGlucHV0Q29ybmVyLlBhcmVudCA9IGlucHV0Qm94CgogICAgICAgICAgICAgICAgbG9jYWwgaW5wdXRTdHJva2UgPSBJbnN0YW5jZS5uZXcoIlVJU3Ryb2tlIikKICAgICAgICAgICAgICAgIGlucHV0U3Ryb2tlLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGlucHV0U3Ryb2tlLlRoaWNrbmVzcyA9IDEKICAgICAgICAgICAgICAgIGlucHV0U3Ryb2tlLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMTAwLCAxMjAsIDE1MCkKICAgICAgICAgICAgICAgIGlucHV0U3Ryb2tlLlRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICAgICAgaW5wdXRTdHJva2UuQXBwbHlTdHJva2VNb2RlID0gRW51bS5BcHBseVN0cm9rZU1vZGUuQm9yZGVyCiAgICAgICAgICAgICAgICBpbnB1dFN0cm9rZS5QYXJlbnQgPSBpbnB1dEJveAoKICAgICAgICAgICAgICAgIGxvY2FsIGlucHV0UGFkZGluZyA9IEluc3RhbmNlLm5ldygiVUlQYWRkaW5nIikKICAgICAgICAgICAgICAgIGlucHV0UGFkZGluZy5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgICAgICBpbnB1dFBhZGRpbmcuUGFkZGluZ0xlZnQgPSBVRGltLm5ldygwLCA1KQogICAgICAgICAgICAgICAgaW5wdXRQYWRkaW5nLlBhZGRpbmdSaWdodCA9IFVEaW0ubmV3KDAsIDUpCiAgICAgICAgICAgICAgICBpbnB1dFBhZGRpbmcuUGFyZW50ID0gaW5wdXRCb3gKCiAgICAgICAgICAgICAgICBsb2NhbCBidXR0b25CRyA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQogICAgICAgICAgICAgICAgYnV0dG9uQkcuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgYnV0dG9uQkcuUGFyZW50ID0gZnJhbWUKICAgICAgICAgICAgICAgIGJ1dHRvbkJHLlNpemUgPSBVRGltMi5uZXcoMC4zLCAtMTAsIDAuOCwgMCkKICAgICAgICAgICAgICAgIGJ1dHRvbkJHLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNzMsIDAsIDAuMSwgMCkKICAgICAgICAgICAgICAgIGJ1dHRvbkJHLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigzNSwgMzUsIDYwKQoKICAgICAgICAgICAgICAgIGxvY2FsIGJ1dHRvbkNvcm5lciA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiKQogICAgICAgICAgICAgICAgYnV0dG9uQ29ybmVyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIGJ1dHRvbkNvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCA2KQogICAgICAgICAgICAgICAgYnV0dG9uQ29ybmVyLlBhcmVudCA9IGJ1dHRvbkJHCgogICAgICAgICAgICAgICAgbG9jYWwgYnV0dG9uU3Ryb2tlID0gSW5zdGFuY2UubmV3KCJVSVN0cm9rZSIpCiAgICAgICAgICAgICAgICBidXR0b25TdHJva2UuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICAgICAgYnV0dG9uU3Ryb2tlLlRoaWNrbmVzcyA9IDEKICAgICAgICAgICAgICAgIGJ1dHRvblN0cm9rZS5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDEyMCwgMTAwLCAxODApCiAgICAgICAgICAgICAgICBidXR0b25TdHJva2UuVHJhbnNwYXJlbmN5ID0gMC41CiAgICAgICAgICAgICAgICBidXR0b25TdHJva2UuQXBwbHlTdHJva2VNb2RlID0gRW51bS5BcHBseVN0cm9rZU1vZGUuQm9yZGVyCiAgICAgICAgICAgICAgICBidXR0b25TdHJva2UuUGFyZW50ID0gYnV0dG9uQkcKCiAgICAgICAgICAgICAgICBsb2NhbCB0b2dnbGVCdXR0b24gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5QYXJlbnQgPSBidXR0b25CRwogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHQgPSAiT0ZGIgogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLkZvbnQgPSBFbnVtLkZvbnQuRnJlZG9rYU9uZQogICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHRTaXplID0gMTEKICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxLCAxLCAxKQoKICAgICAgICAgICAgICAgIC0tIENPUkUgRlVOQ1RJT05TCiAgICAgICAgICAgICAgICBsb2NhbCBmdW5jdGlvbiBnZXRIdW1hbm9pZCgpCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgY2hhciA9IExvY2FsUGxheWVyLkNoYXJhY3RlcgogICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFyIGFuZCBjaGFyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKQogICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgbG9jYWwgZnVuY3Rpb24gZ2V0Um9vdFBhcnQoKQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGNoYXIgPSBMb2NhbFBsYXllci5DaGFyYWN0ZXIKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hhciBhbmQgKGNoYXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBvciBjaGFyOkZpbmRGaXJzdENoaWxkKCJUb3JzbyIpKQogICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgbG9jYWwgZnVuY3Rpb24gc2V0dXBDaGFyYWN0ZXIoY2hhcmFjdGVyKQogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBjaGFyYWN0ZXIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgaHVtYW5vaWQgPSBjaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZCIsIDEwKQogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBodW1hbm9pZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICBpZiBub3QgaXNEZXRlY3RlZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgwLjEpCiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVEZWZhdWx0U3BlZWQgPSBodW1hbm9pZC5XYWxrU3BlZWQKICAgICAgICAgICAgICAgICAgICAgICAgaXNEZXRlY3RlZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIC0tIFNQRUVEIENBTENVTEFUSU9OIFdJVEggTElNSVRTCiAgICAgICAgICAgICAgICBsb2NhbCBmdW5jdGlvbiBjYWxjdWxhdGVCb251c1NwZWVkKGJhc2VTcGVlZCkKICAgICAgICAgICAgICAgICAgICBsb2NhbCBib251c1NwZWVkID0gYmFzZVNwZWVkICogKGJvb3N0TXVsdGlwbGllciAtIDEpCgogICAgICAgICAgICAgICAgICAgIGlmIFNwZWVkQm9vc3RDb25maWcuRW5hYmxlU3BlZWRDYXAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBib251c1NwZWVkID0gbWF0aC5taW4oYm9udXNTcGVlZCwgU3BlZWRCb29zdENvbmZpZy5NYXhCb251c1NwZWVkKQoKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdG90YWxTcGVlZCA9IGJhc2VTcGVlZCArIGJvbnVzU3BlZWQKICAgICAgICAgICAgICAgICAgICAgICAgaWYgdG90YWxTcGVlZCA+IFNwZWVkQm9vc3RDb25maWcuTWF4VG90YWxTcGVlZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib251c1NwZWVkID0gU3BlZWRCb29zdENvbmZpZy5NYXhUb3RhbFNwZWVkIC0gYmFzZVNwZWVkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib251c1NwZWVkID0gbWF0aC5tYXgoYm9udXNTcGVlZCwgMCkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgIHJldHVybiBib251c1NwZWVkCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAtLSBJTklUSUFMIFNFVFVQCiAgICAgICAgICAgICAgICB0YXNrLnNwYXduKAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgY2hhciA9IExvY2FsUGxheWVyLkNoYXJhY3RlciBvciBMb2NhbFBsYXllci5DaGFyYWN0ZXJBZGRlZDpXYWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgc2V0dXBDaGFyYWN0ZXIoY2hhcikKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICAtLSBFVkVOVCBDT05ORUNUSU9OUwogICAgICAgICAgICAgICAgbG9jYWwgY2hhckFkZGVkQ29ubiA9CiAgICAgICAgICAgICAgICAgICAgTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyQWRkZWQ6Q29ubmVjdCgKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihjaGFyYWN0ZXIpCiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgwLjEpCiAgICAgICAgICAgICAgICAgICAgICAgIHNldHVwQ2hhcmFjdGVyKGNoYXJhY3RlcikKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIHRhYmxlLmluc2VydChjb25uZWN0aW9ucywgY2hhckFkZGVkQ29ubikKCiAgICAgICAgICAgICAgICBsb2NhbCBmb2N1c0Nvbm4gPQogICAgICAgICAgICAgICAgICAgIGlucHV0Qm94LkZvY3VzZWQ6Q29ubmVjdCgKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0Qm94LlRleHQgPSAiIgogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgdGFibGUuaW5zZXJ0KGNvbm5lY3Rpb25zLCBmb2N1c0Nvbm4pCgogICAgICAgICAgICAgICAgbG9jYWwgZm9jdXNMb3N0Q29ubiA9CiAgICAgICAgICAgICAgICAgICAgaW5wdXRCb3guRm9jdXNMb3N0OkNvbm5lY3QoCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oZW50ZXJQcmVzc2VkKQogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2YWwgPSB0b251bWJlcihpbnB1dEJveC5UZXh0KQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgdmFsIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IG1hdGguY2xhbXAodmFsLCBTcGVlZEJvb3N0Q29uZmlnLk1pbk11bHRpcGxpZXIsIFNwZWVkQm9vc3RDb25maWcuTWF4TXVsdGlwbGllcikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb3N0TXVsdGlwbGllciA9IHZhbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRCb3guVGV4dCA9IHRvc3RyaW5nKGJvb3N0TXVsdGlwbGllcikKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRCb3guVGV4dCA9IHRvc3RyaW5nKGJvb3N0TXVsdGlwbGllcikKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICB0YWJsZS5pbnNlcnQoY29ubmVjdGlvbnMsIGZvY3VzTG9zdENvbm4pCgogICAgICAgICAgICAgICAgLS0gVG9nZ2xlIEJ1dHRvbgogICAgICAgICAgICAgICAgbG9jYWwgdG9nZ2xlQ29ubiA9CiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICBCb29zdFNwZWVkID0gbm90IEJvb3N0U3BlZWQKICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHQgPSBCb29zdFNwZWVkIGFuZCAiT04iIG9yICJPRkYiCgogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBnb2FsQ29sb3IgPSBCb29zdFNwZWVkIGFuZCBDb2xvcjMuZnJvbVJHQig3MCwgMjAwLCA5MCkgb3IgQ29sb3IzLmZyb21SR0IoMzUsIDM1LCA2MCkKCiAgICAgICAgICAgICAgICAgICAgICAgIHBjYWxsKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR3ZWVuU2VydmljZTpDcmVhdGUoYnV0dG9uQkcsIFR3ZWVuSW5mby5uZXcoMC40MCksIHtCYWNrZ3JvdW5kQ29sb3IzID0gZ29hbENvbG9yfSk6UGxheSgKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIHRhYmxlLmluc2VydChjb25uZWN0aW9ucywgdG9nZ2xlQ29ubikKCiAgICAgICAgICAgICAgICAtLSBNQUlOIE1PVkVNRU5UIExPT1AKICAgICAgICAgICAgICAgIGxvY2FsIGhlYXJ0YmVhdENvbm4gPQogICAgICAgICAgICAgICAgICAgIFJ1blNlcnZpY2UuSGVhcnRiZWF0OkNvbm5lY3QoCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oZGVsdGFUaW1lKQogICAgICAgICAgICAgICAgICAgICAgICBpZiBub3QgQm9vc3RTcGVlZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0UG9zaXRpb24gPSBuaWwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIGh1bWFub2lkID0gZ2V0SHVtYW5vaWQoKQogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCByb290UGFydCA9IGdldFJvb3RQYXJ0KCkKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCBodW1hbm9pZCBvciBub3Qgcm9vdFBhcnQgb3IgaHVtYW5vaWQuSGVhbHRoIDw9IDAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFBvc2l0aW9uID0gbmlsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgICAgICAtLSBVcGRhdGUgZ2FtZSBkZWZhdWx0IHNwZWVkIGppa2EgYmVsdW0gdGVyZGV0ZWtzaQogICAgICAgICAgICAgICAgICAgICAgICBpZiBub3QgaXNEZXRlY3RlZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lRGVmYXVsdFNwZWVkID0gaHVtYW5vaWQuV2Fsa1NwZWVkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0RldGVjdGVkID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIG1vdmVEaXJlY3Rpb24gPSBodW1hbm9pZC5Nb3ZlRGlyZWN0aW9uCgogICAgICAgICAgICAgICAgICAgICAgICBpZiBtb3ZlRGlyZWN0aW9uLk1hZ25pdHVkZSA+IDAuMSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBiYXNlU3BlZWQgPSBnYW1lRGVmYXVsdFNwZWVkIG9yIDE2CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBib251c1NwZWVkID0gY2FsY3VsYXRlQm9udXNTcGVlZChiYXNlU3BlZWQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBtb3ZlT2Zmc2V0ID0gbW92ZURpcmVjdGlvbi5Vbml0ICogYm9udXNTcGVlZCAqIGRlbHRhVGltZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgY3VycmVudFBvcyA9IHJvb3RQYXJ0LlBvc2l0aW9uCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB0YXJnZXRQb3MgPSBjdXJyZW50UG9zICsgVmVjdG9yMy5uZXcobW92ZU9mZnNldC5YLCAwLCBtb3ZlT2Zmc2V0LlopCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBzbW9vdGhlZFBvcyA9IGN1cnJlbnRQb3M6TGVycCh0YXJnZXRQb3MsIFNwZWVkQm9vc3RDb25maWcuU21vb3RoRmFjdG9yKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgY2hhcmFjdGVyID0gTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBjaGFyYWN0ZXIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIGRlbHRhID0gc21vb3RoZWRQb3MgLSBjdXJyZW50UG9zCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyOlRyYW5zbGF0ZUJ5KFZlY3RvcjMubmV3KGRlbHRhLlgsIDAsIGRlbHRhLlopKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFBvc2l0aW9uID0gc21vb3RoZWRQb3MKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFBvc2l0aW9uID0gbmlsCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgdGFibGUuaW5zZXJ0KGNvbm5lY3Rpb25zLCBoZWFydGJlYXRDb25uKQoKICAgICAgICAgICAgICAgIC0tIENMRUFOVVAKICAgICAgICAgICAgICAgIGZyYW1lLkRlc3Ryb3lpbmc6Q29ubmVjdCgKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgIEJvb3N0U3BlZWQgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICBsYXN0UG9zaXRpb24gPSBuaWwKCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBfLCBjb25uIGluIGlwYWlycyhjb25uZWN0aW9ucykgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBjYWxsKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubjpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLmNsZWFyKGNvbm5lY3Rpb25zKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICBlbmQKCiAgICAgICAgICAgIC0tIFBBTkdHSUwgRlVOQ1RJT04KICAgICAgICAgICAgQ3JlYXRlQm9vc3RTcGVlZFRvZ2dsZSg1NSkKCiAgICAgICAgICAgIC0tIFtESUJBV0FIIERTVCBBREFMQUggV0FURVJNQVJLIERMTF0KICAgICAgICAgICAgLS0gV2F0ZXJtYXJrIEZseWNlcgogICAgICAgICAgICBsb2NhbCBmbHljZXJUZXh0ID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQogICAgICAgICAgICBmbHljZXJUZXh0Lk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgZmx5Y2VyVGV4dC5QYXJlbnQgPSBnZXRnZW52KCkuRmx5Y2VyTWFpbkZyYW1lCiAgICAgICAgICAgIGZseWNlclRleHQuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgNCwgMCwgMjE4KQogICAgICAgICAgICBmbHljZXJUZXh0LlNpemUgPSBVRGltMi5uZXcoMCwgMTA1LCAwLCAxNSkKICAgICAgICAgICAgZmx5Y2VyVGV4dC5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoODgsIDEwMSwgMjQyKQogICAgICAgICAgICBmbHljZXJUZXh0LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjQKICAgICAgICAgICAgZmx5Y2VyVGV4dC5Cb3JkZXJTaXplUGl4ZWwgPSAwCiAgICAgICAgICAgIGZseWNlclRleHQuVGV4dCA9ICLimqEgVVBEQVRFRCAyMDI2LTAxLTI4IOKaoSIKICAgICAgICAgICAgZmx5Y2VyVGV4dC5Gb250ID0gRW51bS5Gb250LkZyZWRva2FPbmUKICAgICAgICAgICAgZmx5Y2VyVGV4dC5UZXh0U2l6ZSA9IDgKICAgICAgICAgICAgZmx5Y2VyVGV4dC5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxLCAxLCAxKQogICAgICAgICAgICBmbHljZXJUZXh0LlpJbmRleCA9IDUKCiAgICAgICAgICAgIGxvY2FsIGZseWNlckNvcm5lciA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiKQogICAgICAgICAgICBmbHljZXJDb3JuZXIuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICBmbHljZXJDb3JuZXIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwgOCkKICAgICAgICAgICAgZmx5Y2VyQ29ybmVyLlBhcmVudCA9IGZseWNlclRleHQKCiAgICAgICAgICAgIC0tIERpYmF3YWggaW5pIFRvbWJvbCBDb3B5IERpc2NvcmQKICAgICAgICAgICAgbG9jYWwgZGlzY29yZEJ1dHRvbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCiAgICAgICAgICAgIGRpc2NvcmRCdXR0b24uTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICBkaXNjb3JkQnV0dG9uLlBhcmVudCA9IGdldGdlbnYoKS5GbHljZXJNYWluRnJhbWUKICAgICAgICAgICAgZGlzY29yZEJ1dHRvbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAxNzYsIDAsIDIxOCkKICAgICAgICAgICAgZGlzY29yZEJ1dHRvbi5TaXplID0gVURpbTIubmV3KDAsIDYwLCAwLCAxNSkKICAgICAgICAgICAgZGlzY29yZEJ1dHRvbi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoODgsIDEwMSwgMjQyKQogICAgICAgICAgICBkaXNjb3JkQnV0dG9uLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjQKICAgICAgICAgICAgZGlzY29yZEJ1dHRvbi5UZXh0ID0gIkRJU0NPUkQiCiAgICAgICAgICAgIGRpc2NvcmRCdXR0b24uRm9udCA9IEVudW0uRm9udC5GcmVkb2thT25lCiAgICAgICAgICAgIGRpc2NvcmRCdXR0b24uVGV4dFNpemUgPSAxMQogICAgICAgICAgICBkaXNjb3JkQnV0dG9uLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEsIDEsIDEpCiAgICAgICAgICAgIGRpc2NvcmRCdXR0b24uQXV0b0J1dHRvbkNvbG9yID0gZmFsc2UKICAgICAgICAgICAgZGlzY29yZEJ1dHRvbi5Cb3JkZXJTaXplUGl4ZWwgPSAwCgogICAgICAgICAgICBsb2NhbCBjb3JuZXIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIikKICAgICAgICAgICAgY29ybmVyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgY29ybmVyLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAsIDgpCiAgICAgICAgICAgIGNvcm5lci5QYXJlbnQgPSBkaXNjb3JkQnV0dG9uCgogICAgICAgICAgICAtLSBEYXRhIGxpbmsgZGlzY29yZAogICAgICAgICAgICBsb2NhbCBkaXNjb3JkTGluayA9ICJodHRwczovL2Rpc2NvcmQuZ2cvNDJycU52d0ttdyIKICAgICAgICAgICAgbG9jYWwgb3JpZ2luYWxUZXh0ID0gIkRJU0NPUkQiCiAgICAgICAgICAgIGxvY2FsIG9yaWdpbmFsQ29sb3IgPSBkaXNjb3JkQnV0dG9uLkJhY2tncm91bmRDb2xvcjMKCiAgICAgICAgICAgIC0tIERldGVrc2kgcGxhdGZvcm0gKFBDIGF0YXUgTW9iaWxlKQogICAgICAgICAgICBsb2NhbCBpc01vYmlsZSA9IFVzZXJJbnB1dFNlcnZpY2UuVG91Y2hFbmFibGVkIGFuZCBub3QgVXNlcklucHV0U2VydmljZS5LZXlib2FyZEVuYWJsZWQKCiAgICAgICAgICAgIC0tIERlYm91bmNlIHVudHVrIG1lbmNlZ2FoIGRvdWJsZSBjbGljawogICAgICAgICAgICBsb2NhbCBpc0NsaWNraW5nID0gZmFsc2UKCiAgICAgICAgICAgIGxvY2FsIGZ1bmN0aW9uIHJlc2V0QnV0dG9uKCkKICAgICAgICAgICAgICAgIGxvY2FsIHR3ZWVuID0KICAgICAgICAgICAgICAgICAgICBUd2VlblNlcnZpY2U6Q3JlYXRlKAogICAgICAgICAgICAgICAgICAgIGRpc2NvcmRCdXR0b24sCiAgICAgICAgICAgICAgICAgICAgVHdlZW5JbmZvLm5ldygwLjMpLAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgQmFja2dyb3VuZENvbG9yMyA9IG9yaWdpbmFsQ29sb3IKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICB0d2VlbjpQbGF5KCkKICAgICAgICAgICAgICAgIHRhc2suZGVsYXkoCiAgICAgICAgICAgICAgICAgICAgMC4zLAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgZGlzY29yZEJ1dHRvbi5UZXh0ID0gb3JpZ2luYWxUZXh0CiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgbG9jYWwgZnVuY3Rpb24gaGFuZGxlRGlzY29yZENsaWNrKCkKICAgICAgICAgICAgICAgIGlmIGlzQ2xpY2tpbmcgdGhlbgogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBpc0NsaWNraW5nID0gdHJ1ZQoKICAgICAgICAgICAgICAgIHBjYWxsKAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgY2xpcGJvYXJkU3VjY2VzcyA9IGZhbHNlCgogICAgICAgICAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBzZXRjbGlwYm9hcmQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjbGlwYm9hcmQoZGlzY29yZExpbmspCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaXBib2FyZFN1Y2Nlc3MgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIHRvY2xpcGJvYXJkIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9jbGlwYm9hcmQoZGlzY29yZExpbmspCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaXBib2FyZFN1Y2Nlc3MgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIENsaXBib2FyZCBhbmQgQ2xpcGJvYXJkLnNldCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENsaXBib2FyZC5zZXQoZGlzY29yZExpbmspCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaXBib2FyZFN1Y2Nlc3MgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgY2xpcGJvYXJkU3VjY2VzcyB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3JkQnV0dG9uLlRleHQgPSAiQ09QSUVEIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY29yZEJ1dHRvbi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoNzAsIDIwMCwgOTApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNob3dOb3RpZmljYXRpb24oCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGl0bGUgPSAiRmx5Y2VyIE5vdGlmaWNhdGlvbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVzY3JpcHRpb24gPSAiRGlzY29yZCBJbnZpdGUgbGluayBjb3BpZWQhIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEdXJhdGlvbiA9IDQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JhZGllbnQxID0gQ29sb3IzLmZyb21SR0IoODgsIDEwMSwgMjQyKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcmFkaWVudDIgPSBDb2xvcjMuZnJvbVJHQig1MCwgNjAsIDE4MCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3JkQnV0dG9uLlRleHQgPSAiTElOSyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvcmRCdXR0b24uQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyMCwgMTMwLCAyNTUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNob3dOb3RpZmljYXRpb24oCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGl0bGUgPSAiRmx5Y2VyIE5vdGlmaWNhdGlvbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVzY3JpcHRpb24gPSAiRGlzY29yZCBJbnZpdGUgbGluayBjb3BpZWQhIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEdXJhdGlvbiA9IDQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JhZGllbnQxID0gQ29sb3IzLmZyb21SR0IoODgsIDEwMSwgMjQyKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcmFkaWVudDIgPSBDb2xvcjMuZnJvbVJHQig1MCwgNjAsIDE4MCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2suZGVsYXkoMS41LCByZXNldEJ1dHRvbikKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICB0YXNrLmRlbGF5KAogICAgICAgICAgICAgICAgICAgIDIsCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICBpc0NsaWNraW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAtLSBFdmVudCB1bnR1ayBQQyAoTW91c2UgQ2xpY2spCiAgICAgICAgICAgIGRpc2NvcmRCdXR0b24uTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdChoYW5kbGVEaXNjb3JkQ2xpY2spCgogICAgICAgICAgICAtLSBFdmVudCB0YW1iYWhhbiB1bnR1ayBNb2JpbGUgKFRvdWNoKQogICAgICAgICAgICBkaXNjb3JkQnV0dG9uLlRvdWNoVGFwOkNvbm5lY3QoaGFuZGxlRGlzY29yZENsaWNrKQoKICAgICAgICAgICAgLS0gSG92ZXIgZWZmZWN0IHVudHVrIFBDCiAgICAgICAgICAgIGlmIG5vdCBpc01vYmlsZSB0aGVuCiAgICAgICAgICAgICAgICBkaXNjb3JkQnV0dG9uLk1vdXNlRW50ZXI6Q29ubmVjdCgKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgIFR3ZWVuU2VydmljZTpDcmVhdGUoZGlzY29yZEJ1dHRvbiwgVHdlZW5JbmZvLm5ldygwLjIpLCB7QmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAuMn0pOlBsYXkoKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgICAgIGRpc2NvcmRCdXR0b24uTW91c2VMZWF2ZTpDb25uZWN0KAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgVHdlZW5TZXJ2aWNlOkNyZWF0ZShkaXNjb3JkQnV0dG9uLCBUd2VlbkluZm8ubmV3KDAuMiksIHtCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC40fSk6UGxheSgpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgLS0gRGliYXdhaCBpbmkgdG9tYm9sICYgZnVuZ3NpIChET05BVEUpCiAgICAgICAgICAgIGxvY2FsIGRvbmF0ZUJ1dHRvbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCiAgICAgICAgICAgIGRvbmF0ZUJ1dHRvbi5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgIGRvbmF0ZUJ1dHRvbi5QYXJlbnQgPSBnZXRnZW52KCkuRmx5Y2VyTWFpbkZyYW1lCiAgICAgICAgICAgIGRvbmF0ZUJ1dHRvbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAxMTMsIDAsIDIxOCkKICAgICAgICAgICAgZG9uYXRlQnV0dG9uLlNpemUgPSBVRGltMi5uZXcoMCwgNjAsIDAsIDE1KQogICAgICAgICAgICBkb25hdGVCdXR0b24uQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMTM4LCA3NikKICAgICAgICAgICAgZG9uYXRlQnV0dG9uLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjQKICAgICAgICAgICAgZG9uYXRlQnV0dG9uLlRleHQgPSAiU1VQUE9SVCIKICAgICAgICAgICAgZG9uYXRlQnV0dG9uLkZvbnQgPSBFbnVtLkZvbnQuRnJlZG9rYU9uZQogICAgICAgICAgICBkb25hdGVCdXR0b24uVGV4dFNpemUgPSAxMQogICAgICAgICAgICBkb25hdGVCdXR0b24uVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMSwgMSwgMSkKICAgICAgICAgICAgZG9uYXRlQnV0dG9uLkF1dG9CdXR0b25Db2xvciA9IGZhbHNlCiAgICAgICAgICAgIGRvbmF0ZUJ1dHRvbi5Cb3JkZXJTaXplUGl4ZWwgPSAwCgogICAgICAgICAgICBsb2NhbCBjb3JuZXIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIikKICAgICAgICAgICAgY29ybmVyLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgY29ybmVyLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAsIDgpCiAgICAgICAgICAgIGNvcm5lci5QYXJlbnQgPSBkb25hdGVCdXR0b24KCiAgICAgICAgICAgIC0tIERhdGEgbGluayBkb25hdGUKICAgICAgICAgICAgbG9jYWwgZG9uYXRlTGluayA9ICJodHRwczovL3Nhd2VyaWEuY28vS3lvdWthcmEiCiAgICAgICAgICAgIGxvY2FsIG9yaWdpbmFsVGV4dCA9ICJTVVBQT1JUIgogICAgICAgICAgICBsb2NhbCBvcmlnaW5hbENvbG9yID0gZG9uYXRlQnV0dG9uLkJhY2tncm91bmRDb2xvcjMKCiAgICAgICAgICAgIC0tIERldGVrc2kgcGxhdGZvcm0gKFBDIGF0YXUgTW9iaWxlKQogICAgICAgICAgICBsb2NhbCBpc01vYmlsZSA9IFVzZXJJbnB1dFNlcnZpY2UuVG91Y2hFbmFibGVkIGFuZCBub3QgVXNlcklucHV0U2VydmljZS5LZXlib2FyZEVuYWJsZWQKCiAgICAgICAgICAgIC0tIERlYm91bmNlIHVudHVrIG1lbmNlZ2FoIGRvdWJsZSBjbGljawogICAgICAgICAgICBsb2NhbCBpc0NsaWNraW5nID0gZmFsc2UKCiAgICAgICAgICAgIGxvY2FsIGZ1bmN0aW9uIHJlc2V0QnV0dG9uKCkKICAgICAgICAgICAgICAgIGxvY2FsIHR3ZWVuID0KICAgICAgICAgICAgICAgICAgICBUd2VlblNlcnZpY2U6Q3JlYXRlKAogICAgICAgICAgICAgICAgICAgIGRvbmF0ZUJ1dHRvbiwKICAgICAgICAgICAgICAgICAgICBUd2VlbkluZm8ubmV3KDAuMyksCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBCYWNrZ3JvdW5kQ29sb3IzID0gb3JpZ2luYWxDb2xvcgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIHR3ZWVuOlBsYXkoKQogICAgICAgICAgICAgICAgdGFzay5kZWxheSgKICAgICAgICAgICAgICAgICAgICAwLjMsCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICBkb25hdGVCdXR0b24uVGV4dCA9IG9yaWdpbmFsVGV4dAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICBlbmQKCiAgICAgICAgICAgIGxvY2FsIGZ1bmN0aW9uIGhhbmRsZURvbmF0ZUNsaWNrKCkKICAgICAgICAgICAgICAgIGlmIGlzQ2xpY2tpbmcgdGhlbgogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBpc0NsaWNraW5nID0gdHJ1ZQoKICAgICAgICAgICAgICAgIHBjYWxsKAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgY2xpcGJvYXJkU3VjY2VzcyA9IGZhbHNlCgogICAgICAgICAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBzZXRjbGlwYm9hcmQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRjbGlwYm9hcmQoZG9uYXRlTGluaykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpcGJvYXJkU3VjY2VzcyA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgdG9jbGlwYm9hcmQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2NsaXBib2FyZChkb25hdGVMaW5rKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGlwYm9hcmRTdWNjZXNzID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiBDbGlwYm9hcmQgYW5kIENsaXBib2FyZC5zZXQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDbGlwYm9hcmQuc2V0KGRvbmF0ZUxpbmspCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaXBib2FyZFN1Y2Nlc3MgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgY2xpcGJvYXJkU3VjY2VzcyB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25hdGVCdXR0b24uVGV4dCA9ICJDT1BJRUQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25hdGVCdXR0b24uQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDcwLCAyMDAsIDkwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGNhbGwoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaG93Tm90aWZpY2F0aW9uKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRpdGxlID0gIkZseWNlciBOb3RpZmljYXRpb24iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlc2NyaXB0aW9uID0gIlNhd2VyaWEgbGluayBjb3BpZWQhIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEdXJhdGlvbiA9IDQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JhZGllbnQxID0gQ29sb3IzLmZyb21SR0IoMjU1LCAxMzgsIDc2KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcmFkaWVudDIgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDkwLCA1MCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25hdGVCdXR0b24uVGV4dCA9ICJMSU5LIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9uYXRlQnV0dG9uLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDE4MCwgMTAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGNhbGwoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaG93Tm90aWZpY2F0aW9uKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRpdGxlID0gIkZseWNlciBOb3RpZmljYXRpb24iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlc2NyaXB0aW9uID0gIlNhd2VyaWEgbGluayBjb3BpZWQhIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEdXJhdGlvbiA9IDQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JhZGllbnQxID0gQ29sb3IzLmZyb21SR0IoMjU1LCAxMzgsIDc2KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcmFkaWVudDIgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDkwLCA1MCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2suZGVsYXkoMS41LCByZXNldEJ1dHRvbikKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICB0YXNrLmRlbGF5KAogICAgICAgICAgICAgICAgICAgIDIsCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICBpc0NsaWNraW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAtLSBFdmVudCB1bnR1ayBQQyAoTW91c2UgQ2xpY2spCiAgICAgICAgICAgIGRvbmF0ZUJ1dHRvbi5Nb3VzZUJ1dHRvbjFDbGljazpDb25uZWN0KGhhbmRsZURvbmF0ZUNsaWNrKQoKICAgICAgICAgICAgLS0gRXZlbnQgdGFtYmFoYW4gdW50dWsgTW9iaWxlIChUb3VjaCkKICAgICAgICAgICAgZG9uYXRlQnV0dG9uLlRvdWNoVGFwOkNvbm5lY3QoaGFuZGxlRG9uYXRlQ2xpY2spCgogICAgICAgICAgICAtLSBIb3ZlciBlZmZlY3QgdW50dWsgUEMKICAgICAgICAgICAgaWYgbm90IGlzTW9iaWxlIHRoZW4KICAgICAgICAgICAgICAgIGRvbmF0ZUJ1dHRvbi5Nb3VzZUVudGVyOkNvbm5lY3QoCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICBUd2VlblNlcnZpY2U6Q3JlYXRlKGRvbmF0ZUJ1dHRvbiwgVHdlZW5JbmZvLm5ldygwLjIpLCB7QmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAuMn0pOlBsYXkoKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgICAgIGRvbmF0ZUJ1dHRvbi5Nb3VzZUxlYXZlOkNvbm5lY3QoCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICBUd2VlblNlcnZpY2U6Q3JlYXRlKGRvbmF0ZUJ1dHRvbiwgVHdlZW5JbmZvLm5ldygwLjIpLCB7QmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAuNH0pOlBsYXkoKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICBlbmQKCiAgICAgICAgICAgIC0tIERJQkFXQUggSU5JIFRPTUJPTCAmIEZVTkdTSSAoT1BFTi9ISURFIEdVSSkKICAgICAgICAgICAgbG9jYWwgQ29yZUd1aSA9IGdhbWU6R2V0U2VydmljZSgiQ29yZUd1aSIpCiAgICAgICAgICAgIGxvY2FsIG1haW5WaXNpYmxlID0gdHJ1ZQogICAgICAgICAgICBsb2NhbCBoaWRkZW5UYWcgPSAiU3lzdGVtU3RhdGUiCgogICAgICAgICAgICAtLSBTQUZFIFBBUkVOVAogICAgICAgICAgICBsb2NhbCBmdW5jdGlvbiBnZXRVbml2ZXJzYWxTYWZlUGFyZW50KCkKICAgICAgICAgICAgICAgIGxvY2FsIGd1aU5hbWUgPSAiRXhwZXJpZW5jZVNldHRpbmdzIgoKICAgICAgICAgICAgICAgIC0tIGhhcHVzIGd1aSBsYW1hCiAgICAgICAgICAgICAgICBwY2FsbCgKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIG9sZCA9IENvcmVHdWk6RmluZEZpcnN0Q2hpbGQoZ3VpTmFtZSkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgb2xkIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZDpEZXN0cm95KCkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICApCgogICAgICAgICAgICAgICAgbG9jYWwgc2cgPSBJbnN0YW5jZS5uZXcoIlNjcmVlbkd1aSIpCiAgICAgICAgICAgICAgICBzZy5OYW1lID0gZ3VpTmFtZQogICAgICAgICAgICAgICAgc2cuUmVzZXRPblNwYXduID0gZmFsc2UKICAgICAgICAgICAgICAgIHNnLklnbm9yZUd1aUluc2V0ID0gdHJ1ZQogICAgICAgICAgICAgICAgc2cuRGlzcGxheU9yZGVyID0gOTk5OQogICAgICAgICAgICAgICAgc2cuUGFyZW50ID0gQ29yZUd1aQoKICAgICAgICAgICAgICAgIHJldHVybiBzZwogICAgICAgICAgICBlbmQKCiAgICAgICAgICAgIGxvY2FsIFNhZmVQYXJlbnQgPSBnZXRVbml2ZXJzYWxTYWZlUGFyZW50KCkKICAgICAgICAgICAgZ2V0Z2VudigpLkZseWNlcl9TYWZlUGFyZW50ID0gU2FmZVBhcmVudAoKICAgICAgICAgICAgLS0gRlJBTUUgVE9HR0xFCiAgICAgICAgICAgIGxvY2FsIFRvZ2dsZUZyYW1lID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKICAgICAgICAgICAgVG9nZ2xlRnJhbWUuTmFtZSA9IHJhbmRvbU5hbWUoKQogICAgICAgICAgICBUb2dnbGVGcmFtZS5TaXplID0gVURpbTIubmV3KDAsIDg1LCAwLCAzMikKICAgICAgICAgICAgVG9nZ2xlRnJhbWUuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMjAsIDAsIDEyMCkKICAgICAgICAgICAgVG9nZ2xlRnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE1LCAwLCAyMCkKICAgICAgICAgICAgVG9nZ2xlRnJhbWUuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAuNAogICAgICAgICAgICBUb2dnbGVGcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAwCiAgICAgICAgICAgIFRvZ2dsZUZyYW1lLkFjdGl2ZSA9IHRydWUKICAgICAgICAgICAgVG9nZ2xlRnJhbWUuVGV4dCA9ICIiCiAgICAgICAgICAgIFRvZ2dsZUZyYW1lLlpJbmRleCA9IDEwCiAgICAgICAgICAgIFRvZ2dsZUZyYW1lOlNldEF0dHJpYnV0ZShoaWRkZW5UYWcsIHRydWUpCiAgICAgICAgICAgIFRvZ2dsZUZyYW1lLlBhcmVudCA9IFNhZmVQYXJlbnQKCiAgICAgICAgICAgIC0tIFVJIERFQ09SQVRJT04KICAgICAgICAgICAgbG9jYWwgY29ybmVyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIpCiAgICAgICAgICAgIGNvcm5lci5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgIGNvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCAxNikKICAgICAgICAgICAgY29ybmVyLlBhcmVudCA9IFRvZ2dsZUZyYW1lCgogICAgICAgICAgICBsb2NhbCBzdHJva2UgPSBJbnN0YW5jZS5uZXcoIlVJU3Ryb2tlIikKICAgICAgICAgICAgc3Ryb2tlLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgc3Ryb2tlLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoODAsIDEyMCwgMjU1KQogICAgICAgICAgICBzdHJva2UuVGhpY2tuZXNzID0gMgogICAgICAgICAgICBzdHJva2UuVHJhbnNwYXJlbmN5ID0gMC40CiAgICAgICAgICAgIHN0cm9rZS5BcHBseVN0cm9rZU1vZGUgPSBFbnVtLkFwcGx5U3Ryb2tlTW9kZS5Cb3JkZXIKICAgICAgICAgICAgc3Ryb2tlLlBhcmVudCA9IFRvZ2dsZUZyYW1lCgogICAgICAgICAgICAtLSBJQ09OCiAgICAgICAgICAgIGxvY2FsIFRvZ2dsZUljb24gPSBJbnN0YW5jZS5uZXcoIkltYWdlTGFiZWwiKQogICAgICAgICAgICBUb2dnbGVJY29uLk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgVG9nZ2xlSWNvbi5TaXplID0gVURpbTIubmV3KDAsIDI0LCAwLCAyNCkKICAgICAgICAgICAgVG9nZ2xlSWNvbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCA2LCAwLCA0KQogICAgICAgICAgICBUb2dnbGVJY29uLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgIFRvZ2dsZUljb24uSW1hZ2UgPSAicmJ4YXNzZXRpZDovLzg5NTU3ODk4NDU3OTc3IgogICAgICAgICAgICBUb2dnbGVJY29uLkltYWdlQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjMwLCAyMzAsIDI1NSkKICAgICAgICAgICAgVG9nZ2xlSWNvbi5aSW5kZXggPSAxMQogICAgICAgICAgICBUb2dnbGVJY29uLlBhcmVudCA9IFRvZ2dsZUZyYW1lCgogICAgICAgICAgICAtLSBESVZJREVSCiAgICAgICAgICAgIGxvY2FsIERpdmlkZXIgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKICAgICAgICAgICAgRGl2aWRlci5OYW1lID0gcmFuZG9tTmFtZSgpCiAgICAgICAgICAgIERpdmlkZXIuU2l6ZSA9IFVEaW0yLm5ldygwLCAxLCAwLCAyNCkKICAgICAgICAgICAgRGl2aWRlci5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAzMiwgMCwgNCkKICAgICAgICAgICAgRGl2aWRlci5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTIwLCAxNjAsIDI1NSkKICAgICAgICAgICAgRGl2aWRlci5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC40CiAgICAgICAgICAgIERpdmlkZXIuQm9yZGVyU2l6ZVBpeGVsID0gMAogICAgICAgICAgICBEaXZpZGVyLlpJbmRleCA9IDExCiAgICAgICAgICAgIERpdmlkZXIuUGFyZW50ID0gVG9nZ2xlRnJhbWUKCiAgICAgICAgICAgIC0tIFRFWFQgSElERQogICAgICAgICAgICBsb2NhbCBUb2dnbGVUZXh0ID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQogICAgICAgICAgICBUb2dnbGVUZXh0Lk5hbWUgPSByYW5kb21OYW1lKCkKICAgICAgICAgICAgVG9nZ2xlVGV4dC5TaXplID0gVURpbTIubmV3KDEsIC00MiwgMSwgMCkKICAgICAgICAgICAgVG9nZ2xlVGV4dC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCA0MiwgMCwgMCkKICAgICAgICAgICAgVG9nZ2xlVGV4dC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICBUb2dnbGVUZXh0LlRleHQgPSAiSElERSIKICAgICAgICAgICAgVG9nZ2xlVGV4dC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjMwLCAyMzAsIDI1NSkKICAgICAgICAgICAgVG9nZ2xlVGV4dC5Gb250ID0gRW51bS5Gb250LkZyZWRva2FPbmUKICAgICAgICAgICAgVG9nZ2xlVGV4dC5UZXh0U2l6ZSA9IDEzCiAgICAgICAgICAgIFRvZ2dsZVRleHQuVGV4dFhBbGlnbm1lbnQgPSBFbnVtLlRleHRYQWxpZ25tZW50LkxlZnQKICAgICAgICAgICAgVG9nZ2xlVGV4dC5UZXh0WUFsaWdubWVudCA9IEVudW0uVGV4dFlBbGlnbm1lbnQuQ2VudGVyCiAgICAgICAgICAgIFRvZ2dsZVRleHQuWkluZGV4ID0gMTEKICAgICAgICAgICAgVG9nZ2xlVGV4dC5QYXJlbnQgPSBUb2dnbGVGcmFtZQoKICAgICAgICAgICAgLS0gRFJBRyBHTE9CQUwKICAgICAgICAgICAgaWYgbWFrZURyYWdnYWJsZSB0aGVuCiAgICAgICAgICAgICAgICBtYWtlRHJhZ2dhYmxlKFRvZ2dsZUZyYW1lKQogICAgICAgICAgICBlbmQKCiAgICAgICAgICAgIC0tIFRPR0dMRSBGVU5DVElPTgogICAgICAgICAgICBsb2NhbCBmdW5jdGlvbiB0b2dnbGVHVUkoKQogICAgICAgICAgICAgICAgbWFpblZpc2libGUgPSBub3QgbWFpblZpc2libGUKCiAgICAgICAgICAgICAgICBpZiBNYWluRnJhbWUgdGhlbgogICAgICAgICAgICAgICAgICAgIE1haW5GcmFtZS5WaXNpYmxlID0gbWFpblZpc2libGUKICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIFRvZ2dsZVRleHQuVGV4dCA9IG1haW5WaXNpYmxlIGFuZCAiSElERSIgb3IgIk9QRU4iCiAgICAgICAgICAgICAgICBUb2dnbGVJY29uLkltYWdlVHJhbnNwYXJlbmN5ID0gbWFpblZpc2libGUgYW5kIDAgb3IgMC4yNQogICAgICAgICAgICBlbmQKCiAgICAgICAgICAgIC0tIENMSUNLIE9OTFkKICAgICAgICAgICAgVG9nZ2xlRnJhbWUuTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdCh0b2dnbGVHVUkpCiAgICAgICAgZW5kIC0tIGVuZCBPbkNvbXBsZXRlIGZ1bmN0aW9uCiAgICB9CikK"

local _FLYCER_EXECUTE = function()
    local decoded = _FLYCER_DECODE(_FLYCER_DATA)
    local func = loadstring(decoded)
    if func then
        func()
    end
end

-- [FLYCER SECURITY CHECK]
local _s = {
    ["e727010f"] = true,
    ["3c526e08"] = true,
    ["3bda5efd"] = true
}

-- Execute protected code
_FLYCER_EXECUTE()

-- [FLYCER END] --
